---
title: 名前空間と型の参照範囲 (C++/CX)
ms.date: 12/30/2016
ms.assetid: cbc01a3a-3b69-4ded-9c42-ecbf0fd0a00e
ms.openlocfilehash: 78d5f5af761cef985ec43cf448251b4dc3c70bc2
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/25/2020
ms.locfileid: "88837802"
---
# <a name="namespaces-and-type-visibility-ccx-"></a>名前空間と型の参照範囲 (C++/CX)

名前空間は、関連する機能を持つ型をグループ化し、ライブラリ内での名前の衝突を回避するための、標準の C++ 構造体です。 Windows ランタイム型システムでは、独自のコードに含まれるすべてのパブリック Windows ランタイム型を名前空間スコープの名前空間で宣言する必要があります。 パブリック型をグローバル スコープで宣言したり、別のクラスの中に入れ子にしたりすると、コンパイル時エラーが発生します。

.winmd ファイルには、ルート名前空間と同じ名前が必要です。 たとえば、A.B.C.MyClass という名前のクラスは、A.winmd または A.B.winmd または A.B.C.winmd という名前のメタデータ ファイルで定義されている場合のみインスタンス化できます。 実行可能ファイルの名前が .winmd ファイル名と一致する必要はありません。

## <a name="type-visibility"></a>型の可視性

名前空間では、標準 C++ 型とは異なり、Windows ランタイム型は、プライベートまたはパブリックアクセシビリティを持ちます。 既定では、アクセシビリティはプライベートです。 メタデータから参照できるのはパブリック型だけです。したがって、C++ 以外の言語で記述されている可能性もあるコンポーネントとアプリから利用できるのもパブリック型だけです。 一般に、参照可能な型の規則は、参照できない型の規則よりも制限的です。これは、.NET 言語および JavaScript でサポートされていない C++ 固有の概念を参照可能な型が公開できないためです。

> [!NOTE]
> .NET 言語および JavaScript がメタデータを利用できるのは、実行時のみです。 C ++ アプリまたはコンポーネントが、他の C ++ アプリまたはコンポーネント (これには、すべて C++ で記述された Windows コンポーネントも含まれます) と通信中のときは、メタデータの実行時利用は不要です。

## <a name="member-accessibility-and-visibility"></a>メンバーのアクセシビリティおよび可視性

プライベートの ref クラス、インターフェイス、またはデリゲートでは、パブリック アクセシビリティがあっても、メンバーはメタデータには出力されません。 パブリック ref クラスでは、ソース コードでのアクセシビリティとは無関係に、メタデータのメンバーの可視性を制御できます。 標準 C++ と同様に、最小特権の基本原則を適用します。絶対にそうする必要がある場合を除き、メタデータでメンバーを可視にしないでください。

次のアクセス修飾子を使用して、メタデータの可視性およびソース コード アクセシビリティを制御します。

| 修飾子 | 意味 | メタデータに出力されるか。 |
|--|--|--|
| **`private`** | 既定のアクセシビリティ。 標準 C++ の場合と同じ意味です。 | いいえ |
| **`protected`** | 標準 C++ の場合と同じ意味であり、アプリまたはコンポーネント内およびメタデータ内では両方。 | はい |
| **`public`** | 標準 C++ の場合と同じ意味です。 | はい |
| **`public protected`** もしくは **`protected public`** | メタデータでは保護されたアクセシビリティ、アプリまたはコンポーネント内ではパブリック。 | はい |
| **`protected private`** または **`private protected`** | メタデータでは非可視。アプリまたはコンポーネント内では保護されたアクセシビリティ。 |  |
| **`internal`** または **`private public`** | メンバーは、アプリまたはコンポーネント内ではパブリックですが、メタデータでは非可視です。 | いいえ |

## <a name="windows-runtime-namespaces"></a>名前空間の Windows ランタイム

Windows API は、Windows:: 名前空間で宣言された型で構成され \* ます。 これらの名前空間は Windows 用に予約されており、それらの名前空間に型を追加できません。 **オブジェクト ブラウザー**では、windows.winmd ファイル内でこれらの名前空間を表示できます。 これらの名前空間に関するドキュメントについては、「 [Windows API](/uwp/api/)」を参照してください。

## <a name="ccx-namespaces"></a>C++/CX 名前空間

C++/CX では、Windows ランタイム型システムの射影の一部として、これらの名前空間の特定の型が定義されます。

| 名前空間 | 説明 |
|--|--|
| default | 組み込みの数値型と char16 型を格納します。 これらの型はすべての名前空間のスコープ内にあり、 **`using`** ステートメントは必要ありません。 |
| `Platform` | には、主に、、、などの Windows ランタイム型に対応するパブリック型が含まれてい `Array<T>` `String` `Guid` `Boolean` ます。 また、 `Platform::Agile<T>` および `Platform::Box<T>`などの、特殊なヘルパー型も含まれます。 |
| `Platform::Collections` | Windows ランタイム collection インターフェイスを実装する具象コレクションクラス (など) が含まれてい `IVector` `IMap` ます。 これらの型は、platform.winmd ではなく、ヘッダー ファイル、collection.h で定義されます。 |
| `Platform::Details` | コンパイラによって使用され、パブリックでの使用を意図されていない型を格納します。 |

## <a name="see-also"></a>関連項目

[型システム (C++/CX)](../cppcx/type-system-c-cx.md)
