---
title: C28193
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C28193
helpviewer_keywords:
- C28193
ms.assetid: 1db205f2-618c-4285-98b5-641b3ad8f10f
ms.openlocfilehash: f834b9e55a7409e29f58086a39b78a04f6f99827
ms.sourcegitcommit: 7bea0420d0e476287641edeb33a9d5689a98cb98
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/17/2020
ms.locfileid: "79465236"
---
# <a name="c28193"></a>C28193

> 警告 C28193: 変数は検証が必要な値を保持しています

この警告は、呼び出し元の関数が、関数によって提供された指定された変数の値をチェックしていないことを示します。 戻り値は `_Check_return_` 注釈で注釈が付けられますが、呼び出し元の関数が値を使用していないか、または値を検査せずに上書きしています。

この警告は、警告[C6031](../code-quality/c6031.md)に似ていますが、コードが変数の値 (比較で使用するなど) をテストまたは検査しない場合にのみ報告されます。 この警告を回避するために、値を割り当てるだけでは十分な検査とは見なされません。 関数からの結果のエイリアスは十分な検査と見なされますが、結果自体には `_Check_return_`で注釈を付ける必要があります。

一部の関数 (`strlen`など) は、その戻り値に対してほぼ排他的に存在するので、`_Check_return_` 注釈を持つことに意味があります。 これらの関数では、戻り値が使用されていない場合に、コード分析ツールによってこの警告が報告されることがあります。 これは通常、コードが正しくないことを示しています。たとえば、削除可能な残余コードが含まれている可能性があります。 ただし、まれに、戻り値が意図的に使用されない場合があります。 これらのインスタンスのうち最も一般的なのは、文字列の長さが返され、他のテストが行われる前に実際には使用されない場合です。 その他のテストでは、文字列の長さが使用されなくなると、パスがシミュレートされます。 この問題が発生した場合、コードは正しいのですが、非効率的である可能性があります。

戻り値が使用されていない場合は、次の2つの主要な方法で対処できます。

文字列の長さが、必要なパスに沿ってのみ返されるように、コードの順序を変更します。

警告を非表示にするには、`#pragma` 警告を使用します。コードの順序を変更すると、コードが複雑になったり、それ以外の場合には役に立たなくなります。

## <a name="example"></a>例

次のコード例では、この警告が生成されます。

```cpp
IoGetDmaAdapter(pPDO, &DevDesc, &nMapRegs);
//...
```

次のコード例では、この警告は生成されません。

```cpp
IoGetDmaAdapter(pPDO, &DevDesc, &nMapRegs);
//...
if (nMapRegs < MIN_REQUIRED_MAPS) {
//...
}
```
