---
title: 'テクニカル ノート 23: MFC の標準リソース'
ms.date: 11/04/2016
helpviewer_keywords:
- resources [MFC]
- TN023
- standard resources
ms.assetid: 60af8415-c576-4c2f-a711-ca5da0b9a1f2
ms.openlocfilehash: 90e7b9b7c354ba919c3dee279725b4498bea57ff
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/14/2020
ms.locfileid: "81370382"
---
# <a name="tn023-standard-mfc-resources"></a>テクニカル ノート 23: MFC の標準リソース

このノートでは、MFC ライブラリに付属および必要とされる標準リソースについて説明します。

## <a name="standard-resources"></a>標準リソース

MFC には、アプリケーションで使用できる定義済みのリソースの 2 つのカテゴリ (クリップ アート リソースと標準フレームワーク リソース) が用意されています。

クリップ アート リソースは、フレームワークが依存しないが、アプリケーションのユーザー インターフェイスに追加する追加リソースです。 次のクリップ アート リソースは、MFC の一般的なサンプル[の CLIPART](../overview/visual-cpp-samples.md)に含まれています。

- Common.rc: 次の情報を含むリソースの単一ファイル。

  - さまざまなビジネス タスクとデータ処理タスクを表すアイコンの大規模なコレクション。

  - いくつかの一般的なカーソル (Afxres.rc も参照してください)。

  - 複数のツール バー ボタンを含むツール バー ビットマップ。

  - Commdlg.dll で使用されるビットマップとアイコンのリソース。

- [<a0>]:CapsLock の"CAP"など、ステータス バーのキー状態インジケータの文字列リソースが含まれています。

- Prompts.rc: ID_FILE_NEWの 「新しいドキュメントを作成する」など、事前定義された各コマンドのメニュー プロンプト文字列リソースが含まれています。

- Commdlg.rc: 標準の COMMDLG ダイアログ テンプレートを含む Visual C++ 互換の .rc ファイル。

標準フレームワーク リソースは、内部実装に対してフレームワークが依存する AFX 定義 ID を持つリソースです。 これらの AFX 定義のリソースを変更する必要はほとんどありません。 この場合は、このトピックで後述する手順に従ってください。

MFC\INCLUDE ディレクトリには、次のフレームワーク リソースが含まれています。

- Afxres.rc: フレームワークで使用される共通リソース。

- Afxprint.rc: 印刷に固有のリソース。

- Afxolecl.rc: OLE クライアント アプリケーションに固有のリソース。

- Afxolev.rc: OLE サーバー アプリケーション全体に固有のリソースです。

## <a name="using-clip-art-resources"></a>クリップアート リソースの使用

#### <a name="to-use-a-clip-art-binary-resource"></a>クリップ アート バイナリ リソースを使用するには

1. Visual C++ でアプリケーションのリソース ファイルを開きます。

1. コモン.rc を開きます。 このファイルには、すべてのバイナリ クリップ アート リソースが含まれています。 Common.rc ファイルがコンパイルされるため、この処理には時間がかかる場合があります。

1. Ctrl キーを押しながら、使用するリソースを Common.rc からアプリケーションのリソース ファイルにドラッグします。

他のクリップアート リソースを使用する場合も、同じ手順を実行します。 唯一の違いは、Common.rc ではなく適切な .rc ファイルを開くということです。

> [!NOTE]
> Common.rc からリソースを誤って恒久的に移動しないように注意してください。 リソースをドラッグする際に Ctrl キーを押したままにすると、コピーが作成されます。 ドラッグ中に Ctrl キーを押したままにしないと、リソースが移動します。 Common.rc ファイルに誤って変更を加えた可能性がある場合は、Common.rc に変更を保存するかどうかを確認するダイアログ ボックスが表示されたら、[いいえ] をクリックします。

> [!NOTE]
> .rc リソース ファイルには特殊な TEXTINCLUDE リソースが含まれているので、標準の .rc ファイルの上に誤って保存してしまうのを防ぐことができます。

### <a name="customizing-standard-framework-resources"></a>標準フレームワークリソースのカスタマイズ

標準フレームワーク リソースは、通常、アプリケーションのリソース ファイルで #include コマンドを使用してアプリケーションに含まれます。 リソース ファイルが生成されます。 このファイルには、選択した AppWizard オプションに応じて、適切な標準フレームワーク リソースが含まれています。 コンパイル時ディレクティブを変更することで、含まれるリソースを確認、追加、または削除できます。 これを行うには、[**リソース**] メニューを開き、[**インクルードの設定**] を選択します。 「コンパイル時ディレクティブ」編集項目を見てください。 次に例を示します。

```
#include "afxres.rc"
#include "afxprint.rc"
```

標準フレームワーク リソースをカスタマイズする最も一般的なケースは、印刷、OLE クライアント、および OLE サーバーのサポート用に追加のインクルードを追加または削除することです。

まれに、ファイル全体を追加および削除するだけでなく、特定のアプリケーション用に標準フレームワーク リソースの内容をカスタマイズする必要がある場合があります。 次の手順は、含まれるリソースを制限する方法を示しています。

##### <a name="to-customize-the-contents-of-a-standard-resource-file"></a>標準リソース ファイルの内容をカスタマイズするには

1. Visual C++ でリソース ファイルを開きます。

1. [リソース セット インクルード] コマンド`#include`を使用して、カスタマイズする標準の .rc ファイルの を削除します。 たとえば、印刷プレビュー ツールバーをカスタマイズするには、行を`#include "afxprint.rc"`削除します。

1. MFC\INCLUDE で適切な標準リソース ファイルを開きます。 このトピックの前の例に従って、適切なファイルは MFC\Include\Aafxprint.rc です。

1. 標準の .rc ファイルからアプリケーション リソース ファイルにすべてのリソースをコピーします。

1. アプリケーション リソース ファイル内の標準リソースのコピーを変更します。

> [!NOTE]
> 標準の .rc ファイル内のリソースを直接変更しないでください。 これにより、現在作業しているアプリケーションだけでなく、すべてのアプリケーションで使用できるリソースが変更されます。

## <a name="see-also"></a>関連項目

[番号順テクニカル ノート](../mfc/technical-notes-by-number.md)<br/>
[カテゴリ別テクニカル ノート](../mfc/technical-notes-by-category.md)
