---
description: コマンドルーティングの図を参照してください。
title: コマンド ルーティングの図
ms.date: 11/04/2016
helpviewer_keywords:
- MFC, command routing
- command handling [MFC], routing commands
- command routing [MFC], OnCmdMsg handler
ms.assetid: 4b7b4741-565f-4878-b076-fd85c670f87f
ms.openlocfilehash: 51c5182eb1fa2a8b9666e265526e9220a9f3d4a0
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/11/2020
ms.locfileid: "97159961"
---
# <a name="command-routing-illustration"></a>コマンド ルーティングの図

例として、MDI アプリケーションの [編集] メニューの [すべてクリア] メニュー項目からのコマンドメッセージについて考えてみましょう。 このコマンドのハンドラー関数が、アプリケーションのドキュメントクラスのメンバー関数であるとします。 ユーザーがメニュー項目を選択した後、コマンドがハンドラーに到達する方法を次に示します。

1. メインフレームウィンドウは、まずコマンドメッセージを受信します。

1. メイン MDI フレームウィンドウでは、現在アクティブな MDI 子ウィンドウにコマンドを処理する機会が与えられます。

1. MDI 子フレームウィンドウの標準のルーティングでは、独自のメッセージマップを確認する前に、コマンドを使用してそのことを確認できます。

1. ビューは、まず独自のメッセージマップを確認し、ハンドラーがないことを確認します。次に、関連付けられているドキュメントにコマンドをルーティングします。

1. ドキュメントはメッセージマップを確認し、ハンドラーを見つけます。 このドキュメントメンバー関数が呼び出され、ルーティングが停止します。

ドキュメントにハンドラーがない場合は、次にドキュメントテンプレートにコマンドをルーティングします。 次に、コマンドはビューに戻り、フレームウィンドウに戻ります。 最後に、フレームウィンドウがメッセージマップをチェックします。 このチェックが失敗した場合、コマンドはメインの MDI フレームウィンドウに送り返され、次にアプリケーションオブジェクト (未処理のコマンドの最終的な宛先) に転送されます。

## <a name="see-also"></a>関連項目

[フレームワークがハンドラーを呼び出す方法](how-the-framework-calls-a-handler.md)
