---
title: 入力出力の処理に関する推奨事項
ms.date: 11/04/2016
helpviewer_keywords:
- I/O [MFC], about I/O
- file-based I/O options
- I/O [MFC]
- I/O [MFC], options
- I/O [MFC], file-based options
ms.assetid: d664b175-3b4a-40c3-b14b-39de6b12e419
ms.openlocfilehash: c365120a385c440f09f0ee4c0a2fc52afb55834f
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/14/2020
ms.locfileid: "81371737"
---
# <a name="recommendations-for-handling-inputoutput"></a>入出力処理の推奨事項

ファイルベースの I/O を使用するかどうかは、次のデシジョン ツリーの質問にどのように対応するかによって異なります。

**アプリケーションのプライマリ データはディスク ファイルに保存されますか。**

- はい、プライマリ データはディスク ファイルに格納されます。

   **アプリケーションは、ファイルを開いてメモリにファイル全体を読み取り、ファイル保存時にディスクにファイル全体を書き込みますか**

  - はい: これは MFC ドキュメントの既定の大文字と小文字です。 シリアル`CDocument`化を使用します。

  - いいえ: これは通常、ファイルのトランザクションベースの更新の場合です。 トランザクションごとにファイルを更新し、シリアル化は必要`CDocument`ありません。

- いいえ、プライマリ データはディスク ファイルに存在しません。

   **ODBC データ ソースにデータが存在しますか。**

  - はい、データは ODBC データ ソースに存在します。

      MFC のデータベース サポートを使用します。 この場合の標準 MFC 実装には`CDatabase`、MFC[で](../data/mfc-using-database-classes-with-documents-and-views.md)説明したオブジェクトが含まれています。 アプリケーションは、補助ファイルの読み取りと書き込みもできます。 この場合、補助ファイルにシリアル化を使用します。

  - いいえ、データは ODBC データ ソースに存在しません。

      この例の例: データは ODBC 以外の DBMS に存在します。データは OLE や DDE などの他のメカニズムを介して読み取られます。

      このような場合は、シリアル化を使用しませんし、アプリケーションには開くと保存のメニュー項目がありません。 MFC ODBC アプリケーションがドキュメント`CDocument`を使用してオブジェクトを格納`CRecordset`するのと同様に、 をホーム ベースとして使用する場合もあります。 ただし、フレームワークの既定のファイルの開く/保存ドキュメントのシリアル化は使用しません。

[ファイル] メニューの [開く]、[保存]、および [名前を付けて保存] コマンドをサポートするために、フレームワークはドキュメントのシリアル化を提供します。 シリアル化は、クラス`CObject`から派生したオブジェクトを含むデータを、通常はディスク ファイルの永続ストレージに読み取り、書き込みます。 シリアル化は使いやすく、多くのニーズに対応しますが、多くのデータ アクセス アプリケーションでは不適切な場合があります。 データ アクセス アプリケーションは、通常、トランザクションごとにデータを更新します。 トランザクションは、データ ファイル全体を一度に読み書きするのではなく、トランザクションの影響を受けるレコードを更新します。

シリアル化の詳細については、「[シリアル化](../mfc/serialization-in-mfc.md)」を参照してください。

## <a name="see-also"></a>関連項目

[シリアル化 : シリアル化とデータベースの入出力](../mfc/serialization-serialization-vs-database-input-output.md)
