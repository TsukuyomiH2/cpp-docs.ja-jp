---
title: CMFCToolBarButton クラス
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: 8e96740ba6755f489be07fbf8996cfa8b049314a
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/22/2020
ms.locfileid: "81754033"
---
# <a name="cmfctoolbarbutton-class"></a>CMFCToolBarButton クラス

ツール バーにボタン機能を提供します。

## <a name="syntax"></a>構文

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>メンバー

### <a name="public-constructors"></a>パブリック コンストラクター

|名前|説明|
|----------|-----------------|
|[コントロール バーボタン::CMFC ツール バー ボタン](#cmfctoolbarbutton)|`CMFCToolBarButton` オブジェクトを構築して初期化します。|
|`CMFCToolBarButton::~CMFCToolBarButton`|デストラクターです。|

### <a name="public-methods"></a>パブリック メソッド

|名前|説明|
|----------|-----------------|
|[CMFCツールバーボタン::缶ベドロップ](#canbedropped)|ユーザーがカスタマイズ時に、ツールバーまたはメニューにボタンを配置できるかどうかを指定します。|
|[CMFCツールバーボタン::缶詰](#canbestored)|ボタンを保存できるかどうかを指定します。|
|[CMFCツールバーボタン::缶詰ストレッチ](#canbestretched)|ユーザーがカスタマイズ中にボタンを伸張できるかどうかを指定します。|
|[CMFCツールバーボタン::比較と比較](#comparewith)|このインスタンスを指定された`CMFCToolBarButton`オブジェクトと比較します。|
|[CMFCツールバーボタン::コピーから](#copyfrom)|別のツール バー ボタンのプロパティを現在のボタンにコピーします。|
|[コントロール バーボタン::から取得したデータを作成します。](#createfromoledata)|指定`COleDataObject`した`CMFCToolBarButton`オブジェクトからオブジェクトを作成します。|
|`CMFCToolBarButton::CreateObject`|このクラス型の動的インスタンスを作成するために、フレームワークで使用されます。|
|[ウィンドウを有効にします。](#enablewindow)|マウス入力およびキーボード入力を有効または無効にします。|
|[メニューボタンをクリックします。](#exporttomenubutton)|ツールバー ボタンからメニューにテキストをコピーします。|
|[CMFCツールバーボタン::クリップボード形式を取得します](#getclipboardformat)|アプリケーションのグローバル クリップボード形式を取得します。|
|[コントロール バーボタン::ゲットワード](#gethwnd)|ツール バー ボタンに関連付けられているウィンドウ ハンドルを取得します。|
|[コントロール バーボタン::取得イメージ](#getimage)|ボタンのイメージ インデックスを取得します。|
|[コントロール バーボタン::取得イン検証レクト](#getinvalidaterect)|再描画する必要があるボタンのクライアント領域の領域を取得します。|
|[コントロール バーボタン::取得親の](#getparentwnd)|ボタンの親ウィンドウを取得します。|
|[コントロール バーボタン::取得保護されたコマンド](#getprotectedcommands)|ユーザーがカスタマイズできないコマンドの一覧を取得します。|
|[コントロール バーボタン::テキストサイズを取得します。](#gettextsize)|ボタン テキストのサイズを取得します。|
|[コントロール バーボタン::ハズフォーカス](#hasfocus)|ボタンに現在の入力フォーカスがあるかどうかを判断します。|
|[CMFCツールバーボタン::持っているホットボーダー](#havehotborder)|ユーザーがボタンを選択したときにボタンの境界線を表示するかどうかを指定します。|
|[コントロール バーボタン::イズドローイメージ](#isdrawimage)|ボタンにイメージを表示するかどうかを指定します。|
|[コントロール バーボタン::IsDraw テキスト](#isdrawtext)|ボタンにテキスト ラベルを表示するかどうかを指定します。|
|[コントロール バーボタン::ディスダウン](#isdroppeddown)|ボタンにサブメニューを表示するかどうかを指定します。|
|[CMFCツールバーボタン::編集可能](#iseditable)|ボタンをカスタマイズできるかどうかを決定します。|
|[コントロール バーボタン::イエクストラサイズ](#isextrasize)|ボタンを拡張枠線で表示できるかどうかを指定します。|
|[CMFCツールバーボタン::イファーストイングループ](#isfirstingroup)|ボタンがボタン グループの最初の位置にあるかどうかを判断します。|
|[CMFCツールバーボタン::イズ隠し](#ishidden)|ボタンが非表示かどうかを判断します。|
|[CMFCツールバーボタン::イス水平](#ishorizontal)|ボタンが水平ツールバー上にあるかどうかを判断します。|
|[CMFCツールバーボタン::イラストイングループ](#islastingroup)|ボタンがボタン グループの最後の位置にあるかどうかを指定します。|
|[CMFCツールバーボタン::イズロック](#islocked)|ボタンがロックされている (カスタマイズできない) ツール バー上にあるかどうかを判断します。|
|[コントロール バーボタン::イスオーナー](#isownerof)|ボタンが指定されたウィンドウ ハンドルの所有者であるかどうかを判断します。|
|[CMFCツールバーボタン::イズビジブル](#isvisible)|ツール バー ボタンを表示するかどうかを指定します。|
|[CMFCツールバーボタン::Isウィンドウビジブル](#iswindowvisible)|ボタンの基になるウィンドウ ハンドルを表示するかどうかを決定します。|
|[コントロール バーボタン::コマンドを通知します。](#notifycommand)|ボタンが[WM_COMMAND](/windows/win32/menurc/wm-command)メッセージを処理するかどうかを指定します。|
|[ページをカスタマイズする](#onaddtocustomizepage)|ボタンが **[カスタマイズ**] ダイアログ ボックスに追加されたときに、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::オン前にドラッグ](#onbeforedrag)|ボタンをドラッグできるかどうかを指定します。|
|[CMFCツールバーボタン::オン・アフォアドロップ](#onbeforedrop)|ユーザーがボタンをターゲット ツールバーにドロップできるかどうかを指定します。|
|[CMFCツールバーボタン::計算サイズ](#oncalculatesize)|指定したデバイス コンテキストとドッキング状態のボタンのサイズを計算するために、フレームワークによって呼び出されます。|
|[ボタン::キャンセルモード](#oncancelmode)|[WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode)メッセージを処理するために、フレームワークによって呼び出されます。|
|[コントロール バーボタン::オンチェンジペアレント](#onchangeparentwnd)|ボタンが新しいツール バーに挿入されたときに、フレームワークによって呼び出されます。|
|[クリック時ボタン](#onclick)|ユーザーがマウス ボタンをクリックしたときに、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::クリックアップ](#onclickup)|ユーザーがマウス ボタンを離したときに、フレームワークによって呼び出されます。|
|[ボタン::オンコンテキストヘルプ](#oncontexthelp)|親ツール バーがWM_HELPHITTEST メッセージを処理するときに、フレームワークによって呼び出されます。|
|[コントロール バーボタン::オンCtl カラー](#onctlcolor)|親ツール バーがWM_CTLCOLOR メッセージを処理するときに、フレームワークによって呼び出されます。|
|[メニューボタン::メニューのオン](#oncustomizemenu)|アプリケーションが親ツール バーにショートカット メニューを表示するときに、指定されたメニューを変更できます。|
|[CMFCツールバーボタン::オンドブルク](#ondblclk)|親ツール バーが[WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk)メッセージを処理するときに、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::オンドロー](#ondraw)|指定したスタイルとオプションを使用してボタンを描画するために、フレームワークによって呼び出されます。|
|[ボタン::オンドローオンカスタマイザ](#ondrawoncustomizelist)|[**カスタマイズ**] ダイアログ ボックスの **[コマンド**] ウィンドウにボタンを描画するために、フレームワークによって呼び出されます。|
|[ボタン::オンゲットカスタムツールヒントテキスト](#ongetcustomtooltiptext)|ボタンのカスタム ツールヒント テキストを取得するために、フレームワークによって呼び出されます。|
|[変更されたグローバルフォント](#onglobalfontschanged)|グローバル フォントが変更されたときに、フレームワークによって呼び出されます。|
|[ボタン::移動中](#onmove)|親ツール バーが移動したときに、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::オンショー](#onshow)|ボタンが表示または非表示になったときに、フレームワークによって呼び出されます。|
|[コントロール バーボタン::オンサイズ](#onsize)|親ツール バーのサイズまたは位置が変更され、この変更によってボタンのサイズを変更する必要がある場合に、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::オンツールヒットテスト](#ontoolhittest)|親ツール バーが、ポイントがボタンの外接する四角形内にあるかどうかを判断する必要がある場合に、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::オンアップデートツールチップ](#onupdatetooltip)|親ツール バーがツールヒント テキストを更新するときに、フレームワークによって呼び出されます。|
|[CMFCツールバーボタン::Pレパレドラッグ](#preparedrag)|ボタンがドラッグ アンド ドロップ操作を実行しようとしているときに、フレームワークによって呼び出されます。|
|[コントロールバーボタン::レクト](#rect)|ボタンの外接する四角形を取得します。|
|[コントロール バーボタン::デフォルト値を変更します。](#resetimagetodefault)|ボタンに関連付けられているイメージの既定値を設定します。|
|[コントロール バーボタン::バーステートを保存します。](#savebarstate)|ツール バー ボタンの状態を保存します。|
|[コントロール バーボタン::シリアル化](#serialize)|このオブジェクトをアーカイブから読み取るか、アーカイブに書き込みます。 ( [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize)をオーバーライドします)。|
|[コントロール バーボタン::セットアプデータ](#setaccdata)|ツール バー`CAccessibilityData`ボタンから、指定されたオブジェクトにアクセシビリティ データを設定します。|
|[CMFCツールバーボタン::クリップボードのフォーマット名を設定します。](#setclipboardformatname)|グローバルクリップボード形式の名前を変更します。|
|[コントロール バーボタン::セットイメージ](#setimage)|ボタンのイメージインデックスを設定します。|
|[コントロール バーボタン:::プロテクト コマンド](#setprotectedcommands)|ユーザーがカスタマイズできないコマンドのリストを設定します。|
|[コントロールバーボタン::セットラジオ](#setradio)|ボタンがチェック状態を変更したときに、フレームワークによって呼び出されます。|
|[コントロール バーボタン::セットレック](#setrect)|ボタンの外接する四角形を設定します。|
|[コントロール バーボタン::セットスタイル](#setstyle)|ボタンのスタイルを設定します。|
|[CMFCツールバーボタン::セットビジブル](#setvisible)|ボタンを表示するかどうかを指定します。|
|[CMFCツールバーボタン::ショー](#show)|ボタンの表示/非表示を切り替えます。|

### <a name="data-members"></a>データ メンバー

|名前|説明|
|----------|-----------------|
|[コントロール バーボタン::m_bImage](#m_bimage)|ボタンにイメージを表示するかどうかを指定します。|
|[コントロール バーボタン::m_bText](#m_btext)|ボタンにテキスト ラベルを表示するかどうかを指定します。|
|[コントロールバーボタン:m_bTextBelow](#m_btextbelow)|ボタンのイメージの下にテキスト ラベルを表示するかどうかを指定します。|
|[コントロール バーボタン::m_bUserButton](#m_buserbutton)|ボタンにユーザー定義のイメージがあるかどうかを指定します。|
|[コントロール バーボタン::m_bWholeText](#m_bwholetext)|外接する四角形に収まらない場合でも、ボタンに完全なテキスト ラベルを表示するかどうかを指定します。|
|[コントロール バーボタン::m_bWrap](#m_bwrap)|区切り記号の横にあるボタンを次の行に配置するかどうかを指定します。|
|[コントロール バーボタン::m_bWrapText](#m_bwraptext)|複数行テキスト ラベルを有効にするかどうかを指定します。|
|[コントロール バーボタン::m_nID](#m_nid)|ボタンのコマンド ID。|
|[コントロール バーボタン::m_nStyle](#m_nstyle)|ボタンのスタイル。|
|[CMFCツールバーボタン::m_strText](#m_strtext)|ボタンのテキスト ラベル。|

## <a name="remarks"></a>解説

オブジェクト`CMFCToolbarButton`は、ツールバー上に存在するコントロールです。 その動作は通常のボタンに似ています。 このオブジェクトには、イメージとテキスト ラベルを割り当てることができます。 ツールバーボタンには、コマンド ID を指定することもできます。 ユーザーがツール バー ボタンをクリックすると、フレームワークはこの ID で指定されたコマンドを実行します。

通常、ツールバーボタンはカスタマイズ可能で、ユーザーはボタンをツールバー間でドラッグしたり、テキストラベルや画像をコピー、貼り付け、削除、編集したりできます。 ユーザーがツール バーをカスタマイズできないようにするには、次の 2 つの方法のいずれかでツール バーをロックします。 `bLocked` [CMFCツールバー::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)を呼び出すときにフラグをTRUEに設定するか[、CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)メソッドを使用して、プロテクトコマンドのグローバルリストに個々のボタンのコマンドIDを追加します。

`CMFCToolBarButton`オブジェクトは、アプリケーション内のツール バー イメージのグローバル コレクションからイメージを表示します。 これらのコレクションは、親ツール バー [CMFCToolBar クラス](../../mfc/reference/cmfctoolbar-class.md)によって管理されます。 詳細については、「[クラスを表示](../../mfc/reference/cmfctoolbarimages-class.md)します。

ユーザーがツール バー ボタンをクリックすると、親ツール バーがマウス メッセージを処理し、ボタンに適切なアクションを伝達します。 ボタンに有効なコマンド ID がある場合、親ツール バーは親フレームにWM_COMMAND メッセージを送信します。

クラス`CMFCToolBarButton`は[、CMFC ツール バー メニュー ボタン クラス、CMFC ツール バー](../../mfc/reference/cmfctoolbarmenubutton-class.md)[エディット ボックス ボタン クラス](../../mfc/reference/cmfctoolbareditboxbutton-class.md)、および[CMFC ツール バーコンボ ボックス ボタン クラス](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md)など、他のツール バー ボタン クラスの基本クラスです。

## <a name="example"></a>例

クラスのさまざまなメソッドを使用してオブジェクトを構成`CMFCToolBarButton`する方法を次の例に`CMFCToolBarButton`示します。 この例では、マウス入力とキーボード入力を有効にし、ボタンのイメージ インデックスを設定し、ボタンの外接する四角形を設定し、ボタンを表示する方法を示します。 このコード スニペットは、[タブ コントロールのサンプル](../../overview/visual-cpp-samples.md)の一部です。

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>継承階層

[CObject](../../mfc/reference/cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>必要条件

**ヘッダー:** afxツールバーボタン.h

## <a name="cmfctoolbarbuttoncanbedropped"></a><a name="canbedropped"></a>CMFCツールバーボタン::缶ベドロップ

ユーザーがカスタマイズ時に、ツールバーまたはメニューにボタンを配置できるかどうかを指定します。

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
[in]未使用。

### <a name="return-value"></a>戻り値

このメソッドは TRUE を返します。

### <a name="remarks"></a>解説

既定では、カスタマイズ可能な (つまりロックされていない) すべてのツール バーに、ツール バー ボタンをドロップできます。

このメソッドの既定の実装は TRUE を返します。 ユーザーがボタンの位置を変更できないようにするには、このメソッドをオーバーライドして FALSE を返します。

## <a name="cmfctoolbarbuttoncanbestored"></a><a name="canbestored"></a>CMFCツールバーボタン::缶詰

ボタンを保存できるかどうかを決定します。

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>戻り値

このメソッドは TRUE を返します。

### <a name="remarks"></a>解説

フレームワークは、このメソッドを使用して、ボタンがドラッグ アンド ドロップ操作に参加できるかどうかを判断します。

既定の実装では TRUE が返されます。 ドラッグ アンド ドロップ操作の一部としてボタンを保存できない場合は、このメソッドをオーバーライドします。 ドラッグ アンド ドロップ操作の詳細については、「 [OLE ドラッグ アンド ドロップ](../../mfc/drag-and-drop-ole.md)」を参照してください。

## <a name="cmfctoolbarbuttoncanbestretched"></a><a name="canbestretched"></a>CMFCツールバーボタン::缶詰ストレッチ

ユーザーがカスタマイズ中にボタンを伸張できるかどうかを指定します。

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

このメソッドは、カスタマイズ モードでボタンを拡大できるかどうかを判断するために、フレームワークによって使用されます。

このメソッドの既定の実装は FALSE を返します。 コンボ ボックスやスライダーなどの可変幅コントロールの場合に TRUE を返す場合は、このメソッドをオーバーライドします。

カスタマイズ モードの詳細については[、「CMFC ツール バー::設定カスタマイズ モード](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode)」を参照してください。

## <a name="cmfctoolbarbuttoncmfctoolbarbutton"></a><a name="cmfctoolbarbutton"></a>コントロール バーボタン::CMFC ツール バー ボタン

`CMFCToolBarButton` オブジェクトを構築して初期化します。

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>パラメーター

*Uiid*<br/>
[in]ボタンのコマンド ID。

*iイメージ*<br/>
[in]イメージのコレクション内のボタンのイメージ インデックス。

*lpszText*<br/>
[in]ボタンのテキスト ラベル。 NULL にすることができます。

*bユーザーボタン*<br/>
[in]ボタンがユーザー定義であるかどうかを示すブール値。 このパラメーターが TRUE の場合、ボタンはユーザー定義です。 それ以外の場合は、ボタン イメージがリソースから読み込まれます。

*ブロック*<br/>
[in]ボタンをカスタマイズできるかどうかを決定するブール値。 このパラメーターが TRUE の場合、ボタンをカスタマイズできません。 それ以外の場合は、ボタンをカスタマイズできます。

## <a name="cmfctoolbarbuttoncomparewith"></a><a name="comparewith"></a>CMFCツールバーボタン::比較と比較

このインスタンスを指定された`CMFCToolBarButton`オブジェクトと比較します。

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>パラメーター

*他*<br/>
[in]このインスタンスと比較するオブジェクトへの参照。

### <a name="return-value"></a>戻り値

指定されたオブジェクトがこのインスタンスの値と等しい場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

既定の実装では、指定されたオブジェクトのコマンド ID がこのインスタンスのコマンド ID と等しいかどうかを判断します。 2 つの`CMFCToolBarButton`オブジェクトが等しいかどうかを判断するために追加の処理を実行する必要がある場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttoncopyfrom"></a><a name="copyfrom"></a>CMFCツールバーボタン::コピーから

別のツール バー ボタンのプロパティを現在のボタンにコピーします。

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>パラメーター

*src*<br/>
[in]コピー元のボタンへの参照。

### <a name="remarks"></a>解説

このツール バー ボタンに別のツール バー ボタンをコピーします。

## <a name="cmfctoolbarbuttoncreatefromoledata"></a><a name="createfromoledata"></a>コントロール バーボタン::から取得したデータを作成します。

指定`COleDataObject`した`CMFCToolBarButton`オブジェクトからオブジェクトを作成します。

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>パラメーター

*オブジェクト*<br/>
[in]ソース OLE データ オブジェクト。

### <a name="return-value"></a>戻り値

作成される `CMFCToolBarButton` オブジェクト。

### <a name="remarks"></a>解説

このメソッドは、さまざまな形式でデータ転送を実行するためにフレームワークによって使用されます。 たとえば、このメソッド`CMFCOutlookBarPane::OnDragOver`は、このメソッドを使用してドラッグ アンド ドロップ操作を実行します。

## <a name="cmfctoolbarbuttonenablewindow"></a><a name="enablewindow"></a>ウィンドウを有効にします。

マウス入力およびキーボード入力を有効または無効にします。

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>パラメーター

*b 有効にする*<br/>
[in]入力を有効にするにはこのパラメータを TRUE に設定し、入力を無効にするには FALSE に設定します。

### <a name="remarks"></a>解説

このメソッドは、`EnableWindow`関数を呼び出して、入力を有効または無効にします。 詳細については、Windows SDK[の「ウィンドウを有効](/windows/win32/api/winuser/nf-winuser-enablewindow)にする」を参照してください。

## <a name="cmfctoolbarbuttonexporttomenubutton"></a><a name="exporttomenubutton"></a>メニューボタンをクリックします。

ツールバー ボタンからメニューにテキストをコピーします。

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>パラメーター

*メニューボタン*<br/>
[in]ターゲット メニュー ボタンへの参照。

### <a name="return-value"></a>戻り値

このメソッドは TRUE を返します。

### <a name="remarks"></a>解説

フレームワークは、このメソッドを呼び出して、ツール バー ボタンからメニュー ボタンにテキストをコピーします。 既定の実装では、ボタンのテキスト ラベルがコピーされます。 テキスト ラベルが空の場合、このメソッドはボタンのツールヒント テキストをコピーします。

このメソッドの既定の実装は TRUE を返します。 [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)から派生したオブジェクトをメニュー ボタンにフレームワークが変換するときに、追加のアクションを実行する場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttongetclipboardformat"></a><a name="getclipboardformat"></a>CMFCツールバーボタン::クリップボード形式を取得します

アプリケーションのグローバル クリップボード形式を取得します。

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>戻り値

アプリケーションのグローバルな CLIPFORMAT 値。

### <a name="remarks"></a>解説

フレームワークは、OLE データ転送操作のクリップボード形式を取得するために、このメソッドを呼び出します。 たとえば[、CMFC ツールバー ボタン::CreateFromOleData](#createfromoledata)メソッドは、このメソッドを使用して、ソース OLE データ オブジェクトからデータをコピーします。

このメソッドは、このメソッドが最初に呼び出される場合にグローバルな CLIPFORMAT 値を設定します。 このメソッドを呼び出す場合は、すべてこの値を返します。

アプリケーション間でドラッグ アンド ドロップ操作を実行できるようにするには、[メソッド](#setclipboardformatname)を呼び出します。

MFC でのクリップボードの詳細については、「[クリップボード](../../mfc/clipboard.md)」を参照してください。

## <a name="cmfctoolbarbuttongethwnd"></a><a name="gethwnd"></a>コントロール バーボタン::ゲットワード

ツール バー ボタンに関連付けられているウィンドウ ハンドルを取得します。

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>戻り値

ツール バー ボタンに関連付けられているウィンドウ ハンドル。

### <a name="remarks"></a>解説

このメソッドの既定の実装では NULL が返されます。 特定のコントロールのウィンドウ ハンドルを返す場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttongetimage"></a><a name="getimage"></a>コントロール バーボタン::取得イメージ

ボタンのイメージ インデックスを取得します。

```
int GetImage() const;
```

### <a name="return-value"></a>戻り値

このボタンに関連付けられているイメージのインデックス。

### <a name="remarks"></a>解説

ボタンにユーザー定義のイメージがある場合 (つまり、コンストラクターで*bUserButton*が TRUE の場合)、返されるインデックスはユーザー定義イメージのコレクション内のイメージを指定します[(CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)を参照)。 それ以外の場合、インデックスはリソース ファイルから読み込まれるイメージのコレクション内のイメージを指定します[(CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)を参照)。 リソース ファイルの詳細については、「リソース ファイル[の操作](../../windows/working-with-resource-files.md)」を参照してください。

## <a name="cmfctoolbarbuttongetinvalidaterect"></a><a name="getinvalidaterect"></a>コントロール バーボタン::取得イン検証レクト

再描画する必要があるボタンのクライアント領域の領域を取得します。

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>戻り値

再`CRect`描画する必要がある領域を指定するオブジェクト。

### <a name="remarks"></a>解説

このメソッドの既定の実装は、クライアント領域全体を返します。 別の領域を再描画する場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttongetparentwnd"></a><a name="getparentwnd"></a>コントロール バーボタン::取得親の

ボタンの親ウィンドウを取得します。

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>戻り値

ボタンの親ウィンドウ。

## <a name="cmfctoolbarbuttongetprotectedcommands"></a><a name="getprotectedcommands"></a>コントロール バーボタン::取得保護されたコマンド

ユーザーがカスタマイズできないコマンドの一覧を取得します。

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>戻り値

保護されたコマンドのリスト。

### <a name="remarks"></a>解説

カスタマイズ モードでは、保護されているツール バー ボタン コマンドがフレームワークによって無効になります。 ユーザーは、無効になっているツール バー ボタンに対してドラッグ アンド ドロップ操作および編集操作を実行できません。

[プロテクト](#setprotectedcommands)コマンドの一覧を定義するには、メソッドを使用します。

## <a name="cmfctoolbarbuttongettextsize"></a><a name="gettextsize"></a>コントロール バーボタン::テキストサイズを取得します。

ボタン テキストのサイズを取得します。

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>戻り値

ボタン テキストのサイズ (ピクセル単位) を格納する SIZE オブジェクト。

## <a name="cmfctoolbarbuttonhasfocus"></a><a name="hasfocus"></a>コントロール バーボタン::ハズフォーカス

ボタンに現在の入力フォーカスがあるかどうかを判断します。

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>戻り値

ボタンに入力フォーカスがある場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

このメソッドの既定の実装は、ボタンに入力フォーカスがある場合、または入力フォーカスを持つウィンドウの子ウィンドウまたは子孫ウィンドウである場合は、0 以外を返します。 この関数をオーバーライドして、この動作をカスタマイズできます。

## <a name="cmfctoolbarbuttonhavehotborder"></a><a name="havehotborder"></a>CMFCツールバーボタン::持っているホットボーダー

ユーザーがボタンを選択したときにボタンの境界線を表示するかどうかを指定します。

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>戻り値

このメソッドは TRUE を返します。

### <a name="remarks"></a>解説

フレームワークは、ユーザーが選択したときに、ツール バー ボタンに境界線を表示するかどうかを判断するために、このメソッドを呼び出します。

既定の実装では TRUE が返されます。 このメソッドをオーバーライドして、この動作をカスタマイズできます。

## <a name="cmfctoolbarbuttonisdrawimage"></a><a name="isdrawimage"></a>コントロール バーボタン::イズドローイメージ

ボタンにイメージを表示するかどうかを指定します。

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>戻り値

ボタンにイメージが表示されている場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

このメソッドは、ツール バー ボタンに関連付けられたイメージがない場合[(CMFC ツール バーボタン::GetImage](#getimage)が -1 を返す) または[CMFC ツールバーボタン::m_bImage](#m_bimage)が FALSE に設定されている場合は FALSE を返します。

## <a name="cmfctoolbarbuttonisdrawtext"></a><a name="isdrawtext"></a>コントロール バーボタン::IsDraw テキスト

ボタンにテキスト ラベルを表示するかどうかを指定します。

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>戻り値

テキスト ラベルが表示されている場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

このメソッドは、ツール バー ボタンに関連付けられたテキスト ラベルがない場合[(CMFCツールバーボタン::m_strTextが](#m_strtext)空です)、または[CMFC ツールバーボタン::m_bText](#m_btext)が FALSE に設定されている場合は FALSE を返します。

## <a name="cmfctoolbarbuttonisdroppeddown"></a><a name="isdroppeddown"></a>コントロール バーボタン::ディスダウン

ボタンにサブメニューを表示するかどうかを指定します。

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

このメソッドの既定の実装は FALSE を返します。 コントロールにサブメニューが表示された場合に TRUE を返すように、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttoniseditable"></a><a name="iseditable"></a>CMFCツールバーボタン::編集可能

ボタンをカスタマイズできるかどうかを決定します。

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>戻り値

ボタンをユーザーがカスタマイズできる場合は 0 以外の値を指定します。それ以外の場合は 0。

### <a name="remarks"></a>解説

フレームワークは、このメソッドを呼び出して、ユーザーがドラッグ アンド ドロップ操作または編集操作を使用してツール バー ボタンをカスタマイズできるかどうかを判断します。

ボタンのコマンド ID が標準コマンド (`IsStandardCommand`関数を呼び出すことで判断できる) の場合、またはコマンド ID が保護されたコマンドのリストにある場合、デフォルトの実装は FALSE を返します。 プロテクト コマンドの詳細については[、「CMFC ツール バー ボタン::GetProtected コマンド](#getprotectedcommands)と[CMFC ツール バー ボタン::セットプロテクト コマンド](#setprotectedcommands)」を参照してください。

このメソッドをオーバーライドして動作をカスタマイズします。

## <a name="cmfctoolbarbuttonisextrasize"></a><a name="isextrasize"></a>コントロール バーボタン::イエクストラサイズ

ボタンを拡張枠線で表示できるかどうかを指定します。

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>戻り値

ツール バー ボタンを拡張枠線で表示できる場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

いくつかのスキンは、ツールバーボタンの境界線(例えば、丸いボタン)に余分なサイズを使用します。

ユーザーがこのボタンを 1 つのツール バーから別のツール バーに移動すると、フレームワークは[CMFC ツール バー ボタン::OnChangeParentWnd](#onchangeparentwnd)メソッドを呼び出します。 メソッドは[、](#onchangeparentwnd)新しい親ツール バーの追加サイズフラグを設定します (詳細については[、「CMFC ツールバー::IsButtonExtraSizeAvailable」](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)を参照してください)。

## <a name="cmfctoolbarbuttonisfirstingroup"></a><a name="isfirstingroup"></a>CMFCツールバーボタン::イファーストイングループ

ボタンがボタン グループの最初の位置にあるかどうかを判断します。

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>戻り値

ボタンがボタン グループの最初のボタンである場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは *、ボタン グループ*を、同じ行に配置され、区切り文字またはツールバーの境界線で囲まれた隣接するボタンのセットとして定義します。 ツール バー ボタンが **[カスタマイズ**] ボタンを参照している場合、このメソッドは FALSE を返します。 **[カスタマイズ**] ボタンの詳細については[、「CMFC ツール バー::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton)」を参照してください。

ボタンがボタン グループの最後の位置にあるかどうかを判断するには[、CMFCToolBarButton::IsLastInGroup](#islastingroup)メソッドを呼び出します。

## <a name="cmfctoolbarbuttonishidden"></a><a name="ishidden"></a>CMFCツールバーボタン::イズ隠し

ボタンが非表示かどうかを判断します。

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>戻り値

ボタンが非表示 (非表示) の場合は 0 以外。それ以外の場合は 0。

### <a name="remarks"></a>解説

フレームワークは、親ツール バーが拡大されたときにこのメソッドを呼び出して、ツール バー ボタンが表示されているかどうかを判断します。

ボタンを非表示に設定する場合[は、CMFCツール バー ボタンボタンを使用して::IsVisible](#setvisible)を使用して、ツール バー ボタンが表示されているかどうかを判断します。 [CMFCToolBarButton::IsVisible](#isvisible)

既定では、すべてのツール バー ボタンが表示されます。 ツール バー ボタンの表示/非表示を切り替える場合は[、CMFC ツール バー ボタンを](#show)使用します。

## <a name="cmfctoolbarbuttonishorizontal"></a><a name="ishorizontal"></a>CMFCツールバーボタン::イス水平

ボタンが水平ツールバー上にあるかどうかを判断します。

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>戻り値

ツールバー ボタンが水平ツールバー上にある場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

フレームワークは、ツール バー ボタンのレイアウトを決定するために、このメソッドを呼び出します。

このメソッドは、`m_bHorz`データ メンバーを返します。 データ メンバーの`m_bHorz`既定値は TRUE です。メソッドへの呼び出しごとにリセット[されます](#ondraw)。

## <a name="cmfctoolbarbuttonislastingroup"></a><a name="islastingroup"></a>CMFCツールバーボタン::イラストイングループ

ボタンがボタン グループの最後の位置にあるかどうかを指定します。

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>戻り値

ボタンがボタン グループの最後のボタンである場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは *、ボタン グループ*を、同じ行に配置され、境界線で囲まれている隣接するボタンのセットとして定義します。 **Customize** **[カスタマイズ**] ボタンの詳細については[、「CMFC ツール バー::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton)」を参照してください。

ボタンがボタン グループの最初の位置にあるかどうかを判断するには[、CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)メソッドを呼び出します。

## <a name="cmfctoolbarbuttonislocked"></a><a name="islocked"></a>CMFCツールバーボタン::イズロック

ボタンがロックされている (カスタマイズできない) ツール バー上にあるかどうかを判断します。

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>戻り値

ボタンがロックされたツールバー上にある場合は 0 以外の値を指定します。それ以外の場合は 0。

### <a name="remarks"></a>解説

フレームワークは、このメソッドを呼び出して、ユーザーがドラッグ アンド ドロップ操作または編集操作を使用してツール バー ボタンをカスタマイズできるかどうかを判断します。 [CMFC ツール バー::読み込みツール バー](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)メソッドを使用して、親ツール バーのロックされた属性を設定します。 フレームワークは、親ツール バーに挿入する各ツール バー ボタン ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)) のコンストラクターにこの属性の値を渡します。

## <a name="cmfctoolbarbuttonisownerof"></a><a name="isownerof"></a>コントロール バーボタン::イスオーナー

ボタンが指定されたウィンドウ ハンドルの所有者であるかどうかを判断します。

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>パラメーター

*Hwnd*<br/>
[in]ウィンドウ ハンドル。

### <a name="return-value"></a>戻り値

ボタンが指定されたウィンドウ ハンドルの所有者である場合は 0 以外。それ以外の場合は 0。

### <a name="remarks"></a>解説

*hwnd*が直接ウィンドウ ハンドルを参照する場合、またはボタンに関連付けられているウィンドウ ハンドルの子である場合、このメソッドは 0 以外を返します。 *hwnd*が NULL の場合、このメソッドは 0 を返します。

## <a name="cmfctoolbarbuttonisvisible"></a><a name="isvisible"></a>CMFCツールバーボタン::イズビジブル

ツール バー ボタンを表示するかどうかを指定します。

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>戻り値

ツール バー ボタンが表示されている場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

ツール バー ボタンの表示と非表示を切り替えるには、[メソッド](#setvisible)を使用します。 [CMFCツールバーボタン](#setvisible)を呼び出した後、親ツールバーの[CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate)メソッドを呼び出して、親ツールバーのレイアウトを再計算します。

## <a name="cmfctoolbarbuttoniswindowvisible"></a><a name="iswindowvisible"></a>CMFCツールバーボタン::Isウィンドウビジブル

ボタンの基になるウィンドウ ハンドルを表示するかどうかを決定します。

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>戻り値

ボタンの基になるウィンドウ ハンドルが表示されている場合は 0 以外の値を返します。それ以外の場合は 0。

### <a name="remarks"></a>解説

基になるウィンドウ ハンドルの styles 属性にWS_VISIBLEスタイルが含まれている場合、このメソッドは 0 以外の値を返します。 このメソッドは、ボタンの基になるウィンドウ ハンドルが NULL の場合は FALSE を返します。

## <a name="cmfctoolbarbuttonm_bimage"></a><a name="m_bimage"></a>コントロール バーボタン::m_bImage

ボタンにイメージを表示するかどうかを指定します。

```
BOOL m_bImage;
```

### <a name="remarks"></a>解説

このデータ メンバーが TRUE に設定されている場合、フレームワークはツール バー ボタンに関連付けられているイメージを表示します。それ以外の場合、フレームワークはイメージを表示しません。 このメンバーは、メソッドの戻り値[m_bImageに影響します](#m_bimage)。

## <a name="cmfctoolbarbuttonm_btext"></a><a name="m_btext"></a>コントロール バーボタン::m_bText

ボタンにテキスト ラベルを表示するかどうかを指定します。

```
BOOL m_bText;
```

### <a name="remarks"></a>解説

このデータ メンバーが TRUE に設定されている場合、フレームワークはツール バー ボタンのテキスト ラベルを表示します。それ以外の場合、フレームワークはテキスト ラベルを表示しません。 このメンバーは、メソッドの戻り値[m_bTextに影響します](#m_btext)。

## <a name="cmfctoolbarbuttonm_btextbelow"></a><a name="m_btextbelow"></a>コントロールバーボタン:m_bTextBelow

ボタンのイメージの下にテキスト ラベルを表示するかどうかを指定します。

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>解説

このメンバー変数が TRUE に設定されている場合、フレームワークはイメージの下のボタンのテキストを表示します。 このメンバーのデフォルト値は FALSE です。

## <a name="cmfctoolbarbuttonm_buserbutton"></a><a name="m_buserbutton"></a>コントロール バーボタン::m_bUserButton

ボタンにユーザー定義のイメージがあるかどうかを指定します。

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>解説

このデータ メンバーは、ボタンにユーザー定義イメージが関連付けられている場合は TRUE に設定されます。

## <a name="cmfctoolbarbuttonm_bwholetext"></a><a name="m_bwholetext"></a>コントロール バーボタン::m_bWholeText

外接する四角形に収まらない場合でも、ボタンに完全なテキスト ラベルを表示するかどうかを指定します。

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>解説

このデータ メンバーが TRUE に設定されている場合、フレームワークはボタンを拡大してテキスト ラベル全体を表示します。 それ以外の場合、フレームワークはテキスト ラベルに省略記号 ( **.)** を追加します。

## <a name="cmfctoolbarbuttonm_bwrap"></a><a name="m_bwrap"></a>コントロール バーボタン::m_bWrap

区切り記号の横にあるボタンを次の行に配置するかどうかを指定します。

```
BOOL m_bWrap;
```

### <a name="remarks"></a>解説

ツール バー ボタンが現在の行に収まらない場合、またはレイアウトを指定した場合 (たとえば、行ごとに特定の数のツール バー ボタン) を指定した場合、フレームワークはこのデータ メンバーを TRUE に設定します。

このデータ メンバーが TRUE に設定され、ツール バーが水平またはフローティングにドッキングされている場合、フレームワークは次の行にこのボタンを配置します。

このデータ メンバーの既定値は FALSE です。

## <a name="cmfctoolbarbuttonm_bwraptext"></a><a name="m_bwraptext"></a>コントロール バーボタン::m_bWrapText

複数行テキスト ラベルを有効にするかどうかを指定します。

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>解説

この静的メンバー変数が TRUE の場合、フレームワークは、すべてのツール バーがツール バー ボタンに複数行テキスト ラベルを表示できるようにします。

このデータ メンバーの既定値は FALSE です。

## <a name="cmfctoolbarbuttonm_nid"></a><a name="m_nid"></a>コントロール バーボタン::m_nID

ボタンのコマンド ID。

```
UINT m_nID;
```

### <a name="remarks"></a>解説

コマンド ID が -1 の場合、ボタンが区切り記号であることを示します。 すべてのボタンの区切り記号には、TBBS_SEPARATORスタイルがあります。 ボタンスタイルの詳細については[、「CMFC ツール バー ボタン::m_nStyle」](#m_nstyle)を参照してください。

## <a name="cmfctoolbarbuttonm_nstyle"></a><a name="m_nstyle"></a>コントロール バーボタン::m_nStyle

ボタンのスタイル。

```
UINT m_nStyle;
```

### <a name="remarks"></a>解説

使用可能なツールバー ボタン スタイルの一覧については、「[ツール バー コントロール](../../mfc/reference/toolbar-control-styles.md)のスタイル」を参照してください。

## <a name="cmfctoolbarbuttonm_strtext"></a><a name="m_strtext"></a>CMFCツールバーボタン::m_strText

ボタンのテキスト ラベル。

```
CString m_strText;
```

### <a name="remarks"></a>解説

このデータ メンバーには、ボタンのテキスト ラベルが含まれます。 テキスト ラベルは空にすることができます。

## <a name="cmfctoolbarbuttonnotifycommand"></a><a name="notifycommand"></a>コントロール バーボタン::コマンドを通知します。

ボタンが[WM_COMMAND](/windows/win32/menurc/wm-command)メッセージを処理するかどうかを指定します。

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>パラメーター

*コード*<br/>
[in]コマンドに関連付けられている通知メッセージ。

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

フレームワークは、親ウィンドウに[WM_COMMAND](/windows/win32/menurc/wm-command)メッセージを送信する際に、このメソッドを呼び出します。

既定では、このメソッドは FALSE を返します。 親ツール バーがメッセージを処理する必要があることを示す場合は、WM_COMMAND メッセージを処理する場合は TRUE を返すには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononaddtocustomizepage"></a><a name="onaddtocustomizepage"></a>ページをカスタマイズする

ボタンが **[カスタマイズ**] ダイアログ ボックスに追加されたときに、フレームワークによって呼び出されます。

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 ボタンが **[ユーザー設定**] ダイアログ ボックスに追加されたときに何らかのアクションを実行する場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononbeforedrag"></a><a name="onbeforedrag"></a>CMFCツールバーボタン::オン前にドラッグ

ボタンをドラッグできるかどうかを指定します。

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>戻り値

ボタンをドラッグできる場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

フレームワークは、ユーザーがボタンのドラッグを開始する前に、このメソッドを呼び出します。

このメソッドの既定の実装は TRUE を返します。 ボタンのドラッグを無効にするには、FALSE を返します。

## <a name="cmfctoolbarbuttononbeforedrop"></a><a name="onbeforedrop"></a>CMFCツールバーボタン::オン・アフォアドロップ

ユーザーがボタンをターゲット ツールバーにドロップできるかどうかを指定します。

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>パラメーター

*pターゲット*<br/>
[in]ドラッグ アンド ドロップ操作のターゲット。

### <a name="return-value"></a>戻り値

指定されたターゲット ツール バーにボタンをドロップできる場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

ボタンがツール バーにドロップされる前に、フレームワークはこのメソッドを呼び出します。

このメソッドの既定の実装は TRUE を返します。 指定したターゲットでのドロップ操作を無効にするには、このメソッドをオーバーライドして FALSE を返します。

## <a name="cmfctoolbarbuttononcalculatesize"></a><a name="oncalculatesize"></a>CMFCツールバーボタン::計算サイズ

指定したデバイス コンテキストとドッキング状態のボタンのサイズを計算するために、フレームワークによって呼び出されます。

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>パラメーター

*pDC*<br/>
[in]ボタンを表示するデバイス コンテキスト。

*サイズデフォルト*<br/>
[in]ボタンの既定のサイズ。

*bHorz*<br/>
[in]親ツール バーのドッキング状態。 このパラメーターは、ツール バーが水平にドッキングされている場合、またはフローティング状態の場合は TRUE、ツール バーが垂直方向にドッキングされている場合は FALSE です。

### <a name="return-value"></a>戻り値

ボタン`SIZE`のサイズをピクセル単位で格納する構造体。

### <a name="remarks"></a>解説

フレームワークは、指定されたデバイス コンテキストとドッキング状態のツール バー ボタンのサイズを決定するために、このメソッドを呼び出します。

既定の実装では、テキストとイメージのサイズ (表示されている場合)、テキストとイメージの位置 (イメージの下または右側のテキスト)、およびツール バーのドッキング状態が考慮されます。

標準以外のボタン (編集ボックス ボタンなど) のサイズを指定する場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononcancelmode"></a><a name="oncancelmode"></a>ボタン::キャンセルモード

[WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode)メッセージを処理するために、フレームワークによって呼び出されます。

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode)メッセージを処理する場合は、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononchangeparentwnd"></a><a name="onchangeparentwnd"></a>コントロール バーボタン::オンチェンジペアレント

ボタンが新しいツール バーに挿入されたときに、フレームワークによって呼び出されます。

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>パラメーター

*親の子*<br/>
[in]新しい親ウィンドウ。

### <a name="remarks"></a>解説

ボタンは、たとえばユーザーがツールバーから別のツールバーにドラッグしたときに、ツールバーに挿入されます。

このメソッドの既定の実装では、何も実行されません。

## <a name="cmfctoolbarbuttononclick"></a><a name="onclick"></a>クリック時ボタン

ユーザーがマウス ボタンをクリックしたときに、フレームワークによって呼び出されます。

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>パラメーター

*Pwnd*<br/>
[in]ツール バー ボタンの親ウィンドウ。

*bディレイ*<br/>
[in]メッセージを遅延で処理する必要がある場合は TRUE。

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

ユーザーがツール バー ボタンをクリックすると、フレームワークはこのメソッドを呼び出します。

既定の実装では何も行われなくて、FALSE が返されます。 ボタンがクリック メッセージを処理する場合に 0 以外の値を返します。

## <a name="cmfctoolbarbuttononclickup"></a><a name="onclickup"></a>CMFCツールバーボタン::クリックアップ

ユーザーがマウス ボタンを離したときに、フレームワークによって呼び出されます。

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

ユーザーがツール バー ボタンを離すと、フレームワークはこのメソッドを呼び出します。

既定の実装では何も行われなくて、FALSE が返されます。 ボタンがクリック メッセージを処理する場合に 0 以外の値を返します。

## <a name="cmfctoolbarbuttononcontexthelp"></a><a name="oncontexthelp"></a>ボタン::オンコンテキストヘルプ

親ツール バーがWM_HELPHITTEST メッセージを処理するときに、フレームワークによって呼び出されます。

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>パラメーター

*Pwnd*<br/>
[in]ツール バー ボタンの親ウィンドウ。

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も行われなくて、FALSE を返します。 ボタンがヘルプ メッセージを処理する場合に 0 以外の値を返します。

WM_HELPHITTEST メッセージの詳細については、「 [TN028: 状況依存ヘルプのサポート](../../mfc/tn028-context-sensitive-help-support.md)」を参照してください。

## <a name="cmfctoolbarbuttononctlcolor"></a><a name="onctlcolor"></a>コントロール バーボタン::オンCtl カラー

親ツール バーがWM_CTLCOLOR メッセージを処理するときに、フレームワークによって呼び出されます。

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>パラメーター

*pDC*<br/>
[in]ボタンを表示するデバイス コンテキスト。

*をクリックします。*<br/>
[in]特定の色の通知。

### <a name="return-value"></a>戻り値

フレームワークがボタンの背景を描画するために使用するブラシ オブジェクトへのハンドル。

### <a name="remarks"></a>解説

フレームワークは、親ツール バーが Windows コントロールを含むツール バー ボタンのWM_CTLCOLOR メッセージを処理するときに、このメソッドを呼び出します。 ツール バー ボタンがウィンドウなしの場合、フレームワークはこのメソッドを呼び出しません。

フレームワークは、ツール バー フレームワークがカスタマイズ モードで、ツール バー ボタンのロックが解除されているときに、このメソッドを呼び出します。 カスタマイズ モードの詳細については[、「CMFC ツール バー::設定カスタマイズ モード](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode)」を参照してください。 ツール バー ボタンのロックの詳細については[、「CMFC ツール バー ボタン::IsLocked](#islocked)」を参照してください。

既定の実装では何も行われなくて、NULL が返されます。

## <a name="cmfctoolbarbuttononcustomizemenu"></a><a name="oncustomizemenu"></a>メニューボタン::メニューのオン

アプリケーションが親ツール バーにショートカット メニューを表示するときに、指定されたメニューを変更できます。

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>パラメーター

*メニュー*<br/>
[in]カスタマイズするメニュー。

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

既定の実装では何も行われなくて、FALSE が返されます。 指定されたメニューの内容を変更する場合は、このメソッドをオーバーライドし、0 以外の値を返します。

## <a name="cmfctoolbarbuttonondblclk"></a><a name="ondblclk"></a>CMFCツールバーボタン::オンドブルク

親ツール バーが[WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk)メッセージを処理するときに、フレームワークによって呼び出されます。

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>パラメーター

*Pwnd*<br/>
[in] - ボタンの親ウィンドウ。

### <a name="remarks"></a>解説

このメソッドは、親ツール`CMFCToolBar::OnLButtonDblClk`バーが[WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk)メッセージを処理するときにメソッドによって呼び出されます。

このメソッドの既定の実装では、何も実行されません。

## <a name="cmfctoolbarbuttonondraw"></a><a name="ondraw"></a>CMFCツールバーボタン::オンドロー

指定したスタイルとオプションを使用してボタンを描画するために、フレームワークによって呼び出されます。

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>パラメーター

*pDC*<br/>
[in]ボタンを表示するデバイス コンテキスト。

*Rect*<br/>
[in]ボタンの外接する四角形。

*pイメージズ*<br/>
[in]ボタンに関連付けられているツール バー イメージのコレクション。

*bHorz*<br/>
[in]親ツール バーのドッキング状態。 このパラメーターは、ボタンが水平方向にドッキングされている場合は TRUE、ボタンが垂直方向にドッキングされている場合は FALSE です。

*モードをカスタマイズする*<br/>
[in]ツール バーがカスタマイズ モードかどうかを指定します。 このパラメーターは、ツール バーがカスタマイズ モードの場合は TRUE、ツール バーがカスタマイズ モードでない場合は FALSE です。

*bハイライト*<br/>
[in]ボタンを強調表示するかどうかを指定します。 このパラメーターは、ボタンが強調表示されている場合は TRUE、ボタンが強調表示されていない場合は FALSE です。

*ボーダーを描く*<br/>
[in]ボタンに境界線を表示するかどうかを指定します。 このパラメーターは、ボタンに境界線を表示する場合は TRUE、ボタンに境界線を表示しない場合は FALSE です。

*ボタン*<br/>
[in]無効なボタンを網かけにするか、無効なイメージ コレクションを使用するかを指定します。 無効なボタンをシェーディングする場合は TRUE、無効なイメージ コレクションを使用する必要がある場合は FALSE です。

### <a name="remarks"></a>解説

ツール バー ボタンの描画をカスタマイズするには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttonondrawoncustomizelist"></a><a name="ondrawoncustomizelist"></a>ボタン::オンドローオンカスタマイザ

[**カスタマイズ**] ダイアログ ボックスの **[コマンド**] ウィンドウにボタンを描画するために、フレームワークによって呼び出されます。

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>パラメーター

*pDC*<br/>
[in]ボタンを表示するデバイス コンテキスト。

*Rect*<br/>
[in]ボタンの外接する四角形。

*b選択済み*<br/>
[in]ボタンが選択されているかどうかを指定します。 このパラメーターが TRUE の場合、ボタンが選択されます。 このパラメーターが FALSE の場合、ボタンは選択されません。

### <a name="return-value"></a>戻り値

指定したデバイス コンテキストのボタンの幅 (ピクセル単位)。

### <a name="remarks"></a>解説

このメソッドは、ボタンがオーナー描画リスト ボックスに表示されるときに、カスタマイズ ダイアログ ボックス **([コマンド**]タブ) によって呼び出されます。

このメソッドの既定の実装では、ボタンのイメージとテキスト ラベルが使用可能な場合は表示されます。 ボタンのテキスト ラベルが使用できない場合、メソッドはツールヒント テキストを表示します。

カスタム描画を実行するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttonongetcustomtooltiptext"></a><a name="ongetcustomtooltiptext"></a>ボタン::オンゲットカスタムツールヒントテキスト

ボタンのカスタム ツールヒント テキストを取得するために、フレームワークによって呼び出されます。

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>パラメーター

*ツールヒント*<br/>
[アウト]カスタム`CString`ツールヒント テキストを受け取るオブジェクト。

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

フレームワークは、ツール バー ボタンのツールヒントを表示するときに、このメソッドを呼び出します。 このメソッドが FALSE を返す場合、フレームワークは既定のツールヒントを使用します。

既定の実装では何も行われなくて、FALSE が返されます。 このメソッドをオーバーライドし、0 以外の値を返して、ツール バー ボタンのカスタム ツールヒント テキストを提供します。

## <a name="cmfctoolbarbuttononglobalfontschanged"></a><a name="onglobalfontschanged"></a>変更されたグローバルフォント

グローバル フォントが変更されたときに、フレームワークによって呼び出されます。

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 ボタン テキストの表示に使用するフォントを更新するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononmove"></a><a name="onmove"></a>ボタン::移動中

親ツール バーが移動したときに、フレームワークによって呼び出されます。

```
virtual void OnMove();
```

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 親ツール バーが移動したときにボタンの位置を変更するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononshow"></a><a name="onshow"></a>CMFCツールバーボタン::オンショー

ボタンが表示または非表示になったときに、フレームワークによって呼び出されます。

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>パラメーター

*bショー*<br/>
[in]ボタンを表示するかどうかを指定します。 このパラメーターが TRUE の場合、ボタンは表示されます。 それ以外の場合、ボタンは表示されません。

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 ボタンの表示設定を更新するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttononsize"></a><a name="onsize"></a>コントロール バーボタン::オンサイズ

親ツール バーのサイズまたは位置が変更され、この変更によってボタンのサイズが変更されたときに、フレームワークによって呼び出されます。

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>パラメーター

*iサイズ*<br/>
[in]ボタンの新しい幅。

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 親ツール バーのサイズまたは位置が変更されたときにボタンのサイズを変更するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttonontoolhittest"></a><a name="ontoolhittest"></a>CMFCツールバーボタン::オンツールヒットテスト

親ツール バーが、ポイントがボタンの外接する四角形内にあるかどうかを判断する必要がある場合に、フレームワークによって呼び出されます。

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>パラメーター

*Pwnd*<br/>
[in]ボタンの親ウィンドウ。 NULL にすることができます。

*Pti*<br/>
[in]ツール`TOOLINFO`ヒント コントロール内のツールに関する情報を含む構造体。

### <a name="return-value"></a>戻り値

ボタン`OnMenuButtonToolHitTest`が親フレーム ウィンドウへのポインターを取得できる場合の結果。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、親ウィンドウを有効なフレーム オブジェクトに変換できる場合は、次のいずれかのメソッドを呼び出します。

- [コマンドフレームオンドエクスックス::オンメニューボタンツールキットヒットテスト](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [ウィンドウズンデックス::オンメニューボタンツールキットヒットテスト](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [コレップフレームオンドエクスックス::オンメニューボタンツールキットヒットテスト](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

## <a name="cmfctoolbarbuttononupdatetooltip"></a><a name="onupdatetooltip"></a>CMFCツールバーボタン::オンアップデートツールチップ

親ツール バーがツールヒント テキストを更新するときに、フレームワークによって呼び出されます。

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>パラメーター

*親の子*<br/>
[in]親ウィンドウ。

*ボタンインデックス*<br/>
[in]親ボタン コレクション内のボタンの 0 から始まるインデックス。

*wnd ツールヒント*<br/>
[in]ツールヒント テキストを表示するコントロール。

*Str*<br/>
[アウト]更新`CString`されたツールヒント テキストを受け取るオブジェクト。

### <a name="return-value"></a>戻り値

このメソッドは FALSE を返します。

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も行われなくて、FALSE を返します。 ツールヒントのテキスト文字列を指定した場合に 0 以外の値を返すように、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttonpreparedrag"></a><a name="preparedrag"></a>CMFCツールバーボタン::Pレパレドラッグ

ボタンがドラッグ アンド ドロップ操作を実行しようとしているときに、フレームワークによって呼び出されます。

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>パラメーター

*srcItem*<br/>
[in]ドラッグ`COleDataSource`アンド ドロップ操作に関する状態情報を格納するオブジェクト。

### <a name="return-value"></a>戻り値

操作が成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

フレームワークは、このメソッドを呼び出して、ツール バー ボタンを`COleDataSource`準備して、指定されたオブジェクトに状態を格納します。 このメソッドは、自身を共有ファイルにシリアル化し、そのファイルを[COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata)メソッドに渡すことによって、その状態を格納します。 ツール バー ボタンのシリアル化の詳細については[、「CMFC ツール バー ボタン::シリアル化](#serialize)」を参照してください。

このメソッドは何も行わないし、ボタンを格納できない場合は TRUE を返します[(CMFCツールバーボタン::CanBeStored](#canbestored)メソッドは FALSE を返します)。 オブジェクトのシリアル化中に例外が発生した場合は、FALSE を返します。

OLE ドラッグ アンド ドロップ操作の詳細については、「 [OLE ドラッグ アンド ドロップ](../../mfc/drag-and-drop-ole.md)」を参照してください。

## <a name="cmfctoolbarbuttonrect"></a><a name="rect"></a>コントロールバーボタン::レクト

ボタンの外接する四角形を取得します。

```
const CRect& Rect() const;
```

### <a name="return-value"></a>戻り値

ボタン`CRect`の外接する四角形を含むオブジェクト。

## <a name="cmfctoolbarbuttonresetimagetodefault"></a><a name="resetimagetodefault"></a>コントロール バーボタン::デフォルト値を変更します。

ボタンに関連付けられているイメージの既定値を設定します。

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>解説

このメソッドは[、CMFC ツール バー::GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage)メソッドを使用して、親ツール バーから既定のイメージを取得します。 ボタンに関連付けられた既定のイメージがない場合、このメソッドは[、CStringT::LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring)メソッドを使用して、その文字列リソースに従ってボタンのテキスト ラベルを設定します。 文字列リソースの詳細については、「リソース[ファイルの操作](../../windows/working-with-resource-files.md)」を参照してください。

ボタンにユーザー定義のイメージがある場合、このメソッドは何も実行しません。

## <a name="cmfctoolbarbuttonsavebarstate"></a><a name="savebarstate"></a>コントロール バーボタン::バーステートを保存します。

ツール バー ボタンの状態を保存します。

```
virtual void SaveBarState();
```

### <a name="remarks"></a>解説

フレームワークは、ドラッグ アンド ドロップ操作`CMFCToolBarButton`の結果としてオブジェクトを作成するときに、このメソッドを呼び出します。

このメソッドの既定の実装では、何も実行されません。 ツール バー ボタンの状態を外部データ ソースに保存するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttonserialize"></a><a name="serialize"></a>コントロール バーボタン::シリアル化

このオブジェクトをアーカイブから読み取るか、アーカイブに書き込みます。

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>パラメーター

*ar*<br/>
[in]シリアル`CArchive`化の対象またはシリアル化先のオブジェクト。

### <a name="remarks"></a>解説

このメソッドは、クリップボードやドラッグ アンド ドロップ操作などのデータ転送プロセスをサポートします。 ID、テキスト ラベル、イメージ ID などのボタンのプロパティを、指定された`CArchive`オブジェクトとの間で読み取りまたは書き込みます。

シリアル化の例については、「[シリアル化: オブジェクトのシリアル化](../../mfc/serialization-serializing-an-object.md)」を参照してください。

## <a name="cmfctoolbarbuttonsetaccdata"></a><a name="setaccdata"></a>コントロール バーボタン::セットアプデータ

ツール バー`CAccessibilityData`ボタンから、指定されたオブジェクトにアクセシビリティ データを設定します。

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>パラメーター

*親*<br/>
[in]ツール バー ボタンの親ウィンドウ。

*データ*<br/>
[in]ツール`CAccessibilityData`バー ボタンのアクセシビリティ データが設定されるオブジェクト。

### <a name="return-value"></a>戻り値

このメソッドは TRUE を返します。

### <a name="remarks"></a>解説

ツール バー ボタンがユーザー補助データを提供しない場合は、FALSE を返します。

## <a name="cmfctoolbarbuttonsetclipboardformatname"></a><a name="setclipboardformatname"></a>CMFCツールバーボタン::クリップボードのフォーマット名を設定します。

グローバルクリップボード形式の名前を変更します。

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>パラメーター

*名前を指定します。*<br/>
[in]グローバルクリップボード形式の新しい名前。 Nll は指定できません。

### <a name="remarks"></a>解説

この方法により、ドラッグ アンド ドロップ操作を複数のアプリケーション間で実行できます。 各アプリケーションは、同じクリップボード形式名を指定する必要があります。

フレームワークが[CMFC ツール バー ボタン](#getclipboardformat)を呼び出す前に、このメソッドを呼び出す必要があります。

## <a name="cmfctoolbarbuttonsetimage"></a><a name="setimage"></a>コントロール バーボタン::セットイメージ

ボタンのイメージインデックスを設定します。

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>パラメーター

*iイメージ*<br/>
[in]ツール バー イメージのコレクション内のイメージのインデックス。

### <a name="remarks"></a>解説

ツール バー ボタンが区切り記号の場合 *、iImage*は、区切りボタンの新しい幅を参照します。

*iImage*が 0 未満の場合、このメソッドはイメージの描画を無効にし、ボタンのテキスト ラベルの描画を有効にします。

## <a name="cmfctoolbarbuttonsetprotectedcommands"></a><a name="setprotectedcommands"></a>コントロール バーボタン:::プロテクト コマンド

ユーザーがカスタマイズできないコマンドのリストを設定します。

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>パラメーター

*lstCmds*<br/>
[in]保護されたコマンドのリスト。

### <a name="remarks"></a>解説

カスタマイズ モードでは、保護されているツール バー ボタン コマンドがフレームワークによって無効になります。 ユーザーは、無効になっているツール バー ボタンに対してドラッグ アンド ドロップ操作および編集操作を実行できません。

プロテクト コマンドの一覧を取得するには[、CMFC ツール バー ボタン::GetProtectedCommands](#getprotectedcommands)メソッドを使用します。

## <a name="cmfctoolbarbuttonsetradio"></a><a name="setradio"></a>コントロールバーボタン::セットラジオ

ボタンがチェック状態を変更したときに、フレームワークによって呼び出されます。

```
virtual void SetRadio();
```

### <a name="remarks"></a>解説

このメソッドの既定の実装では、何も実行されません。 ボタンがチェックされた状態を変更したときにカスタム動作を実行するには、このメソッドをオーバーライドします。

## <a name="cmfctoolbarbuttonsetrect"></a><a name="setrect"></a>コントロール バーボタン::セットレック

ボタンの外接する四角形を設定します。

```cpp
void SetRect(const CRect rect);
```

### <a name="parameters"></a>パラメーター

*Rect*<br/>
[in]ボタンの新しい外接する四角形。

### <a name="remarks"></a>解説

このメソッドは、新しい外接する四角形を設定した後[、CMFCToolBarButton::OnMove](#onmove)メソッドを呼び出します。

## <a name="cmfctoolbarbuttonsetstyle"></a><a name="setstyle"></a>コントロール バーボタン::セットスタイル

ボタンのスタイルを設定します。

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>パラメーター

*nStyle*<br/>
[in]ボタンの新しいスタイル。

### <a name="remarks"></a>解説

既定の実装では[、CMFCToolBarButton::m_nStyle](#m_nstyle)データ メンバーを*nStyle*に設定します。 スタイルの変更を処理するために追加の処理を実行する場合は、このメソッドをオーバーライドします。 有効なスタイル フラグの一覧については、「[ツール バー コントロールのスタイル](toolbar-control-styles.md)」を参照してください。

## <a name="cmfctoolbarbuttonsetvisible"></a><a name="setvisible"></a>CMFCツールバーボタン::セットビジブル

ボタンを表示するかどうかを指定します。

```cpp
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>パラメーター

*bショー*<br/>
[in]ボタンの表示/非表示を切り替えるかどうかを指定するブール値。 このパラメーターが TRUE の場合、ボタンが表示されます。 パラメータが FALSE の場合、ボタンは非表示になります。

### <a name="remarks"></a>解説

この関数を使用して、特定のツールバー ボタンの表示/非表示を切り替えます。 このメソッドを呼び出した後[、CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate)メソッドを呼び出します。

## <a name="cmfctoolbarbuttonshow"></a><a name="show"></a>CMFCツールバーボタン::ショー

ボタンの表示/非表示を切り替えます。

```cpp
void Show(BOOL bShow);
```

### <a name="parameters"></a>パラメーター

*bショー*<br/>
[in]ボタンの表示/非表示を切り替えるかどうかを指定するブール値。 このパラメーターが TRUE の場合、ボタンが表示されます。 パラメータが FALSE の場合、ボタンは非表示になります。

### <a name="remarks"></a>解説

フレームワークは、親ツール バーのサイズが変更されたときにツール バー ボタンの表示を更新するために、このメソッドを呼び出します。 ボタンがツールバーの境界内に収まらない場合、フレームワークは*bShow*を FALSE に設定してこのメソッドを呼び出します。 フレームワークは、ボタンのサイズを再設定した後、ツール バーの境界内に収まるときに *、bShow*を TRUE に設定して、このメソッドを呼び出します。

ボタンの[一](#setvisible)般的な可視性を設定するには、メソッドを使用します。

このメソッドは、ボタンの可視性の状態を更新した後[、CMFCToolBarButton::OnShow](#onshow)メソッドを呼び出します。

## <a name="see-also"></a>関連項目

[階層グラフ](../../mfc/hierarchy-chart.md)<br/>
[クラス](../../mfc/reference/mfc-classes.md)<br/>
[クラス](../../mfc/reference/cmfctoolbar-class.md)<br/>
[CMFCToolBarImages クラス](../../mfc/reference/cmfctoolbarimages-class.md)
