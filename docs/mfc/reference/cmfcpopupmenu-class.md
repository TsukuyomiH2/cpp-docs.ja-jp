---
title: CMFCPopupMenu クラス
ms.date: 10/18/2018
f1_keywords:
- CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::ActivatePopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::AlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::AreAllCommandsShown
- AFXPOPUPMENU/CMFCPopupMenu::CheckArea
- AFXPOPUPMENU/CMFCPopupMenu::CloseMenu
- AFXPOPUPMENU/CMFCPopupMenu::Create
- AFXPOPUPMENU/CMFCPopupMenu::DefaultMouseClickOnClose
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuLogo
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::EnableResize
- AFXPOPUPMENU/CMFCPopupMenu::EnableScrolling
- AFXPOPUPMENU/CMFCPopupMenu::EnableVertResize
- AFXPOPUPMENU/CMFCPopupMenu::FindSubItemByCommand
- AFXPOPUPMENU/CMFCPopupMenu::GetActiveMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::GetDropDirection
- AFXPOPUPMENU/CMFCPopupMenu::GetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::GetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::GetHMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuBar
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItem
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItemCount
- AFXPOPUPMENU/CMFCPopupMenu::GetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::GetParentArea
- AFXPOPUPMENU/CMFCPopupMenu::GetParentButton
- AFXPOPUPMENU/CMFCPopupMenu::GetParentPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::GetParentToolBar
- AFXPOPUPMENU/CMFCPopupMenu::GetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::GetSelItem
- AFXPOPUPMENU/CMFCPopupMenu::HasBeenResized
- AFXPOPUPMENU/CMFCPopupMenu::HideRarelyUsedCommands
- AFXPOPUPMENU/CMFCPopupMenu::InCommand
- AFXPOPUPMENU/CMFCPopupMenu::InsertItem
- AFXPOPUPMENU/CMFCPopupMenu::InsertSeparator
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysClose
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::IsCustomizePane
- AFXPOPUPMENU/CMFCPopupMenu::IsEscClose
- AFXPOPUPMENU/CMFCPopupMenu::IsIdle
- AFXPOPUPMENU/CMFCPopupMenu::IsMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::IsQuickCustomize
- AFXPOPUPMENU/CMFCPopupMenu::IsResizeble
- AFXPOPUPMENU/CMFCPopupMenu::IsRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::IsScrollable
- AFXPOPUPMENU/CMFCPopupMenu::IsSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::IsShown
- AFXPOPUPMENU/CMFCPopupMenu::MoveTo
- AFXPOPUPMENU/CMFCPopupMenu::OnCmdMsg
- AFXPOPUPMENU/CMFCPopupMenu::PostCommand
- AFXPOPUPMENU/CMFCPopupMenu::PreTranslateMessage
- AFXPOPUPMENU/CMFCPopupMenu::RecalcLayout
- AFXPOPUPMENU/CMFCPopupMenu::RemoveAllItems
- AFXPOPUPMENU/CMFCPopupMenu::RemoveItem
- AFXPOPUPMENU/CMFCPopupMenu::SaveState
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::SetAutoDestroy
- AFXPOPUPMENU/CMFCPopupMenu::SetDefaultItem
- AFXPOPUPMENU/CMFCPopupMenu::SetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::SetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::SetMaxWidth
- AFXPOPUPMENU/CMFCPopupMenu::SetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::SetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickMode
- AFXPOPUPMENU/CMFCPopupMenu::SetRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::SetSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::ShowAllCommands
- AFXPOPUPMENU/CMFCPopupMenu::TriggerResize
- AFXPOPUPMENU/CMFCPopupMenu::UpdateAllShadows
- AFXPOPUPMENU/CMFCPopupMenu::UpdateShadow
- AFXPOPUPMENU/CMFCPopupMenu::CreateTearOffBar
- AFXPOPUPMENU/CMFCPopupMenu::OnChangeHot
- AFXPOPUPMENU/CMFCPopupMenu::OnChooseItem
helpviewer_keywords:
- CMFCPopupMenu [MFC], CMFCPopupMenu
- CMFCPopupMenu [MFC], ActivatePopupMenu
- CMFCPopupMenu [MFC], AlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], AreAllCommandsShown
- CMFCPopupMenu [MFC], CheckArea
- CMFCPopupMenu [MFC], CloseMenu
- CMFCPopupMenu [MFC], Create
- CMFCPopupMenu [MFC], DefaultMouseClickOnClose
- CMFCPopupMenu [MFC], EnableMenuLogo
- CMFCPopupMenu [MFC], EnableMenuSound
- CMFCPopupMenu [MFC], EnableResize
- CMFCPopupMenu [MFC], EnableScrolling
- CMFCPopupMenu [MFC], EnableVertResize
- CMFCPopupMenu [MFC], FindSubItemByCommand
- CMFCPopupMenu [MFC], GetActiveMenu
- CMFCPopupMenu [MFC], GetAnimationSpeed
- CMFCPopupMenu [MFC], GetAnimationType
- CMFCPopupMenu [MFC], GetDropDirection
- CMFCPopupMenu [MFC], GetForceMenuFocus
- CMFCPopupMenu [MFC], GetForceShadow
- CMFCPopupMenu [MFC], GetHMenu
- CMFCPopupMenu [MFC], GetMenuBar
- CMFCPopupMenu [MFC], GetMenuItem
- CMFCPopupMenu [MFC], GetMenuItemCount
- CMFCPopupMenu [MFC], GetMessageWnd
- CMFCPopupMenu [MFC], GetParentArea
- CMFCPopupMenu [MFC], GetParentButton
- CMFCPopupMenu [MFC], GetParentPopupMenu
- CMFCPopupMenu [MFC], GetParentRibbonElement
- CMFCPopupMenu [MFC], GetParentToolBar
- CMFCPopupMenu [MFC], GetQuickCustomizeType
- CMFCPopupMenu [MFC], GetSelItem
- CMFCPopupMenu [MFC], HasBeenResized
- CMFCPopupMenu [MFC], HideRarelyUsedCommands
- CMFCPopupMenu [MFC], InCommand
- CMFCPopupMenu [MFC], InsertItem
- CMFCPopupMenu [MFC], InsertSeparator
- CMFCPopupMenu [MFC], IsAlwaysClose
- CMFCPopupMenu [MFC], IsAlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], IsCustomizePane
- CMFCPopupMenu [MFC], IsEscClose
- CMFCPopupMenu [MFC], IsIdle
- CMFCPopupMenu [MFC], IsMenuSound
- CMFCPopupMenu [MFC], IsQuickCustomize
- CMFCPopupMenu [MFC], IsResizeble
- CMFCPopupMenu [MFC], IsRightAlign
- CMFCPopupMenu [MFC], IsScrollable
- CMFCPopupMenu [MFC], IsSendMenuSelectMsg
- CMFCPopupMenu [MFC], IsShown
- CMFCPopupMenu [MFC], MoveTo
- CMFCPopupMenu [MFC], OnCmdMsg
- CMFCPopupMenu [MFC], PostCommand
- CMFCPopupMenu [MFC], PreTranslateMessage
- CMFCPopupMenu [MFC], RecalcLayout
- CMFCPopupMenu [MFC], RemoveAllItems
- CMFCPopupMenu [MFC], RemoveItem
- CMFCPopupMenu [MFC], SaveState
- CMFCPopupMenu [MFC], SetAnimationSpeed
- CMFCPopupMenu [MFC], SetAnimationType
- CMFCPopupMenu [MFC], SetAutoDestroy
- CMFCPopupMenu [MFC], SetDefaultItem
- CMFCPopupMenu [MFC], SetForceMenuFocus
- CMFCPopupMenu [MFC], SetForceShadow
- CMFCPopupMenu [MFC], SetMaxWidth
- CMFCPopupMenu [MFC], SetMessageWnd
- CMFCPopupMenu [MFC], SetParentRibbonElement
- CMFCPopupMenu [MFC], SetQuickCustomizeType
- CMFCPopupMenu [MFC], SetQuickMode
- CMFCPopupMenu [MFC], SetRightAlign
- CMFCPopupMenu [MFC], SetSendMenuSelectMsg
- CMFCPopupMenu [MFC], ShowAllCommands
- CMFCPopupMenu [MFC], TriggerResize
- CMFCPopupMenu [MFC], UpdateAllShadows
- CMFCPopupMenu [MFC], UpdateShadow
- CMFCPopupMenu [MFC], CreateTearOffBar
- CMFCPopupMenu [MFC], OnChangeHot
- CMFCPopupMenu [MFC], OnChooseItem
ms.assetid: 9555dca1-8c9c-44c9-af72-0659ddad128e
ms.openlocfilehash: 74f161d68c3c58574d75ab64a1360fc7f571920d
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/22/2020
ms.locfileid: "81751932"
---
# <a name="cmfcpopupmenu-class"></a>CMFCPopupMenu クラス

Windows のポップアップ メニュー機能を実装し、ティアオフ メニューやツールヒントなどの機能を追加することでそれを拡張します。
詳細については、Visual Studio のインストールの**\\VC\\atlmfc\\src mfc**フォルダーにあるソース コードを参照してください。

## <a name="syntax"></a>構文

```
class CMFCPopupMenu : public CMiniFrameWnd
```

## <a name="members"></a>メンバー

### <a name="protected-constructors"></a>プロテクト コンストラクター

|名前|説明|
|----------|-----------------|
|[メニュー::CMFCポップアップメニュー](#cmfcpopupmenu)|`CMFCPopupMenu` オブジェクトを構築します。|

### <a name="public-methods"></a>パブリック メソッド

|名前|説明|
|----------|-----------------|
|[メニュー::アクティブポップアップメニュー](#activatepopupmenu)||
|[メニュー::常に空のツールエントリを表示します。](#alwaysshowemptytoolsentry)|ユーザー定義ツールの空のエントリを表示するポップアップ メニューを有効にするかどうかを設定します。|
|[メニュー::アレオールコマンドを表示](#areallcommandsshown)||
|[メニュー::チェックエリア](#checkarea)|ポップアップメニューを基準にした点の位置を指定します。|
|[メニューを閉じる](#closemenu)||
|[メニュー::作成](#create)|ポップアップ メニューを作成し、オブジェクトに`CMFCPopupMenu`アタッチします。|
|[閉じるメニュー::D断食マウスクリックオンクローズ](#defaultmouseclickonclose)||
|[メニュー::メニューを有効にするロゴ](#enablemenulogo)|ポップアップ メニューのロゴを初期化します。|
|[メニュー::メニューサウンドを有効にする](#enablemenusound)|メニューサウンドを有効にします。|
|[メニュー::サイズ変更を有効にする](#enableresize)||
|[メニュー::スクロールを有効にする](#enablescrolling)||
|[CMFCポップアップメニュー::有効に反転サイズ変更](#enablevertresize)||
|[メニュー::コマンドを実行します。](#findsubitembycommand)||
|[メニュー::アクティブメニュー](#getactivemenu)|現在アクティブなメニューを返します。|
|[メニュー::アニメーションスピードを取得します。](#getanimationspeed)|ポップアップ メニューのアニメーション速度を返します。|
|[メニュー::アニメーションタイプ](#getanimationtype)|現在のポップアップ メニューアニメーションの種類を返します。|
|[メニュー::ドロップディレクション](#getdropdirection)||
|[メニュー::ゲットフォースメニューフォーカス](#getforcemenufocus)|ポップアップ メニューが表示されたときに、フォーカスをメニュー バーに戻すかどうかを示します。|
|[メニュー::ゲットフォースシャドウ](#getforceshadow)||
|[メニューを取得します。](#gethmenu)|アタッチされたメニュー リソースへのハンドルを返します。|
|[メニュー::メニューバーを取得します。](#getmenubar)|ポップアップ メニューに埋め込まれた[CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)を返します。|
|[メニューを取得します。](#getmenuitem)|指定したインデックス位置にあるメニュー項目へのポインターを返します。|
|[メニュー::メニュー項目数](#getmenuitemcount)|ポップアップ メニューの項目数を返します。|
|[メニュー::メッセージを取得](#getmessagewnd)|フレームワークがポップアップ メニュー メッセージをルーティングするウィンドウへのポインターを返します。|
|[メニュー::ゲットペアレントエリア](#getparentarea)||
|[メニュー::親ボタンを取得します。](#getparentbutton)|親ツール バー ボタンへのポインターを返します。|
|[メニュー::取得親ポップアップメニュー](#getparentpopupmenu)|親ポップアップ メニューへのポインターを返します。|
|[メニュー::取得親リボン要素](#getparentribbonelement)||
|[メニュー::親ツールバーを取得します。](#getparenttoolbar)|親ツール バーへのポインターを返します。|
|[メニュー::ゲットクイックカスタマイザタイプ](#getquickcustomizetype)||
|[メニュー::ゲットセルアイテム](#getselitem)|現在選択されているメニュー コマンドへのポインターを返します。|
|[メニュー::サイズ変更済み](#hasbeenresized)||
|[メニュー::隠し使用されないコマンド](#hiderarelyusedcommands)|ポップアップ メニューで、ほとんど使用されないコマンドを非表示にできるかどうかを示します。|
|[メニュー::インコマンド](#incommand)||
|[メニューを挿入します。](#insertitem)|ポップアップ メニューの指定した位置に新しい項目を挿入します。|
|[メニュー::セパレータ](#insertseparator)|指定した位置のポップアップ メニューに区切り記号を挿入します。|
|[メニュー::IsAlways閉じる](#isalwaysclose)||
|[メニュー::常に空のツールを表示します。](#isalwaysshowemptytoolsentry)||
|[メニュー::イスカスタマイアップペイン](#iscustomizepane)|ポップアップ メニューが**クイックカスタマイズ ペイン**として機能しているかどうかを示します。|
|[メニュー::イエスククローズ](#isescclose)||
|[メニュー::アイズアイドル](#isidle)|ポップアップ メニューが現在アイドル状態かどうかを示します。|
|[メニュー::イズメニューサウンド](#ismenusound)||
|[メニュー::イズクイックカスタマイズ](#isquickcustomize)|関連付けられている[CMFC ツール バーメニューボタン クラス](../../mfc/reference/cmfctoolbarmenubutton-class.md)がクイック カスタマイズ モードであるかどうかを判断します。|
|[メニュー::イズリサイズ可能](#isresizeble)||
|[メニュー::イスライト整列](#isrightalign)|メニューが右揃えか左揃えかを示します。|
|[メニュー::スクロール可能](#isscrollable)||
|[メニューをクリックします。](#issendmenuselectmsg)|ユーザーがポップアップ メニューからコマンドを選択したときに、フレームワークが親フレームに通知するかどうかを示します。|
|[メニュー::表示されます。](#isshown)|ポップアップ メニューが現在表示されているかどうかを示します。|
|[メニュー::移動](#moveto)||
|[メニュー::オンコマンド](#oncmdmsg)|( `CFrameWnd::OnCmdMsg`をオーバーライドします)。|
|[メニュー::Postコマンド](#postcommand)||
|[メッセージを再変換:Pメニュー](#pretranslatemessage)|( `CFrameWnd::PreTranslateMessage`をオーバーライドします)。|
|[メニュー::再計算レイアウト](#recalclayout)|標準のコントロール バーのオンとオフを切り替えるとき、またはフレーム ウィンドウのサイズが変更されたときに、フレームワークによって呼び出されます。 [(CFrameWnd をオーバーライドします::RecalcLayout](../../mfc/reference/cframewnd-class.md#recalclayout).)|
|[メニュー::すべての項目を削除します。](#removeallitems)|ポップアップ メニューからすべての項目をクリアします。|
|[メニューを削除します。](#removeitem)|指定した項目をポップアップ メニューから削除します。|
|[メニュー::セーブステート](#savestate)||
|[メニュー::アニメーションスピードを設定します。](#setanimationspeed)|ポップアップ メニューのアニメーション速度を設定します。|
|[メニュー::アニメーションタイプの設定](#setanimationtype)|ポップアップ メニューのアニメーションの種類を設定します。|
|[メニュー::セットオートデストロイ](#setautodestroy)||
|[メニュー::デフォルトアイテムを設定します。](#setdefaultitem)|ポップアップ メニューの既定のコマンドを設定します。|
|[メニュー::セットフォースメニューフォーカス](#setforcemenufocus)|ポップアップ メニューが表示されたときに、入力フォーカスを強制的にメニュー バーに戻します。|
|[メニュー::セットフォースシャドウ](#setforceshadow)|メイン フレームの外側にポップアップ メニューが表示されるときに、フレームワークにメニューシャドウを強制的に描画します。|
|[メニュー::セットマックス幅](#setmaxwidth)|ポップアップメニューの最大幅を設定します。|
|[メニュー::メッセージの送信](#setmessagewnd)||
|[メニュー::セットペアレントリボン要素](#setparentribbonelement)||
|[メニュー::セットクイックカスタマイザタイプ](#setquickcustomizetype)||
|[メニュー::セットクイックモード](#setquickmode)||
|[メニュー::セットライト整列](#setrightalign)|ポップアップ メニューのメニューの配置を設定します。|
|[メニュー::メニューを選択します。](#setsendmenuselectmsg)|ユーザーがコマンドを選択したときに、ポップアップ メニューがその親フレームに通知するかどうかを制御するフラグを設定します。|
|[メニュー::すべてのコマンドを表示します。](#showallcommands)|ポップアップ メニューにすべてのコマンドを強制的に表示します。|
|[メニュー::トリガーサイズ変更](#triggerresize)||
|[メニュー::すべてのシャドウ](#updateallshadows)|開いているすべてのポップアップ メニューのシャドウを更新します。|
|[メニュー::アップデートシャドウ](#updateshadow)|ポップアップ メニューのシャドウを更新します。|

### <a name="protected-methods"></a>プロテクト メソッド

|名前|説明|
|----------|-----------------|
|[メニュー::作成ティアオフバー](#createtearoffbar)||
|[メニュー::オンチェンジホット](#onchangehot)||
|[メニュー::オンセプテアアイテム](#onchooseitem)||

### <a name="remarks"></a>解説

通常、MFC はポップアップ メニューを自動的に作成します。 オブジェクトを手動で作成する場合は、ヒープ上にオブジェクトを割り当てて[から、CMFCPopupMenu::Create を](#create)呼び出します。 `CMFCPopupMenu`

## <a name="example"></a>例

次の例は、ポップアップ メニュー オブジェクトを設定する方法を示しています。 この例では、ポップアップ メニューのロゴとサウンドの設定、アニメーションの速度と種類の設定、メイン フレームの外側にポップアップ メニューが表示されたときにのメニューシャドウの描画、最大幅の設定、およびポップアップ メニューの右のメニュー配置の設定方法を示します。 このコード スニペットは、[カスタム ページのサンプル](../../overview/visual-cpp-samples.md)の一部です。

[!code-cpp[NVC_MFC_CustomPages#2](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>継承階層

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CFrameWnd](../../mfc/reference/cframewnd-class.md)

[CMiniFrameWnd](../../mfc/reference/cminiframewnd-class.md)

`CMFCPopupMenu`

## <a name="requirements"></a>必要条件

**ヘッダー:** afxpopupmenu.h

## <a name="cmfcpopupmenuactivatepopupmenu"></a><a name="activatepopupmenu"></a>メニュー::アクティブポップアップメニュー

```
static BOOL __stdcall ActivatePopupMenu(
    CFrameWnd* pTopFrame,
    CMFCPopupMenu* pPopupMenu);
```

### <a name="parameters"></a>パラメーター

[in]*トップフレーム*<br/>
[in]*メニュー*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenualwaysshowemptytoolsentry"></a><a name="alwaysshowemptytoolsentry"></a>メニュー::常に空のツールエントリを表示します。

ユーザー定義ツールの空のエントリを表示するポップアップ メニューを有効にするかどうかを設定します。

```
static void AlwaysShowEmptyToolsEntry(BOOL bShow = TRUE);
```

### <a name="parameters"></a>パラメーター

*bショー*<br/>
[in]ポップアップ メニューに空のエントリを表示できる場合は TRUE。それ以外の場合は FALSE。

## <a name="cmfcpopupmenuareallcommandsshown"></a><a name="areallcommandsshown"></a>メニュー::アレオールコマンドを表示

```
BOOL AreAllCommandsShown() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenucheckarea"></a><a name="checkarea"></a>メニュー::チェックエリア

ポップアップメニューを基準にした点の位置を指定します。

```
MENUAREA_TYPE CheckArea(const CPoint& ptScreen) const;
```

### <a name="parameters"></a>パラメーター

*ptスクリーン*<br/>
[in]画面座標で示した点。

### <a name="return-value"></a>戻り値

ポイントがポップアップ メニューを基準とする位置を示すMENUAREA_TYPEパラメーター。

### <a name="remarks"></a>解説

MENUAREA_TYPE パラメーターには、次のいずれかの値を指定できます。

- OUTSIDE - *ptScreen*はポップアップ メニューの外にあります。

- ロゴ - *ptScreen*はロゴ領域の上にあります。

- TEAROFF_CAPTION - *ptScreen*はティアオフキャプションの上にあります。

- SHADOW_BOTTOM - *ptScreen*はポップアップメニューの下の影の上にあります。

- SHADOW_RIGHT - *ptScreen*はポップアップメニューの右の影の上にあります。

- メニュー - *ptScreen*はコマンドの上にあります。

## <a name="cmfcpopupmenuclosemenu"></a><a name="closemenu"></a>メニューを閉じる

```cpp
void CloseMenu(BOOL bSetFocusToBar = FALSE);
```

### <a name="parameters"></a>パラメーター

[in]*トバー*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenucmfcpopupmenu"></a><a name="cmfcpopupmenu"></a>メニュー::CMFCポップアップメニュー

[オブジェクトを](../../mfc/reference/cmfcpopupmenu-class.md)構築します。

```
CMFCPopupMenu(
    CMFCToolBarsMenuPropertyPage* pCustPage,
    LPCTSTR lpszTitle);
```

### <a name="parameters"></a>パラメーター

*ページ*<br/>
[in]カスタマイズ ページへのポインター。

*lpszタイトル*<br/>
[in]メニューキャプションを含む文字列。

### <a name="remarks"></a>解説

このメソッドは、リソースを に`CMFCPopupMenu`割り当てます。 ポップアップ メニュー項目を作成するには[、CMFCPopupMenu::Create を](#create)呼び出します。

## <a name="cmfcpopupmenucreate"></a><a name="create"></a>メニュー::作成

ポップアップ メニューを作成し[、CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)オブジェクトにアタッチします。

```
virtual BOOL Create(
    CWnd* pWndParent,
    int x,
    int y,
    HMENU hMenu,
    BOOL bLocked = FALSE,
    BOOL bOwnMessage = FALSE);
```

### <a name="parameters"></a>パラメーター

*親の子*<br/>
[in]の親ウィンドウです`CMFCPopupMenu`。

*x*<br/>
[in]ポップアップ メニューの位置の水平画面座標

*Y*<br/>
[in]ポップ メニューの位置を示す垂直方向の画面座標。

*Hmenu*<br/>
[in]メニュー リソースへのハンドル。

*ブロック*<br/>
[in]メニューがカスタマイズ可能かどうかを示すブール値パラメーター。 FALSE は、ポップアップ メニューがカスタマイズ可能であることを示します。

*メッセージを見る*<br/>
[in]フレームワークがメニュー メッセージをルーティングする方法を示すブール値パラメーター。 詳細については、「解説」を参照してください。

### <a name="return-value"></a>戻り値

メソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

*bOwnMessage*が TRUE の場合、フレームワークはメニュー メッセージを*pWndParent*にルーティングします。 *bOwnMessage*が TRUE の*bOwnMessage*場合は、親の親を NULL にすることはできません。 *bOwnMessage*が FALSE の場合、フレームワークはメニュー メッセージを親ポップアップ メニューにルーティングします。

### <a name="example"></a>例

クラスのメソッドの使用方法を`Create`次の例に示します`CMFCPopuMenu`。 このコード スニペットは、[カスタム ページのサンプル](../../overview/visual-cpp-samples.md)の一部です。

[!code-cpp[NVC_MFC_CustomPages#1](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_2.cpp)]

## <a name="cmfcpopupmenucreatetearoffbar"></a><a name="createtearoffbar"></a>メニュー::作成ティアオフバー

```
virtual CPane* CreateTearOffBar(
    CFrameWnd* pWndMain,
    UINT uiID,
    LPCTSTR lpszName);
```

### <a name="parameters"></a>パラメーター

[in]*ド・マイン*<br/>
[in]*UIID*<br/>
[in]*名前を指定します。*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenudefaultmouseclickonclose"></a><a name="defaultmouseclickonclose"></a>閉じるメニュー::D断食マウスクリックオンクローズ

```
virtual BOOL DefaultMouseClickOnClose() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuenablemenulogo"></a><a name="enablemenulogo"></a>メニュー::メニューを有効にするロゴ

ポップアップ メニューのロゴを初期化します。

```cpp
void EnableMenuLogo(
    int iLogoSize,
    LOGO_LOCATION nLogoLocation = MENU_LOGO_LEFT);
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
[in]ロゴのサイズ (ピクセル単位)。

*nロゴロケーション*<br/>
[in]ロゴの位置を示す列挙型。

### <a name="remarks"></a>解説

ロゴを表示するには、メイン フレーム ウィンドウにメソッド[CFrameWndEx::OnDrawMenuLogo](../../mfc/reference/cframewndex-class.md#ondrawmenulogo)を実装します。

*nLogoLocation*の値として指定できる値は、MENU_LOGO_LEFT、MENU_LOGO_RIGHT、MENU_LOGO_TOP、およびMENU_LOGO_BOTTOMです。

## <a name="cmfcpopupmenuenablemenusound"></a><a name="enablemenusound"></a>メニュー::メニューサウンドを有効にする

メニューサウンドを有効にします。

```
static void EnableMenuSound(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>パラメーター

*b 有効にする*<br/>
[in]サウンドを有効にする場合は TRUE、それ以外の場合は FALSE。

### <a name="remarks"></a>解説

サウンドを有効にすると、ユーザーがポップアップ メニューを開いたり、メニュー コマンドを選択したりしたときに、フレームワークは[PlaySound](/windows/win32/api/shobjidl_core/nf-shobjidl_core-iusernotification-playsound)メソッドを呼び出します。 既定では、この機能は有効になっています。

## <a name="cmfcpopupmenuenableresize"></a><a name="enableresize"></a>メニュー::サイズ変更を有効にする

```cpp
void EnableResize(CSize sizeMinResize);
```

### <a name="parameters"></a>パラメーター

[in]*サイズMinサイズ変更*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuenablescrolling"></a><a name="enablescrolling"></a>メニュー::スクロールを有効にする

```cpp
void EnableScrolling(BOOL = TRUE);
```

### <a name="parameters"></a>パラメーター

[in]*ブール*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuenablevertresize"></a><a name="enablevertresize"></a>CMFCポップアップメニュー::有効に反転サイズ変更

```cpp
void EnableVertResize(int nMinResize);
```

### <a name="parameters"></a>パラメーター

[in]*nMinサイズ変更*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenufindsubitembycommand"></a><a name="findsubitembycommand"></a>メニュー::コマンドを実行します。

```
CMFCToolBarMenuButton* FindSubItemByCommand(UINT uiCmd) const;
```

### <a name="parameters"></a>パラメーター

[in]*uiCmd*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenugetactivemenu"></a><a name="getactivemenu"></a>メニュー::アクティブメニュー

現在アクティブなメニューを返します。

```
static CMFCPopupMenu* GetActiveMenu();
```

### <a name="return-value"></a>戻り値

アクティブなポップアップ メニューへのポインター。

### <a name="remarks"></a>解説

各アプリケーションには、最大で 1 つのアクティブなポップアップ メニューを設定できます。

## <a name="cmfcpopupmenugetanimationspeed"></a><a name="getanimationspeed"></a>メニュー::アニメーションスピードを取得します。

ポップアップ メニューのアニメーション速度を返します。

```
static UINT GetAnimationSpeed();
```

### <a name="return-value"></a>戻り値

ポップアップ メニューアニメーションの終了にかかる時間をミリ秒単位で示す整数。

### <a name="remarks"></a>解説

アニメーション速度はグローバル値です。 [ポップアップ メニューのアニメーション速度を変更するには、CMFCPopupMenu::SetAnimationSpeed](#setanimationspeed)を使用します。

## <a name="cmfcpopupmenugetanimationtype"></a><a name="getanimationtype"></a>メニュー::アニメーションタイプ

現在のポップアップ アニメーションの種類を返します。

```
static CMFCPopupMenu::ANIMATION_TYPE GetAnimationType(BOOL bNoSystem = FALSE);
```

### <a name="parameters"></a>パラメーター

*システム*<br/>
[in]このメソッドがグローバル値をチェックするかどうかを示すブール値パラメーター。 このメソッドが[CMFCPopupMenu クラス](../../mfc/reference/cmfcpopupmenu-class.md)のこのインスタンスのアニメーション スタイルを返す場合は FALSE を指定します。

### <a name="return-value"></a>戻り値

アニメーションの種類を説明する列挙値。

### <a name="remarks"></a>解説

ポップアップ メニューのアニメーションのスタイルは、アプリケーションでグローバルです。 アニメーション スタイルを設定するには[、CMFCPopupMenu::SetAnimationType](#setanimationtype)を使用します。

次の表に、アニメーションの種類を示します。

|||
|-|-|
|NO_ANIMATION|ポップアップ メニューはアニメーション化されず、すぐに表示されます。  |
|展開|フレームワークは、左上隅から右下隅にポップアップメニューを表示します。  |
|スライド|ポップアップメニューが上から下に移動します。  |
|フェード|ポップアップメニューはまず透明に表示され、徐々に固化します。  |

## <a name="cmfcpopupmenugetdropdirection"></a><a name="getdropdirection"></a>メニュー::ドロップディレクション

```
DROP_DIRECTION GetDropDirection() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenugetforcemenufocus"></a><a name="getforcemenufocus"></a>メニュー::ゲットフォースメニューフォーカス

ポップアップ メニューが表示されたときに、フォーカスをメニュー バーに戻すかどうかを示します。

```
static BOOL GetForceMenuFocus();
```

### <a name="return-value"></a>戻り値

ポップアップ メニューが表示されたときに入力フォーカスがメニュー バーに戻される場合は TRUE。ポップアップメニューがフォーカスを保持する場合は FALSE。

### <a name="remarks"></a>解説

既定では、アプリケーションはメニュー バーにフォーカスを戻しません。 この設定を変更するには、[メニューを](#setforcemenufocus)使用します。

## <a name="cmfcpopupmenugetforceshadow"></a><a name="getforceshadow"></a>メニュー::ゲットフォースシャドウ

```
static BOOL __stdcall GetForceShadow();
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenugethmenu"></a><a name="gethmenu"></a>メニューを取得します。

アタッチされたメニュー リソースへのハンドルを返します。

```
HMENU GetHMenu();
```

## <a name="cmfcpopupmenugetmenubar"></a><a name="getmenubar"></a>メニュー::メニューバーを取得します。

ポップアップ メニューに埋め込まれた[CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)を返します。

```
virtual CMFCPopupMenuBar* GetMenuBar();
```

### <a name="return-value"></a>戻り値

埋め込み`CMFCPopupMenuBar`型の .

### <a name="remarks"></a>解説

ポップアップメニューには埋め込み`CMFCPopupMenuBar`オブジェクトがあります。 別の埋め込みクラスを使用する場合は、派生クラスでこのメソッドをオーバーライドする必要があります。

## <a name="cmfcpopupmenugetmenuitem"></a><a name="getmenuitem"></a>メニューを取得します。

指定したインデックス位置にあるメニュー項目へのポインターを返します。

```
CMFCToolBarMenuButton* GetMenuItem(int iIndex) const;
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
[in]メニュー項目の 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

メニュー項目へのポインター。 インデックスが無効な場合は NULL。

### <a name="remarks"></a>解説

メニュー項目は、[クラス](../../mfc/reference/cmfctoolbarmenubutton-class.md)で表されます。 このメソッドを呼び出すと、適切な`CMFCToolBarMenuButton`へのポインターが返されます。

## <a name="cmfcpopupmenugetmenuitemcount"></a><a name="getmenuitemcount"></a>メニュー::メニュー項目数

ポップアップ メニューの項目数を返します。

```
int GetMenuItemCount() const;
```

### <a name="return-value"></a>戻り値

メニュー内の項目数。

## <a name="cmfcpopupmenugetmessagewnd"></a><a name="getmessagewnd"></a>メニュー::メッセージを取得

フレームワークがポップアップ メニュー メッセージをルーティングするウィンドウへのポインターを返します。

```
CWnd* GetMessageWnd() const;
```

### <a name="return-value"></a>戻り値

ポップアップ メニュー メッセージを受け取るウィンドウへのポインター。ウィンドウがない場合は NULL。

### <a name="remarks"></a>解説

メソッド[CMFCPopupMenu::Create](#create)を使用してポップアップ メニューを作成する場合は、メニュー メッセージを受け取るウィンドウを指定します。

## <a name="cmfcpopupmenugetparentarea"></a><a name="getparentarea"></a>メニュー::ゲットペアレントエリア

```
virtual CWnd* GetParentArea(CRect& rectParentBtn);
```

### <a name="parameters"></a>パラメーター

[in]*レクトペアレントBtn*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenugetparentbutton"></a><a name="getparentbutton"></a>メニュー::親ボタンを取得します。

親ツール バー ボタンへのポインターを返します。

```
CMFCToolBarMenuButton* GetParentButton() const;
```

### <a name="return-value"></a>戻り値

親ツール バー ボタンへのポインター。 ポップアップ メニューに親ツール バー ボタンがない場合は NULL。

### <a name="remarks"></a>解説

メニュー`CMFCPopupMenu`のボタンに関連付けることができます。 このシナリオでは、ユーザーが親ツール バー ボタンを選択すると、ポップアップ メニューが表示されます。

ポップアップ メニューがショートカット メニューの場合、親ツール バー ボタンはありません。

## <a name="cmfcpopupmenugetparentpopupmenu"></a><a name="getparentpopupmenu"></a>メニュー::取得親ポップアップメニュー

親ポップアップ メニューへのポインターを返します。

```
CMFCPopupMenu* GetParentPopupMenu() const;
```

### <a name="return-value"></a>戻り値

親`CMFCPopupMenu`オブジェクトへのポインター。親ポップアップ メニューがない場合は NULL。

### <a name="remarks"></a>解説

ポップアップメニューには、サブメニューの場合にのみ`CMFCPopupMenu`親オブジェクトが含まれます。

## <a name="cmfcpopupmenugetparentribbonelement"></a><a name="getparentribbonelement"></a>メニュー::取得親リボン要素

```
CMFCRibbonBaseElement* GetParentRibbonElement() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenugetparenttoolbar"></a><a name="getparenttoolbar"></a>メニュー::親ツールバーを取得します。

親ツール バーへのポインターを返します。

```
CMFCToolBar* GetParentToolBar() const;
```

### <a name="return-value"></a>戻り値

親ツール バーへのポインター。 ポップアップ メニューに親ツール バーがない場合は NULL。

### <a name="remarks"></a>解説

が`CMFCPopupMenu`ショートカット メニューの場合、親ツール バーはありません。

## <a name="cmfcpopupmenugetquickcustomizetype"></a><a name="getquickcustomizetype"></a>メニュー::ゲットクイックカスタマイザタイプ

```
QUICK_CUSTOMIZE_TYPE GetQuickCustomizeType() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenugetselitem"></a><a name="getselitem"></a>メニュー::ゲットセルアイテム

現在選択されているメニュー コマンドへのポインターを返します。

```
CMFCToolBarMenuButton* GetSelItem();
```

### <a name="return-value"></a>戻り値

現在選択されているメニュー コマンドへのポインター。項目が選択されていない場合は NULL。

### <a name="remarks"></a>解説

ポップアップ メニューのメニュー コマンドは、 [CMFCToolBarMenuButton クラス](../../mfc/reference/cmfctoolbarmenubutton-class.md)、または から`CMFCToolBarMenuButton`派生したクラスで表されます。

## <a name="cmfcpopupmenuhasbeenresized"></a><a name="hasbeenresized"></a>メニュー::サイズ変更済み

```
BOOL HasBeenResized() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuhiderarelyusedcommands"></a><a name="hiderarelyusedcommands"></a>メニュー::隠し使用されないコマンド

ポップアップ メニューで、ほとんど使用されないコマンドを非表示にできるかどうかを示します。

```
BOOL HideRarelyUsedCommands() const;
```

### <a name="return-value"></a>戻り値

ポップアップ メニューがめったに使用されないコマンドを非表示にできる場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、ポップアップ メニューが使用されないコマンドを非表示にできるかどうかを指定します。 ポップアップ メニューが親ボタンを持ち、親ウィンドウが[CMFCMenuBar クラス](../../mfc/reference/cmfcmenubar-class.md)から派生している場合、めったに使用されないコマンドを非表示にすることができます。 この機能を有効にするには[、CMFCMenuBar::Set最近使用したメニュー](../../mfc/reference/cmfcmenubar-class.md#isrecentlyusedmenus)を使用し、この機能が現在有効になっているかどうかを判断します。 [CMFCMenuBar::SetRecentlyUsedMenus](../../mfc/reference/cmfcmenubar-class.md#setrecentlyusedmenus) 親ウィンドウに対しては、これらの両方のメソッドを呼び出す必要があります。

## <a name="cmfcpopupmenuincommand"></a><a name="incommand"></a>メニュー::インコマンド

```
virtual BOOL InCommand();
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuinsertitem"></a><a name="insertitem"></a>メニューを挿入します。

ポップアップ メニューの指定した位置に新しい項目を挿入します。

```
int InsertItem(
    const CMFCToolBarMenuButton& button,
    int iInsertA = -1);
```

### <a name="parameters"></a>パラメーター

*ボタン*<br/>
[in]追加するメニュー項目への参照。

*挿入*<br/>
[in]新しい項目の 0 から始まるインデックス。 *iInsertAt*が -1 の場合、項目はメニューの末尾に追加されます。

### <a name="return-value"></a>戻り値

項目が挿入された位置の 0 から始まるインデックス。 メソッドが失敗した場合は -1。

### <a name="remarks"></a>解説

このメソッドは *、iInsertAt*に無効な値 (ポップアップ メニューに現在表示されている項目数より大きい整数など) を指定した場合、失敗します。

## <a name="cmfcpopupmenuinsertseparator"></a><a name="insertseparator"></a>メニュー::セパレータ

指定した位置のポップアップ メニューに区切り記号を挿入します。

```
int InsertSeparator(int iInsertAt = -1);
```

### <a name="parameters"></a>パラメーター

*挿入*<br/>
[in]このメソッドが区切り記号を挿入する位置の 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

区切り記号が挿入された位置の 0 から始まるインデックス。 このメソッドが失敗した場合は -1。

### <a name="remarks"></a>解説

*iInsertAt*の値が -1 の場合、このメソッドは、ポップアップ メニューの末尾に区切り記号を追加します。

*このメソッドは、iInsertAt*が無効な値である場合に失敗します。

## <a name="cmfcpopupmenuisalwaysclose"></a><a name="isalwaysclose"></a>メニュー::IsAlways閉じる

```
virtual BOOL IsAlwaysClose() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuisalwaysshowemptytoolsentry"></a><a name="isalwaysshowemptytoolsentry"></a>メニュー::常に空のツールを表示します。

```
static BOOL __stdcall IsAlwaysShowEmptyToolsEntry();
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuiscustomizepane"></a><a name="iscustomizepane"></a>メニュー::イスカスタマイアップペイン

ポップアップ メニューが**クイックカスタマイズ ペイン**として機能しているかどうかを示します。

```
BOOL IsCustomizePane();
```

### <a name="return-value"></a>戻り値

ポップアップが**Quck カスタマイズ ペイン**の場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

**クイックカスタマイズウィンドウ**を使用すると、ユーザーがポップアップ メニューを直接カスタマイズできるようになります。 **クイックカスタマイズウィンドウ**は、ユーザー`CMFCPopupMenu`がツールバー ボタンをクリックして直接編集したときに表示されるウィンドウです。

アプリケーションは[、このメソッドを呼](../../mfc/reference/cmdiframewndex-class.md#onshowcustomizepane)び出す必要があります。

## <a name="cmfcpopupmenuisescclose"></a><a name="isescclose"></a>メニュー::イエスククローズ

```
BOOL IsEscClose();
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuisidle"></a><a name="isidle"></a>メニュー::アイズアイドル

ポップアップ メニューが現在アイドル状態かどうかを示します。

```
virtual BOOL IsIdle() const;
```

### <a name="return-value"></a>戻り値

ポップアップ メニューがアイドル モードの場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

デフォルトでは、表示アニメーションが完了し、ユーザーがポップアップ メニューをスクロールしない場合、ポップアップ メニューはアイドル モードになります。

## <a name="cmfcpopupmenuismenusound"></a><a name="ismenusound"></a>メニュー::イズメニューサウンド

```
static UINT __stdcall IsMenuSound();
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuisquickcustomize"></a><a name="isquickcustomize"></a>メニュー::イズクイックカスタマイズ

関連付けられている[CMFC ツール バーメニューボタン クラス](../../mfc/reference/cmfctoolbarmenubutton-class.md)がクイック カスタマイズ モードであるかどうかを判断します。

```
BOOL IsQuickCustomize();
```

### <a name="return-value"></a>戻り値

関連付けられたメニュー ボタンがクイック カスタマイズ モードの場合は TRUE。それ以外の場合は FALSE。 このメソッドは、ポップアップ メニューが に関連付けられていない場合にも FALSE`CMFCToolBarMenuButton`を返します。

### <a name="remarks"></a>解説

クイック カスタマイズ モードでは、ユーザーはツール バーのボタンを選択してボタンを直接カスタマイズします。

## <a name="cmfcpopupmenuisresizeble"></a><a name="isresizeble"></a>メニュー::イズリサイズ可能

```
BOOL IsResizeble() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuisrightalign"></a><a name="isrightalign"></a>メニュー::イスライト整列

メニューが右揃えか左揃えかを示します。

```
BOOL IsRightAlign() const;
```

### <a name="return-value"></a>戻り値

メニューが右揃えの場合は TRUE。FALSE の場合、メニューは左寄せします。

### <a name="remarks"></a>解説

[メニューの配置を設定するには、メニューメニュー:::SetRightAlign](#setrightalign)を使用できます。 デフォルトでは、ポップアップメニューは左揃えで表示されます。

メニューの配置はグローバル設定ではなく、ポップアップ メニューによって異なる場合があります。

## <a name="cmfcpopupmenuisscrollable"></a><a name="isscrollable"></a>メニュー::スクロール可能

```
BOOL IsScrollable() const;
```

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuissendmenuselectmsg"></a><a name="issendmenuselectmsg"></a>メニューをクリックします。

ユーザーがポップアップ メニューからコマンドを選択したときに、フレームワークが親フレームに通知するかどうかを示します。

```
static BOOL IsSendMenuSelectMsg();
```

### <a name="return-value"></a>戻り値

フレームワークが親フレームを通知する場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

フレームワークは、使用されたがメニュー コマンドを選択したときに、親フレームにWM_MENUSELECT メッセージを送信することによって、親フレームに通知します。

## <a name="cmfcpopupmenuisshown"></a><a name="isshown"></a>メニュー::表示されます。

ポップアップ メニューが現在表示されているかどうかを示します。

```
BOOL IsShown() const;
```

### <a name="return-value"></a>戻り値

ポップアップ メニューが表示されている場合は TRUE。それ以外の場合は FALSE。

## <a name="cmfcpopupmenumoveto"></a><a name="moveto"></a>メニュー::移動

```cpp
void MoveTo(const CPoint& pt);
```

### <a name="parameters"></a>パラメーター

[in]*pt*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuonchangehot"></a><a name="onchangehot"></a>メニュー::オンチェンジホット

```
virtual void OnChangeHot(int nHot);
```

### <a name="parameters"></a>パラメーター

[in]*nホット*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuonchooseitem"></a><a name="onchooseitem"></a>メニュー::オンセプテアアイテム

```
virtual void OnChooseItem(UINT uidCmdID);
```

### <a name="parameters"></a>パラメーター

[in]*uidCmdID*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuoncmdmsg"></a><a name="oncmdmsg"></a>メニュー::オンコマンド

```
virtual BOOL OnCmdMsg(
    UINT nID,
    int nCode,
    void* pExtra,
    AFX_CMDHANDLERINFO* pHandlerInfo);
```

### <a name="parameters"></a>パラメーター

[in]*nID*<br/>
[in]*nコード*<br/>
[in]*pエクストラ*<br/>
[in]*をクリックします。*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenupostcommand"></a><a name="postcommand"></a>メニュー::Postコマンド

```
BOOL PostCommand(UINT uiCommandID);
```

### <a name="parameters"></a>パラメーター

[in]*コマンド ID*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenupretranslatemessage"></a><a name="pretranslatemessage"></a>メッセージを再変換:Pメニュー

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>パラメーター

[in]*をクリックします。*<br/>

### <a name="return-value"></a>戻り値

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenurecalclayout"></a><a name="recalclayout"></a>メニュー::再計算レイアウト

```
virtual void RecalcLayout(BOOL bNotify = TRUE);
```

### <a name="parameters"></a>パラメーター

[in]*通知する*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuremoveallitems"></a><a name="removeallitems"></a>メニュー::すべての項目を削除します。

ポップアップ メニューからすべての項目をクリアします。

```cpp
void RemoveAllItems();
```

## <a name="cmfcpopupmenuremoveitem"></a><a name="removeitem"></a>メニューを削除します。

指定した項目をポップアップ メニューから削除します。

```
BOOL RemoveItem(int iIndex);
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
[in]削除する項目の 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

メソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、項目の削除の影響を受けるすべての区切り記号を自動的に配置します。 フレームワークが区切り記号を再配置する方法の詳細については[、「CMFCToolBar::RemoveButton](../../mfc/reference/cmfctoolbar-class.md#removebutton)」を参照してください。

## <a name="cmfcpopupmenusavestate"></a><a name="savestate"></a>メニュー::セーブステート

```
virtual void SaveState();
```

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenusetanimationspeed"></a><a name="setanimationspeed"></a>メニュー::アニメーションスピードを設定します。

ポップアップ メニューのアニメーション速度を設定します。

```
static void SetAnimationSpeed(UINT nElapse);
```

### <a name="parameters"></a>パラメーター

*n経過*<br/>
[in]新しいアニメーション速度 (ミリ秒単位)。

### <a name="remarks"></a>解説

アニメーション速度はグローバル値であり、アプリケーションのすべてのポップアップ メニューに影響します。 この値は、ポップアップ メニューのアニメーションの終了にかかる時間を指定します。

デフォルトでは、このパラメーターは 30 ミリ秒に設定されています。 *nElapse*の有効な値の範囲は 0 から 200 です。

## <a name="cmfcpopupmenusetanimationtype"></a><a name="setanimationtype"></a>メニュー::アニメーションタイプの設定

このポップアップ メニューのアニメーションの種類を設定します。

```
static void SetAnimationType(CMFCPopupMenu::ANIMATION_TYPE type);
```

### <a name="parameters"></a>パラメーター

*type*<br/>
[in]アニメーションの種類を指定する列挙型。

### <a name="remarks"></a>解説

型の有効な値の一覧については[、CMFCPopupMenu::GetAnimationType](#getanimationtype)を*参照してください*。

## <a name="cmfcpopupmenusetautodestroy"></a><a name="setautodestroy"></a>メニュー::セットオートデストロイ

```cpp
void SetAutoDestroy(BOOL bAutoDestroy = TRUE);
```

### <a name="parameters"></a>パラメーター

[in]*b自動破壊*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenusetdefaultitem"></a><a name="setdefaultitem"></a>メニュー::デフォルトアイテムを設定します。

ポップアップ メニューの既定のコマンドを設定します。

```cpp
void SetDefaultItem(UINT uiCmd);
```

### <a name="parameters"></a>パラメーター

*Uicmd*<br/>
[in]新しい既定のコマンドのメニュー コマンド ID。

### <a name="remarks"></a>解説

ポップアップメニューのデフォルトコマンドは、ポップアップメニューが表示されたときに選択されるコマンドです。

## <a name="cmfcpopupmenusetforcemenufocus"></a><a name="setforcemenufocus"></a>メニュー::セットフォースメニューフォーカス

ポップアップ メニューが表示されたときに、入力フォーカスを強制的にメニュー バーに戻します。

```
static void SetForceMenuFocus(BOOL bValue);
```

### <a name="parameters"></a>パラメーター

*b値*<br/>
[in]ポップアップ メニューが表示されるときに、入力フォーカスをメニュー バーに強制的に設定する場合は TRUE。 ポップアップメニューでフォーカスを維持する場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、アプリケーションのすべてのポップアップ メニューに対してグローバルフラグを設定します。 既定では、この機能は有効になっていません。

## <a name="cmfcpopupmenusetforceshadow"></a><a name="setforceshadow"></a>メニュー::セットフォースシャドウ

メイン フレームの外側にポップアップ メニューが表示されるときに、フレームワークにメニューシャドウを強制的に描画します。

```
static void SetForceShadow(BOOL bValue);
```

### <a name="parameters"></a>パラメーター

*b値*<br/>
[in]フレームワークでメニュー シャドウを描画する場合は TRUE、それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドを呼び出すと、アプリケーションにグローバル フラグが設定されます。 このフラグは、アプリケーションのすべてのポップアップメニューに影響します。

## <a name="cmfcpopupmenusetmaxwidth"></a><a name="setmaxwidth"></a>メニュー::セットマックス幅

ポップアップメニューの最大幅を設定します。

```cpp
void SetMaxWidth(int iMaxWidth);
```

### <a name="parameters"></a>パラメーター

*iMaxWidth*<br/>
[in]ポップアップ メニューの最大幅 (ピクセル単位)。

### <a name="remarks"></a>解説

メニュー コマンドに関連付けられているテキストが最大幅に収まらない場合、そのテキストは切り捨てられ、収まらない部分は 3 つのドットに置き換えられます。

## <a name="cmfcpopupmenusetmessagewnd"></a><a name="setmessagewnd"></a>メニュー::メッセージの送信

```cpp
void SetMessageWnd(CWnd* pMsgWnd);
```

### <a name="parameters"></a>パラメーター

[in]*を行う*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenusetparentribbonelement"></a><a name="setparentribbonelement"></a>メニュー::セットペアレントリボン要素

```cpp
void SetParentRibbonElement(CMFCRibbonBaseElement* pElem);
```

### <a name="parameters"></a>パラメーター

[in]*ペレム*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenusetquickcustomizetype"></a><a name="setquickcustomizetype"></a>メニュー::セットクイックカスタマイザタイプ

```cpp
void SetQuickCustomizeType(QUICK_CUSTOMIZE_TYPE Type);
```

### <a name="parameters"></a>パラメーター

[in]*タイプ*<br/>

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenusetquickmode"></a><a name="setquickmode"></a>メニュー::セットクイックモード

```cpp
void SetQuickMode();
```

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenusetrightalign"></a><a name="setrightalign"></a>メニュー::セットライト整列

ポップアップ メニューのメニューの配置を設定します。

```cpp
void SetRightAlign(BOOL bRightAlign = TRUE);
```

### <a name="parameters"></a>パラメーター

*右揃え*<br/>
[in]メニューの配置を示すブール値。 TRUE は右揃えを示し、FALSE は左揃えを示します。

### <a name="remarks"></a>解説

デフォルトでは、すべてのポップアップメニューは左揃えで表示されます。

## <a name="cmfcpopupmenusetsendmenuselectmsg"></a><a name="setsendmenuselectmsg"></a>メニュー::メニューを選択します。

ユーザーがコマンドを選択したときに、ポップアップ メニューがその親フレームに通知するかどうかを制御するフラグを設定します。

```
static void SetSendMenuSelectMsg(BOOL bSet = TRUE);
```

### <a name="parameters"></a>パラメーター

*bセット*<br/>
[in]ポップアップ メニューがその親フレームに通知する場合は TRUE、それ以外の場合は FALSE。

### <a name="remarks"></a>解説

これは、アプリケーションのすべてのポップアップメニューに対するグローバルオプションです。 有効にすると、ユーザーがコマンドを選択したときに、ポップアップ メニューから親フレームにWM_MENUSELECTメッセージが送信されます。

## <a name="cmfcpopupmenushowallcommands"></a><a name="showallcommands"></a>メニュー::すべてのコマンドを表示します。

ポップアップ メニューにすべてのコマンドを強制的に表示します。

```cpp
void ShowAllCommands();
```

### <a name="remarks"></a>解説

これはグローバル設定ではなく、現在のポップアップメニューにのみ影響します。

## <a name="cmfcpopupmenutriggerresize"></a><a name="triggerresize"></a>メニュー::トリガーサイズ変更

```cpp
void TriggerResize();
```

### <a name="remarks"></a>解説

## <a name="cmfcpopupmenuupdateallshadows"></a><a name="updateallshadows"></a>メニュー::すべてのシャドウ

開いているすべてのポップアップ メニューのシャドウを更新します。

```
static void UpdateAllShadows(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>パラメーター

*スクリーン*<br/>
[in]更新する領域を指定する四角形を画面座標で指定します。

### <a name="remarks"></a>解説

このメソッドは、アニメーション化されたコントロールや動的コンテンツを含む他のウィンドウにポップアップ メニューを表示する場合に便利です。

## <a name="cmfcpopupmenuupdateshadow"></a><a name="updateshadow"></a>メニュー::アップデートシャドウ

ポップアップ メニューのシャドウを更新します。

```cpp
void UpdateShadow(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>パラメーター

*スクリーン*<br/>
[in]更新する領域の境界を指定する四角形を画面座標で指定します。

### <a name="remarks"></a>解説

シャドウを持つポップアップ メニューがアニメーションイメージと重なっているときに、このメソッドを呼び出します。

## <a name="see-also"></a>関連項目

[階層グラフ](../../mfc/hierarchy-chart.md)<br/>
[クラス](../../mfc/reference/mfc-classes.md)<br/>
[クラス](../../mfc/reference/cmfcpopupmenubar-class.md)
