---
title: CListCtrl クラス
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 19939ce7dacc1b826e0a2f067c43fc65db328a54
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/14/2020
ms.locfileid: "81370165"
---
# <a name="clistctrl-class"></a>CListCtrl クラス

"リスト ビュー コントロール" の機能をカプセル化します。このコントロールには項目のコレクションを表示され、各項目はイメージ リストのアイコンとラベルで構成されます。

## <a name="syntax"></a>構文

```
class CListCtrl : public CWnd
```

## <a name="members"></a>メンバー

### <a name="public-constructors"></a>パブリック コンストラクター

|名前|説明|
|----------|-----------------|
|[CリストCtrl::CリストCtrl](#clistctrl)|`CListCtrl` オブジェクトを構築します。|

### <a name="public-methods"></a>パブリック メソッド

|名前|説明|
|----------|-----------------|
|[を見る](#approximateviewrect)|リスト ビュー コントロールの項目を表示するために必要な幅と高さを決定します。|
|[並べ替え](#arrange)|グリッド上の項目を揃えます。|
|[ラベルの編集をキャンセルします。](#canceleditlabel)|アイテムテキスト編集操作をキャンセルします。|
|[CリストCtrl::作成](#create)|リスト コントロールを作成し、`CListCtrl`オブジェクトにアタッチします。|
|[次の値を指定します。](#createdragimage)|指定した項目のドラッグ イメージ リストを作成します。|
|[CリストCtrl::作成Ex](#createex)|指定した Windows 拡張スタイルを使用してリスト コントロールを作成し`CListCtrl`、オブジェクトにアタッチします。|
|[:D アイテムすべて](#deleteallitems)|コントロールからすべての項目を削除します。|
|[:Dレットカラム](#deletecolumn)|リスト ビュー コントロールから列を削除します。|
|[:Dレットアイテム](#deleteitem)|コントロールから項目を削除します。|
|[:Dローアイテム](#drawitem)|オーナー描画コントロールの視覚的な側面が変更されたときに呼び出されます。|
|[をクリックします。](#editlabel)|アイテムのテキストのインプレース編集を開始します。|
|[グループビューを有効にします。](#enablegroupview)|リスト ビュー コントロールの項目をグループとして表示するかどうかを有効または無効にします。|
|[CリストCtrl::保証Visible](#ensurevisible)|アイテムが表示されるようにします。|
|[次の項目を検索します。](#finditem)|指定した特性を持つリスト ビュー アイテムを検索します。|
|[をクリックします。](#getbkcolor)|リスト ビュー コントロールの背景色を取得します。|
|[をクリックします。](#getbkimage)|リスト ビュー コントロールの現在の背景イメージを取得します。|
|[コールバックマスクを取得します。](#getcallbackmask)|リスト ビュー コントロールのコールバック マスクを取得します。|
|[をクリックします。](#getcheck)|項目に関連付けられている状態イメージの現在の表示状態を取得します。|
|[次の項目を取得します。](#getcolumn)|コントロールの列の属性を取得します。|
|[配列を並べ替えます。](#getcolumnorderarray)|リスト ビュー コントロールの列の順序 (左から右) を取得します。|
|[列幅を取得します。](#getcolumnwidth)|レポート ビューまたはリスト ビューの列の幅を取得します。|
|[をクリックします。](#getcountperpage)|リスト ビュー コントロールに垂直方向に収まる項目数を計算します。|
|[コントロールを編集します。](#geteditcontrol)|項目のテキストの編集に使用するエディット コントロールのハンドルを取得します。|
|[を返します。](#getemptytext)|現在のリスト ビュー コントロールが空の場合に表示する文字列を取得します。|
|[を使用します。](#getextendedstyle)|リスト ビュー コントロールの現在の拡張スタイルを取得します。|
|[次の項目を選択します。](#getfirstselecteditemposition)|リスト ビュー コントロールで最初に選択されたリスト ビュー アイテムの位置を取得します。|
|[グループを絞り込む](#getfocusedgroup)|現在のリスト ビュー コントロールでキーボード フォーカスを持つグループを取得します。|
|[グループカウントを取得します。](#getgroupcount)|現在のリスト ビュー コントロール内のグループの数を取得します。|
|[グループ化](#getgroupinfo)|リスト ビュー コントロールの指定したグループの情報を取得します。|
|[をクリックします。](#getgroupinfobyindex)|現在のリスト ビュー コントロール内の指定したグループに関する情報を取得します。|
|[グループメトリックス](#getgroupmetrics)|グループのメトリックを取得します。|
|[をクリックします。](#getgrouprect)|現在のリスト ビュー コントロール内の指定したグループに外接する四角形を取得します。|
|[をクリックします。](#getgroupstate)|現在のリスト ビュー コントロール内の指定したグループの状態を取得します。|
|[をクリックします。](#getheaderctrl)|リスト ビュー コントロールのヘッダー コントロールを取得します。|
|[をクリックします。](#gethotcursor)|リスト ビュー コントロールに対してホット トラッキングが有効になっている場合に使用されるカーソルを取得します。|
|[をクリックします。](#gethotitem)|現在カーソルの下にあるリスト ビュー アイテムを取得します。|
|[をクリックします。](#gethovertime)|リスト ビュー コントロールの現在のホバー時間を取得します。|
|[をクリックします。](#getimagelist)|リスト ビューの項目の描画に使用されるイメージ リストのハンドルを取得します。|
|[をクリックします。](#getinsertmark)|挿入マークの現在の位置を取得します。|
|[をクリックします。](#getinsertmarkcolor)|挿入マークの現在の色を取得します。|
|[を挿入します。](#getinsertmarkrect)|カーソル位置に境界を持つ四角形を取得します。|
|[をクリックします。](#getitem)|リスト ビュー アイテムの属性を取得します。|
|[をクリックします。](#getitemcount)|リスト ビュー コントロール内の項目数を取得します。|
|[をクリックします。](#getitemdata)|項目に関連付けられているアプリケーション固有の値を取得します。|
|[をクリックします。](#getitemindexrect)|現在のリスト ビュー コントロール内のサブ項目のすべてまたは一部に外接する四角形を取得します。|
|[次の項目を取得します。](#getitemposition)|リスト ビュー アイテムの位置を取得します。|
|[をクリックします。](#getitemrect)|項目の外接する四角形を取得します。|
|[をクリックします。](#getitemspacing)|現在のリスト ビュー コントロール内の項目間の間隔を計算します。|
|[をクリックします。](#getitemstate)|リスト ビュー アイテムの状態を取得します。|
|[をクリックします。](#getitemtext)|リスト ビュー アイテムまたはサブアイテムのテキストを取得します。|
|[次の項目を取得します。](#getnextitem)|指定したプロパティを持ち、指定したアイテムとの関係を持つリスト ビュー アイテムを検索します。|
|[次の項目のインデックスを取得します。](#getnextitemindex)|指定したプロパティ セットを持つ現在のリスト ビュー コントロール内の項目のインデックスを取得します。|
|[次に選択されたアイテムを取得します。](#getnextselecteditem)|リスト ビューアイテムの位置のインデックスと、繰り返し選択されている次のリスト ビュー アイテムの位置を取得します。|
|[ワークエリア数::仕事の領域](#getnumberofworkareas)|リスト ビュー コントロールの現在の作業領域の数を取得します。|
|[を取得します。](#getorigin)|リスト ビュー コントロールの現在のビューの開始位置を取得します。|
|[次の項目を選択します。](#getoutlinecolor)|リスト ビュー コントロールの境界線の色を取得します。|
|[列を選択します。](#getselectedcolumn)|リスト コントロールで現在選択されている列のインデックスを取得します。|
|[を選択しました。](#getselectedcount)|リスト ビュー コントロールで選択されている項目の数を取得します。|
|[を選択します。](#getselectionmark)|リスト ビュー コントロールの選択マークを取得します。|
|[文字列幅を取得します。](#getstringwidth)|指定された文字列をすべて表示するために必要な最小列幅を決定します。|
|[をクリックします。](#getsubitemrect)|リスト ビュー コントロール内の項目の外接する四角形を取得します。|
|[次の文字列を取得します。](#gettextbkcolor)|リスト ビュー コントロールのテキスト背景色を取得します。|
|[をクリックします。](#gettextcolor)|リスト ビュー コントロールのテキストの色を取得します。|
|[をクリックします。](#gettileinfo)|リスト ビュー コントロールのタイルに関する情報を取得します。|
|[をクリックします。](#gettileviewinfo)|タイル ビューのリスト ビュー コントロールに関する情報を取得します。|
|[ヒントを取得します。](#gettooltips)|リスト ビュー コントロールがツールヒントを表示するために使用するツールヒント コントロールを取得します。|
|[をクリックします。](#gettopindex)|最も表示されている項目のインデックスを取得します。|
|[をクリックします。](#getview)|リスト ビュー コントロールのビューを取得します。|
|[をクリックします。](#getviewrect)|リスト ビュー コントロール内のすべての項目の外接する四角形を取得します。|
|[ワークエリアを取得します。](#getworkareas)|リスト ビュー コントロールの現在の作業領域を取得します。|
|[をクリックします。](#hasgroup)|リスト ビュー コントロールに指定されたグループがあるかどうかを判断します。|
|[ヒットテスト](#hittest)|指定した位置にあるリスト ビュー アイテムを決定します。|
|[列を挿入します。](#insertcolumn)|リスト ビュー コントロールに新しい列を挿入します。|
|[グループを挿入します。](#insertgroup)|リスト ビュー コントロールにグループを挿入します。|
|[グループ化を行います。](#insertgroupsorted)|指定したグループを順序付きグループのリストに挿入します。|
|[アイテムを挿入します。](#insertitem)|リスト ビュー コントロールに新しい項目を挿入します。|
|[をクリックします。](#insertmarkhittest)|指定したポイントに最も近いカーソル位置を取得します。|
|[を有効にします。](#isgroupviewenabled)|リスト ビュー コントロールに対してグループ ビューを有効にするかどうかを指定します。|
|[をクリックします。](#isitemvisible)|現在のリスト ビュー コントロール内の指定した項目が表示されているかどうかを示します。|
|[をクリックします。](#mapidtoindex)|現在のリスト ビュー コントロール内のアイテムの一意の ID をインデックスにマップします。|
|[をクリックします。](#mapindextoid)|現在のリスト ビュー コントロール内のアイテムのインデックスを一意の ID にマップします。|
|[グループの移動](#movegroup)|指定したグループを移動します。|
|[グループを移動します。](#moveitemtogroup)|指定したグループを、リスト ビュー コントロールの指定した 0 から始まるインデックスに移動します。|
|[アイテムを再描画します。](#redrawitems)|リスト ビュー コントロールに、一定範囲の項目を強制的に再描画します。|
|[グループを削除します。](#removeallgroups)|リスト ビュー コントロールからすべてのグループを削除します。|
|[グループの削除](#removegroup)|指定したグループをリスト ビュー コントロールから削除します。|
|[スクロール](#scroll)|リスト ビュー コントロールの内容をスクロールします。|
|[をクリックします。](#setbkcolor)|リスト ビュー コントロールの背景色を設定します。|
|[をクリックします。](#setbkimage)|リスト ビュー コントロールの現在の背景イメージを設定します。|
|[を使用します。](#setcallbackmask)|リスト ビュー コントロールのコールバック マスクを設定します。|
|[をクリックします。](#setcheck)|アイテムに関連付けられている状態イメージの現在の表示状態を設定します。|
|[列を設定します。](#setcolumn)|リスト ビュー列の属性を設定します。|
|[配列を並べ替えます。](#setcolumnorderarray)|リスト ビュー コントロールの列の順序 (左から右) を設定します。|
|[列幅を設定します。](#setcolumnwidth)|レポート ビューまたはリスト ビューの列の幅を変更します。|
|[次のスタイルを使用します。](#setextendedstyle)|リスト ビュー コントロールの現在の拡張スタイルを設定します。|
|[グループ化情報](#setgroupinfo)|リスト ビュー コントロールの指定されたグループの情報を設定します。|
|[グループメトリックス](#setgroupmetrics)|リスト ビュー コントロールのグループ メトリックを設定します。|
|[をクリックします。](#sethotcursor)|リスト ビュー コントロールに対してホット トラッキングが有効になっている場合に使用するカーソルを設定します。|
|[をクリックします。](#sethotitem)|リスト ビュー コントロールの現在のホット アイテムを設定します。|
|[をクリックします。](#sethovertime)|リスト ビュー コントロールの現在のホバー時間を設定します。|
|[を指定します。](#seticonspacing)|リスト ビュー コントロール内のアイコン間の間隔を設定します。|
|[をクリックします。](#setimagelist)|イメージ リストをリスト ビュー コントロールに割り当てます。|
|[次の項目を使用します。](#setinfotip)|ツールヒントテキストを設定します。|
|[を挿入します。](#setinsertmark)|カーソル位置を定義した位置に設定します。|
|[をクリックします。](#setinsertmarkcolor)|挿入ポイントの色を設定します。|
|[をクリックします。](#setitem)|リスト ビュー アイテムの属性の一部またはすべてを設定します。|
|[をクリックします。](#setitemcount)|多数の項目を追加するためのリスト ビュー コントロールを準備します。|
|[をクリックします。](#setitemcountex)|仮想リスト ビュー コントロールの項目数を設定します。|
|[を使用します。](#setitemdata)|項目のアプリケーション固有の値を設定します。|
|[状態を設定します。](#setitemindexstate)|現在のリスト ビュー コントロール内の項目の状態を設定します。|
|[を指定します。](#setitemposition)|リスト ビュー コントロール内の指定した位置に項目を移動します。|
|[をクリックします。](#setitemstate)|リスト ビュー コントロール内の項目の状態を変更します。|
|[をクリックします。](#setitemtext)|リスト ビュー アイテムまたはサブアイテムのテキストを変更します。|
|[カラーを設定します。](#setoutlinecolor)|リスト ビュー コントロールの境界線の色を設定します。|
|[列を選択しました。](#setselectedcolumn)|リスト ビュー コントロールの選択した列を設定します。|
|[を選択します。](#setselectionmark)|リスト ビュー コントロールの選択マークを設定します。|
|[をクリックします。](#settextbkcolor)|リスト ビュー コントロールのテキストの背景色を設定します。|
|[をクリックします。](#settextcolor)|リスト ビュー コントロールのテキストの色を設定します。|
|[をクリックします。](#settileinfo)|リスト ビュー コントロールのタイルの情報を設定します。|
|[をクリックします。](#settileviewinfo)|リスト ビュー コントロールがタイル ビューで使用する情報を設定します。|
|[ヒントの設定](#settooltips)|リスト ビュー コントロールがツールヒントを表示するために使用するツールヒント コントロールを設定します。|
|[をクリックします。](#setview)|リスト ビュー コントロールのビューを設定します。|
|[CリストCtrl::セットワークエリア](#setworkareas)|リスト ビュー コントロールにアイコンを表示できる領域を設定します。|
|[グループ化](#sortgroups)|ユーザー定義関数を使用して、リスト ビュー コントロールのグループを並べ替えます。|
|[アイテムを並べ替える](#sortitems)|アプリケーション定義の比較関数を使用して、リスト ビューアイテムを並べ替えます。|
|[をクリックします。](#sortitemsex)|アプリケーション定義の比較関数を使用して、リスト ビューアイテムを並べ替えます。|
|[をクリックします。](#subitemhittest)|リスト ビュー アイテムが指定された位置にある場合は、その項目を決定します。|
|[をクリックします。](#update)|コントロールに、指定した項目を強制的に再描画します。|

## <a name="remarks"></a>解説

アイコンとラベルに加えて、各項目の情報をアイコンとラベルの右側の列に表示できます。 このコントロール (および`CListCtrl`クラス) は、Windows 95/98 および Windows NT バージョン 3.51 以降で実行されているプログラムでのみ使用できます。

クラスの概要を以下に示します`CListCtrl`。 詳細な概念的な説明については、「 [CListCtrl](../../mfc/using-clistctrl.md)とコントロールの使用 」を参照[してください](../../mfc/controls-mfc.md)。

## <a name="views"></a>ビュー

リスト ビュー コントロールでは、"ビュー" と呼ばれる 4 つの異なる方法でコンテンツを表示できます。

- アイコンビュー

   各項目は、その下にラベルが付いたフルサイズのアイコン (32 x 32 ピクセル) として表示されます。 ユーザーは、リスト ビュー ウィンドウ内の任意の場所に項目をドラッグできます。

- 小さいアイコン ビュー

   各項目は、ラベルが右側に表示された小さなアイコン (16 x 16 ピクセル) で表示されます。 ユーザーは、リスト ビュー ウィンドウ内の任意の場所に項目をドラッグできます。

- リスト ビュー

   各項目は、ラベルが右側に付いた小さなアイコンで表示されます。 項目は列に並べられており、リスト ビュー ウィンドウ内の任意の場所にドラッグすることはできません。

- レポート ビュー

   各項目は、各行に表示され、追加情報が右側に列に配置されます。 左端の列には小さなアイコンとラベルが含まれ、後続の列にはアプリケーションで指定されたサブ項目が含まれます。 埋め込みヘッダー コントロール (クラス[CHeaderCtrl)](../../mfc/reference/cheaderctrl-class.md)は、これらの列を実装します。 レポート ビューのヘッダー コントロールと列の詳細については、「 [CListCtrl: コントロールへの列の追加 (レポート ビュー)」](../../mfc/adding-columns-to-the-control-report-view.md)を参照してください。

コントロールの現在のリスト ビューのスタイルによって、現在のビューが決まります。 これらのスタイルとその使用方法の詳細については、「 [CListCtrl : リスト コントロール スタイルの変更](../../mfc/changing-list-control-styles.md)」を参照してください。

## <a name="extended-styles"></a>拡張スタイル

標準のリスト スタイルに加えて、`CListCtrl`クラスは拡張スタイルの大規模なセットをサポートし、機能を強化します。 この機能の例を次に示します。

- ホバー選択

   有効にすると、カーソルが一定期間アイテムの上に置かれたままの場合に、アイテムの自動選択が可能になります。

- 仮想リスト ビュー

   有効にすると、コントロールが DWORD 項目までサポートできるようになります。 これは、アプリケーションで項目データを管理するオーバーヘッドを設定することで可能です。 アイテムの選択とフォーカス情報を除き、すべてのアイテム情報はアプリケーションによって管理される必要があります。 詳細については、「 [CListCtrl : 仮想リスト コントロールの使用](../../mfc/virtual-list-controls.md)」を参照してください。

- ワンクリックと2クリックアクティベーション

   有効にすると、ホット トラッキング (アイテム テキストの自動強調表示) と、強調表示された項目の 1 つまたは 2 つのクリックによるアクティブ化が可能になります。

- ドラッグ アンド ドロップ列の順序

   有効にすると、リスト ビュー コントロール内の列のドラッグ アンド ドロップによる並べ替えが可能になります。 レポート ビューでのみ使用できます。

これらの新しい拡張スタイルの使用については、「 [CListCtrl: リスト コントロール スタイルの変更](../../mfc/changing-list-control-styles.md)」を参照してください。

## <a name="items-and-subitems"></a>アイテムとサブアイテム

リスト ビュー コントロールの各項目は、アイコン (イメージ リストから)、ラベル、現在の状態、およびアプリケーション定義の値 (「項目データ」と呼ばれます) で構成されます。 各アイテムには、1 つ以上のサブ項目を関連付けることもできます。 "サブアイテム" は、レポート ビューで、アイテムのアイコンとラベルの右側の列に表示できる文字列です。 リスト ビュー コントロール内のすべての項目は、同じ数のサブ項目を持つ必要があります。

Class`CListCtrl`には、これらの項目を挿入、削除、検索、および変更するためのいくつかの関数が用意されています。 詳細については[、「CListCtrl::GetItem](#getitem) [、CListCtrl::挿入アイテム](#insertitem)、および[CListCtrl::FindItem](#finditem)、[コントロールへの項目の追加](../adding-items-to-the-control.md)、[スクロール、配置、並べ替え、およびリスト コントロール内での検索](../scrolling-arranging-sorting-and-finding-in-list-controls.md)」を参照してください。

既定では、リスト ビュー コントロールは、項目のアイコンとテキスト属性を格納します。 ただし、これらの項目の型に加えて、`CListCtrl`クラスは"コールバック項目"をサポートします。 "コールバック項目" は、コントロールではなくアプリケーションがテキスト、アイコン、またはその両方を格納するリスト ビュー アイテムです。 コールバック マスクは、アプリケーションによって提供される項目属性 (テキストまたはアイコン) を指定するために使用されます。 アプリケーションがコールバック項目を使用する場合、要求に応じてテキスト属性やアイコン属性を指定できる必要があります。 コールバック項目は、アプリケーションが既にこの情報の一部を保持している場合に役立ちます。 詳細については、「 [CListCtrl : コールバック アイテムとコールバック マスクの使用](../callback-items-and-the-callback-mask.md)」を参照してください。

## <a name="image-lists"></a>イメージリスト

リスト ビュー アイテムのアイコン、ヘッダー項目イメージ、およびアプリケーション定義の状態は、リスト ビュー コントロールを作成して割り当てるいくつかのイメージ リスト[(CImageList](cimagelist-class.md)クラスによって実装) に含まれています。 各リスト ビュー コントロールには、最大 4 種類のイメージ リストを含めることができます。

- 大きいアイコン

   フルサイズのアイコンのアイコンビューで使用されます。

- 小さいアイコン

   アイコン ビューで使用される小さいバージョンのアイコンの小さいアイコン、リスト、およびレポート ビューで使用されます。

- アプリケーション定義の状態

   アプリケーションで定義された状態を示すために、項目のアイコンの横に表示される状態イメージが含まれています。

- ヘッダー項目

   各ヘッダー コントロール アイテムに表示される小さいイメージのレポート ビューで使用されます。

既定では、リスト ビュー コントロールは、破棄されたときに割り当てられたイメージ リストを破棄します。ただし、開発者は、アプリケーションで決定された、使用されなくなったイメージ リストを破棄することで、この動作をカスタマイズできます。 詳細については、「 [CListCtrl : リストアイテムとイメージリストの使用](../list-items-and-image-lists.md)」を参照してください。

## <a name="inheritance-hierarchy"></a>継承階層

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>必要条件

**ヘッダー:** afxcmn.h

## <a name="clistctrlapproximateviewrect"></a><a name="approximateviewrect"></a>を見る

リスト ビュー コントロールの項目を表示するために必要な幅と高さを決定します。

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>パラメーター

*Sz*<br/>
コントロールの提示されたサイズ (ピクセル単位)。 寸法を指定しない場合、フレームワークはコントロールの現在の幅または高さの値を使用します。

*iカウント*<br/>
コントロールに表示する項目の数。 このパラメーターが -1 の場合、フレームワークは現在コントロール内の項目の合計数を使用します。

### <a name="return-value"></a>戻り値

項目`CSize`を表示するために必要なおおよその幅と高さをピクセル単位で格納するオブジェクト。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect)の動作を実装します。

## <a name="clistctrlarrange"></a><a name="arrange"></a>並べ替え

アイコン ビュー内の項目をグリッド上に配置するように再配置します。

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>パラメーター

*nコード*<br/>
項目の配置スタイルを指定します。 次のいずれかの値を指定できます。

- LVA_ALIGNLEFT ウィンドウの左端に合わせて項目を配置します。

- LVA_ALIGNTOPウィンドウの上端に沿って項目を配置します。

- LVA_DEFAULT リスト ビューの現在の配置スタイル (既定値) に従って項目を配置します。

- LVA_SNAPTOGRIDすべてのアイコンを最も近いグリッド位置にスナップします。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

*nCode*パラメーターは、線形スタイルを指定します。

### <a name="example"></a>例

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="clistctrlcanceleditlabel"></a><a name="canceleditlabel"></a>ラベルの編集をキャンセルします。

アイテムテキスト編集操作をキャンセルします。

```
void CancelEditLabel();
```

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel)メッセージの機能をエミュレートします。

## <a name="clistctrlclistctrl"></a><a name="clistctrl"></a>CリストCtrl::CリストCtrl

`CListCtrl` オブジェクトを構築します。

```
CListCtrl();
```

## <a name="clistctrlcreate"></a><a name="create"></a>CリストCtrl::作成

リスト コントロールを作成し、`CListCtrl`オブジェクトにアタッチします。

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>パラメーター

*Dwstyle*<br/>
リスト コントロールのスタイルを指定します。 リスト コントロール スタイルの任意の組み合わせをコントロールに適用します。 これらのスタイルの完全なリストについては、Windows SDK のリスト[ビューウィンドウ](/windows/win32/Controls/list-view-window-styles)スタイルを参照してください。 コントロールに固有の拡張スタイルを設定するには、[次の操作を行います](#setextendedstyle)。

*Rect*<br/>
リスト コントロールのサイズと位置を指定します。 `CRect`オブジェクトまたは[RECT](/previous-versions/dd162897\(v=vs.85\))構造体のいずれかです。

*pParentWnd*<br/>
リスト コントロールの親ウィンドウを指定`CDialog`します。 NULL にすることはできません。

*nID*<br/>
リスト コントロールの ID を指定します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

を`CListCtrl`2 つの手順で作成します。 まず、コンストラクタを呼び出し`Create`、 を呼び出し、リスト ビュー コントロール`CListCtrl`を作成してオブジェクトにアタッチします。

リスト コントロール オブジェクトに拡張 Windows スタイルを適用するには、`Create`の代わりに[CreateEx](#createex)を呼び出します。

### <a name="example"></a>例

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="clistctrlcreateex"></a><a name="createex"></a>CリストCtrl::作成Ex

コントロール (子ウィンドウ) を作成し、オブジェクトに関連`CListCtrl`付けます。

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>パラメーター

*ドウェエクススタイル*<br/>
作成するコントロールの拡張スタイルを指定します。 拡張 Windows スタイルの一覧については、Windows SDK の*DwExStyle*パラメーター[を](/windows/win32/api/winuser/nf-winuser-createwindowexw)参照してください。

*Dwstyle*<br/>
リスト コントロールのスタイルを指定します。 リスト コントロール スタイルの任意の組み合わせをコントロールに適用します。 これらのスタイルの完全な一覧については、「Windows SDK の[リスト ビュー ウィンドウ スタイル](/windows/win32/Controls/list-view-window-styles)」を参照してください。

*Rect*<br/>
作成するウィンドウのサイズと位置を記述する[RECT](/previous-versions/dd162897\(v=vs.85\))構造体への参照を *、 pParentWnd*のクライアント座標で指定します。

*pParentWnd*<br/>
コントロールの親であるウィンドウへのポインター。

*nID*<br/>
コントロールの子ウィンドウ ID。

### <a name="return-value"></a>戻り値

正常終了した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

[`CreateEx`[作成]](#create)の代わりに、Windows 拡張スタイルの序文で指定された拡張 Windows スタイル**を適用WS_EX_。**

`CreateEx`によって指定された拡張 Windows スタイルを持つコントロール*が作成されます*。 コントロールに固有の拡張スタイルを設定するには[、SetExtendedStyle](#setextendedstyle)を呼び出します。 たとえば、WS_EX_CONTEXTHELPなどの`CreateEx`スタイルを設定するのには、LVS_EX_FULLROWSELECTなどのスタイル`SetExtendedStyle`を設定するために使用します。 詳細については、Windows SDK の「[拡張リスト ビュー スタイル」](/windows/win32/Controls/extended-list-view-styles)で説明されているスタイルを参照してください。

## <a name="clistctrlcreatedragimage"></a><a name="createdragimage"></a>次の値を指定します。

*nItem*で指定された項目のドラッグ イメージ リストを作成します。

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
ドラッグ イメージ リストを作成する項目のインデックスです。

*lpPoint*<br/>
ビュー座標で、イメージの左上隅の初期位置を受け取る[POINT](/previous-versions/dd162805\(v=vs.85\))構造体のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は、ドラッグ イメージ リストへのポインター。それ以外の場合は NULL。

### <a name="remarks"></a>解説

オブジェクト`CImageList`は永続的なオブジェクトであり、終了したら削除する必要があります。 次に例を示します。

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="clistctrldeleteallitems"></a><a name="deleteallitems"></a>:D アイテムすべて

リスト ビュー コントロールからすべての項目を削除します。

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="clistctrldeletecolumn"></a><a name="deletecolumn"></a>:Dレットカラム

リスト ビュー コントロールから列を削除します。

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
削除する列のインデックス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="clistctrldeleteitem"></a><a name="deleteitem"></a>:Dレットアイテム

リスト ビュー コントロールから項目を削除します。

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
削除する項目のインデックスを指定します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="clistctrldrawitem"></a><a name="drawitem"></a>:Dローアイテム

オーナー描画リスト ビュー コントロールの視覚的な側面が変更されたときに、フレームワークによって呼び出されます。

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>パラメーター

*構造体*<br/>
必要な図面の種類`DRAWITEMSTRUCT`に関する情報を含む構造体への長いポインター。

### <a name="remarks"></a>解説

`itemAction` [DRAWITEMSTRUCT 構造体](/windows/win32/api/winuser/ns-winuser-drawitemstruct)のメンバーは、実行される描画アクションを定義します。

既定では、このメンバー関数は何も実行しません。 オーナー描画`CListCtrl`オブジェクトの描画を実装するには、このメンバー関数をオーバーライドします。

アプリケーションは、このメンバー関数が終了する前に *、lpDrawItemStruct*で提供される表示コンテキストに選択されているすべてのグラフィックス デバイス インターフェイス (GDI) オブジェクトを復元する必要があります。

## <a name="clistctrleditlabel"></a><a name="editlabel"></a>をクリックします。

アイテムのテキストのインプレース編集を開始します。

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
編集するリスト ビュー アイテムのインデックスです。

### <a name="return-value"></a>戻り値

正常に実行された場合は、`CEdit`項目テキストの編集に使用されるオブジェクトへのポインター。それ以外の場合は NULL。

### <a name="remarks"></a>解説

LVS_EDITLABELSウィンドウ スタイルを持つリスト ビュー コントロールを使用すると、ユーザーはアイテム ラベルを編集できます。 ユーザーが、フォーカスのある項目のラベルをクリックして編集を開始します。

この関数を使用して、指定されたリスト ビュー アイテムのテキストのインプレイス編集を開始します。

### <a name="example"></a>例

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="clistctrlenablegroupview"></a><a name="enablegroupview"></a>グループビューを有効にします。

リスト ビュー コントロールの項目をグループとして表示するかどうかを有効または無効にします。

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>パラメーター

*f有効*<br/>
表示項目をグループ化するためにリスト ビュー コントロールを有効にするかどうかを示します。 グループ化を有効にする場合は TRUE。無効にする場合は FALSE。

### <a name="return-value"></a>戻り値

次の値のいずれか。

- **0**リスト ビュー アイテムをグループとして表示する機能は、既に有効または無効になっています。

- **1**コントロールの状態が正常に変更されました。

- **-1**操作に失敗しました。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview)メッセージの機能をエミュレートします。

## <a name="clistctrlensurevisible"></a><a name="ensurevisible"></a>CリストCtrl::保証Visible

リスト ビュー アイテムが少なくとも部分的に表示されるようにします。

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
表示するリスト ビュー アイテムのインデックス。

*bPartialOK*<br/>
部分的な可視性を許容するかどうかを指定します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

必要に応じて、リスト ビュー コントロールがスクロールされます。 *bPartialOK*パラメーターが 0 以外の場合、項目が部分的に表示されている場合はスクロールは行われません。

### <a name="example"></a>例

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="clistctrlfinditem"></a><a name="finditem"></a>次の項目を検索します。

指定した特性を持つリスト ビュー アイテムを検索します。

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
検索対象の項目に関する情報を含む[LVFINDINFO](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow)構造体へのポインター。

*n開始*<br/>
検索を開始する項目のインデックス、または最初から開始する -1。 *nStart*の項目は *、nStart*が -1 でない場合、検索から除外されます。

### <a name="return-value"></a>戻り値

成功した場合は項目のインデックス。

### <a name="remarks"></a>解説

*pFindInfo*パラメーターは、リスト`LVFINDINFO`ビュー アイテムの検索に使用される情報を含む構造体を指します。

### <a name="example"></a>例

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="clistctrlgetbkcolor"></a><a name="getbkcolor"></a>をクリックします。

リスト ビュー コントロールの背景色を取得します。

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>戻り値

RGB カラーを指定するために使用される 32 ビット値。

### <a name="example"></a>例

[次](#setbkcolor)の例を参照してください。

## <a name="clistctrlgetbkimage"></a><a name="getbkimage"></a>をクリックします。

リスト ビュー コントロールの現在の背景イメージを取得します。

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>パラメーター

*イメージ*<br/>
リスト ビューの`LVBKIMAGE`現在の背景イメージを含む構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返し、それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK で説明されているように、win32 マクロ[ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage)の動作を実装します。

### <a name="example"></a>例

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="clistctrlgetcallbackmask"></a><a name="getcallbackmask"></a>コールバックマスクを取得します。

リスト ビュー コントロールのコールバック マスクを取得します。

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールのコールバック マスク。

### <a name="remarks"></a>解説

"コールバック項目" は、コントロールではなくアプリケーションがテキスト、アイコン、またはその両方を格納するリスト ビュー アイテムです。 リスト ビュー コントロールは、これらの属性を格納できますが、アプリケーションが既にこの情報の一部を保持している場合は、コールバック項目を使用できます。 コールバック マスクは、アプリケーションによって維持される項目の状態ビットを指定し、特定の項目ではなく、コントロール全体に適用されます。 コールバック マスクは既定では 0 で、コントロールはすべての項目の状態を追跡します。 アプリケーションがコールバック項目を使用する場合、または 0 以外のコールバック マスクを指定する場合は、要求に応じてリスト ビュー項目の属性を指定できる必要があります。

### <a name="example"></a>例

[の](#setcallbackmask)例を参照してください。

## <a name="clistctrlgetcheck"></a><a name="getcheck"></a>をクリックします。

アイテムに関連付けられている状態イメージの現在の表示状態を取得します。

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
リスト コントロール項目の 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

項目が選択されている場合は 0 以外の値を指定します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate)の動作を実装します。

### <a name="example"></a>例

[の](#setcheck)例を参照してください。

## <a name="clistctrlgetcolumn"></a><a name="getcolumn"></a>次の項目を取得します。

リスト ビュー コントロールの列の属性を取得します。

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
属性を取得する列のインデックス。

*をクリックします。*<br/>
列に関する情報を取得して受け取る情報を指定する[LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw)構造体のアドレス。 メンバー`mask`は、取得する列属性を指定します。 メンバーが`mask`LVCF_TEXT値を指定する場合、`pszText`そのメンバーには項目テキストを受け取るバッファーのアドレスが含まれ`cchTextMax`、メンバーはバッファーのサイズを指定する必要があります。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

構造`LVCOLUMN`には、レポート ビューの列に関する情報が含まれています。

### <a name="example"></a>例

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="clistctrlgetcolumnorderarray"></a><a name="getcolumnorderarray"></a>配列を並べ替えます。

リスト ビュー コントロールの列の順序 (左から右) を取得します。

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>パラメーター

*ピアレイ*<br/>
リスト ビュー コントロールの列のインデックス値を格納するバッファーへのポインター。 バッファーは、リスト ビュー コントロールの列の合計数を格納するのに十分な大きさである必要があります。

*iカウント*<br/>
リスト ビュー コントロールの列数。 このパラメーターが -1 の場合、列の数はフレームワークによって自動的に取得されます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray)の動作を実装します。

### <a name="example"></a>例

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="clistctrlgetcolumnwidth"></a><a name="getcolumnwidth"></a>列幅を取得します。

レポート ビューまたはリスト ビューの列の幅を取得します。

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
幅を取得する列のインデックスを指定します。

### <a name="return-value"></a>戻り値

*nCol*で指定された列の幅 (ピクセル単位) を指定します。

### <a name="example"></a>例

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="clistctrlgetcountperpage"></a><a name="getcountperpage"></a>をクリックします。

リスト ビューまたはレポート ビューで、リスト ビュー コントロールの表示領域に垂直方向に収まるアイテム数を計算します。

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>戻り値

リスト ビューまたはレポート ビューでリスト ビュー コントロールの表示領域に垂直方向に収まるアイテムの数。

### <a name="example"></a>例

[の](#gettopindex)例を参照してください。

## <a name="clistctrlgeteditcontrol"></a><a name="geteditcontrol"></a>コントロールを編集します。

リスト ビュー アイテムのテキストの編集に使用するエディット コントロールのハンドルを取得します。

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>戻り値

正常に実行された場合は、項目テキストの編集に使用される[CEdit](cedit-class.md)オブジェクトへのポインター。それ以外の場合は NULL。

### <a name="example"></a>例

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="clistctrlgetemptytext"></a><a name="getemptytext"></a>を返します。

現在のリスト ビュー コントロールが空の場合に表示する文字列を取得します。

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>戻り値

コントロールが空の場合に表示するテキストを含む[CString です](../../atl-mfc-shared/reference/cstringt-class.md)。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK に記載されている[LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext)メッセージを送信します。

## <a name="clistctrlgetextendedstyle"></a><a name="getextendedstyle"></a>を使用します。

リスト ビュー コントロールの現在の拡張スタイルを取得します。

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールで現在使用されている拡張スタイルの組み合わせ。 これらの拡張スタイルの説明の一覧については、Windows SDK の[「拡張リスト ビュー スタイル](/windows/win32/Controls/extended-list-view-styles)」を参照してください。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle)の動作を実装します。

### <a name="example"></a>例

の[例を参照](#setextendedstyle)してください。

## <a name="clistctrlgetfirstselecteditemposition"></a><a name="getfirstselecteditemposition"></a>次の項目を選択します。

リスト ビュー コントロールで最初に選択された項目の位置を取得します。

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>戻り値

反復またはオブジェクト・ポインターの取得に使用できる POSITION 値。項目が選択されていない場合は NULL。

### <a name="example"></a>例

この関数の使用方法を次のコード サンプルに示します。

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetfocusedgroup"></a><a name="getfocusedgroup"></a>グループを絞り込む

現在のリスト ビュー コントロールでキーボード フォーカスを持つグループを取得します。

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>戻り値

このようなグループがある場合は、状態がLVGS_FOCUSEDグループのインデックス。それ以外の場合は -1。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK で説明されている[LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup)メッセージを送信します。 詳しくは[、LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体のメンバーの`state`LVGS_FOCUSED値を参照してください。

## <a name="clistctrlgetgroupcount"></a><a name="getgroupcount"></a>グループカウントを取得します。

現在のリスト ビュー コントロール内のグループの数を取得します。

```
int GetGroupCount()const;
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロール内のグループの数。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK --> で説明されている[LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount)メッセージを送信します。

## <a name="clistctrlgetgroupinfo"></a><a name="getgroupinfo"></a>グループ化

リスト ビュー コントロールの指定したグループの情報を取得します。

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>パラメーター

*グループId*<br/>
情報を取得するグループの識別子。

*pgrp*<br/>
指定されたグループの情報を含む[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)へのポインター。

### <a name="return-value"></a>戻り値

成功した場合はグループの ID を返し、それ以外の場合は -1 を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo)メッセージの機能をエミュレートします。

## <a name="clistctrlgetgroupinfobyindex"></a><a name="getgroupinfobyindex"></a>をクリックします。

現在のリスト ビュー コントロール内の指定したグループに関する情報を取得します。

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*をクリックします。*|[in]グループの 0 から始まるインデックス。|
|*グループ化*|[アウト]*iIndex*パラメーターで指定されたグループに関する情報を受け取る[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体へのポインター。<br /><br /> 呼び出し元は[、LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体のメンバーを初期化する必要があります。 メンバーを`cbSize`構造体のサイズに設定し、メンバーのフラグを`mask`設定して、取得する情報を指定します。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK --> で説明されている[LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex)メッセージを送信します。

### <a name="example"></a>例

次のコード例では、`m_listCtrl`現在のリスト ビュー コントロールにアクセスするために使用される変数 を定義します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

メソッドのコード例を次に`GetGroupInfoByIndex`示します。 このコード例の前のセクションでは、レポート ビューに "ClientID" と "Grade" という 2 つの列を表示するリスト ビュー コントロールを作成しました。 インデックスが 0 のグループに関する情報が存在する場合は、次のコード例を使用して取得します。

```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="clistctrlgetgroupmetrics"></a><a name="getgroupmetrics"></a>グループメトリックス

グループのメトリックを取得します。

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>パラメーター

*グループメトリックス*<br/>
グループメトリック情報を含む[LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics)へのポインタ。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETGROUPMETRICS](/windows/win32/Controls/lvm-getgroupmetrics)メッセージの機能をエミュレートします。

## <a name="clistctrlgetgrouprect"></a><a name="getgrouprect"></a>をクリックします。

現在のリスト ビュー コントロール内の指定したグループに外接する四角形を取得します。

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*グループId*|[in]グループを指定します。|
|*Lprect*|[イン、アウト][RECT](/previous-versions/dd162897\(v=vs.85\))構造体へのポインター。 このメソッドが成功すると、構造体は*iGroupId*で指定されたグループの四角形座標を受け取ります。|
|*アイクアーズ*|[in]取得する四角形の座標を指定します。 次のいずれかの値を使用します。<br /><br /> - LVGGR_GROUP - (デフォルト) 展開されたグループ全体の座標。<br />- LVGGR_HEADER - ヘッダー (折りたたみグループ) のみの座標。<br />- LVGGR_SUBSETLINK - サブセット リンク (マークアップ サブセット) のみの座標。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

呼び出し側は *、pRect*パラメーターによって指される[RECT](/previous-versions/dd162897\(v=vs.85\))構造体を割り振る必要があります。

このメソッドは、Windows SDK で説明されている[LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect)メッセージを送信します。

### <a name="example"></a>例

次のコード例では、`m_listCtrl`現在のリスト ビュー コントロールにアクセスするために使用される変数 を定義します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

メソッドのコード例を次に`GetGroupRect`示します。 このコード例の前のセクションでは、レポート ビューに "ClientID" と "Grade" という 2 つの列を表示するリスト ビュー コントロールを作成しました。 次のコード例では、インデックスが 0 のグループの周囲に 3D 四角形を描画します (そのグループが存在する場合)。

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="clistctrlgetgroupstate"></a><a name="getgroupstate"></a>をクリックします。

現在のリスト ビュー コントロール内の指定したグループの状態を取得します。

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*グループId*|[in]グループの 0 から始まるインデックス。|
|*Dwmask*|[in]指定したグループに対して取得する状態値を指定するマスク。 詳しくは[、LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) `mask`構造体のメンバーを参照してください。|

### <a name="return-value"></a>戻り値

指定されたグループに対して要求された状態。またはグループが見つからない場合は 0。

### <a name="remarks"></a>解説

戻り値は *、dwMask*パラメーターに対するビットごとの AND 演算と、現在の`state`リスト ビュー コントロールを表す[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体のメンバーの値の結果です。

このメソッドは、Windows SDK で説明されている[LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate)メッセージを送信します。 詳細については[、ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate)マクロを参照してください。

## <a name="clistctrlgetheaderctrl"></a><a name="getheaderctrl"></a>をクリックします。

リスト ビュー コントロールのヘッダー コントロールを取得します。

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールで使用されるヘッダー コントロールへのポインター。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader)の動作を実装します。

### <a name="example"></a>例

の[例を参照](#getcolumnorderarray)してください。

## <a name="clistctrlgethotcursor"></a><a name="gethotcursor"></a>をクリックします。

リスト ビュー コントロールに対してホット トラッキングが有効になっている場合に使用されるカーソルを取得します。

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールで使用されている現在のホット カーソル リソースへのハンドル。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor)の動作を実装します。 ホット カーソルは、カーソル選択が有効になっている場合にのみ表示され、カーソルがリスト ビュー アイテムの上に置かれたときに表示されます。 ホバー選択は、LVS_EX_TRACKSELECT拡張スタイルを設定することによって有効になります。

### <a name="example"></a>例

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="clistctrlgethotitem"></a><a name="gethotitem"></a>をクリックします。

現在カーソルの下にあるリスト ビュー アイテムを取得します。

```
int GetHotItem();
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールの現在のホット アイテムのインデックス。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem)の動作を実装します。 ホット トラッキング (およびホバー選択) が有効になっている場合、ホット アイテムは現在選択されているアイテムとして定義されます。

ホット トラッキングが有効になっている場合、ユーザーがリスト ビュー アイテムの上に置くと、マウス ボタンを使用せずに項目ラベルが自動的に強調表示されます。

### <a name="example"></a>例

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="clistctrlgethovertime"></a><a name="gethovertime"></a>をクリックします。

リスト ビュー コントロールの現在のホバー時間を取得します。

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>戻り値

項目を選択する前にマウス カーソルが項目の上に置く必要がある遅延時間をミリ秒単位で返します。 戻り値が -1 の場合、ホバー時間はデフォルトのホバー時間になります。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime)の動作を実装します。

### <a name="example"></a>例

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="clistctrlgetimagelist"></a><a name="getimagelist"></a>をクリックします。

リスト ビューの項目の描画に使用されるイメージ リストのハンドルを取得します。

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>パラメーター

*一覧*<br/>
取得するイメージ リストを指定する値。 次のいずれかの値とすることができます。

- 大きなアイコンを持つイメージ リストをLVSIL_NORMALします。

- 小さなアイコンを持つイメージ リストをLVSIL_SMALLします。

- LVSIL_STATE状態イメージを含むイメージ リスト。

### <a name="return-value"></a>戻り値

リスト ビューの項目の描画に使用されるイメージ リストへのポインター。

### <a name="example"></a>例

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="clistctrlgetinsertmark"></a><a name="getinsertmark"></a>をクリックします。

挿入マークの現在の位置を取得します。

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>パラメーター

*プラヴィム*<br/>
挿入マークの情報を含む[LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、そうでない場合は FALSE を返します。 `LVINSERTMARK`構造体の`cbSize`メンバーのサイズが構造体の実際のサイズと等しくない場合は、FALSE が返されます。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark)メッセージの機能をエミュレートします。

## <a name="clistctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>をクリックします。

挿入マークの現在の色を取得します。

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>戻り値

カーソル位置の色を含む[COLORREF](/windows/win32/gdi/colorref)構造体を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor)メッセージの機能をエミュレートします。

## <a name="clistctrlgetinsertmarkrect"></a><a name="getinsertmarkrect"></a>を挿入します。

カーソル位置に境界を持つ四角形を取得します。

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>パラメーター

*プレック*<br/>
挿入ポイントに`RECT`境界を持つ四角形の座標を格納する構造体へのポインター。

### <a name="return-value"></a>戻り値

次の値のいずれか。

- **0**挿入ポイントが見つかりません。

- **1**挿入ポイントが見つかりました。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect)メッセージの機能をエミュレートします。

## <a name="clistctrlgetitem"></a><a name="getitem"></a>をクリックします。

リスト ビュー アイテムの属性の一部またはすべてを取得します。

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>パラメーター

*Pitem*<br/>
項目の属性を受け取る[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

構造体`LVITEM`は、リスト ビュー アイテムの属性を指定または受け取ります。

## <a name="clistctrlgetitemcount"></a><a name="getitemcount"></a>をクリックします。

リスト ビュー コントロール内の項目数を取得します。

```
int GetItemCount() const;
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロール内の項目の数。

### <a name="example"></a>例

[:D の](#deleteitem)例を参照してください。

## <a name="clistctrlgetitemdata"></a><a name="getitemdata"></a>をクリックします。

で`nItem`指定された項目に関連付けられている 32 ビット アプリケーション固有の値を取得します。

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
データを取得するリスト アイテムのインデックス。

### <a name="return-value"></a>戻り値

指定した項目に関連付けられている 32 ビット アプリケーション固有の値。

### <a name="remarks"></a>解説

この値は、Windows SDK で説明されているように`lParam`[、LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のメンバーです。

### <a name="example"></a>例

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="clistctrlgetitemindexrect"></a><a name="getitemindexrect"></a>をクリックします。

現在のリスト ビュー コントロール内のサブ項目のすべてまたは一部に外接する四角形を取得します。

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*をクリックします。*|[in]サブ項目の親アイテムの[LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体へのポインター。<br /><br /> 呼び出し元は[、LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体のメンバーの割り当てと設定を行います。 このパラメーターは NULL にはできません。|
|*i列*|[in]コントロール内の列の 0 から始まるインデックス。|
|*レクトタイプ*|[in]外接する四角形が取得されるリスト ビュー サブ項目の一部。 次のいずれかの値を指定します。<br /><br /> LVIR_BOUNDS - アイコンとラベルを含むサブ項目全体の外接する四角形を返します。<br /><br /> LVIR_ICON - サブ項目のアイコンまたは小さいアイコンの外接する四角形を返します。<br /><br /> LVIR_LABEL - サブ項目テキストの外接する四角形を返します。|
|*プレック*|[アウト]サブ項目の外接する四角形に関する情報を受け取る[RECT](/previous-versions/dd162897\(v=vs.85\))構造体へのポインター。<br /><br /> 呼び出し側は[、RECT](/previous-versions/dd162897\(v=vs.85\))構造体の割り振りを行います。 このパラメーターは NULL にはできません。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK で説明されている[LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect)メッセージを送信します。 詳細については、「[マクロListView_GetItemIndexRect](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect)」を参照してください。

### <a name="example"></a>例

次のコード例では、`m_listCtrl`現在のリスト ビュー コントロールにアクセスするために使用される変数 を定義します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

メソッドのコード例を次に`GetGroupRect`示します。 このコード例を入力する前に、レポート ビューに "ClientID" と "Grade" という 2 つの列を表示するリスト ビュー コントロールを作成しました。 次のコード例では、両方の列の 2 番目のサブ項目の周囲に 3D 四角形を描画します。

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="clistctrlgetitemposition"></a><a name="getitemposition"></a>次の項目を取得します。

リスト ビュー アイテムの位置を取得します。

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
位置を取得する項目のインデックス。

*lpPoint*<br/>
ビュー座標で、項目の左上隅の位置を受け取る[POINT](/previous-versions/dd162805\(v=vs.85\))構造体のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="clistctrlgetitemrect"></a><a name="getitemrect"></a>をクリックします。

現在のビュー内の項目のすべてまたは一部に外接する四角形を取得します。

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
位置を取得する項目のインデックス。

*Lprect*<br/>
外接する四角形を受け取る[RECT](/previous-versions/dd162897\(v=vs.85\))構造体のアドレス。

*nコード*<br/>
外接する四角形を取得するリスト ビュー アイテムの一部。 次のいずれかの値とすることができます。

- LVIR_BOUNDSアイコンとラベルを含む、項目全体の外接する四角形を返します。

- LVIR_ICON アイコンまたは小さいアイコンの外接する四角形を返します。

- LVIR_LABEL項目テキストの外接する四角形を返します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="clistctrlgetitemspacing"></a><a name="getitemspacing"></a>をクリックします。

現在のリスト ビュー コントロール内の項目間の間隔を計算します。

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*fスモール*|[in]項目間隔を取得するビュー。 小さいアイコン ビューの場合は TRUE、アイコン ビューには FALSE を指定します。|
|*スペーズスペリング*|[アウト]項目間の水平方向の間隔を指定します。|
|*間隔を設定します。*|[アウト]項目間の垂直方向の間隔を含みます。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK で説明されている[LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing)メッセージを送信します。

## <a name="clistctrlgetitemstate"></a><a name="getitemstate"></a>をクリックします。

リスト ビュー アイテムの状態を取得します。

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
状態を取得する項目のインデックス。

*nマスク*<br/>
返す項目の状態フラグを指定するマスク。

### <a name="return-value"></a>戻り値

指定したリスト ビュー アイテムの状態フラグ。

### <a name="remarks"></a>解説

項目の状態は、Windows SDK`state`で説明されているように[、LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のメンバーによって指定されます。 項目の状態を指定または変更する場合、メンバーは`stateMask`変更する状態ビットを指定します。

### <a name="example"></a>例

[の](#gettopindex)例を参照してください。

## <a name="clistctrlgetitemtext"></a><a name="getitemtext"></a>をクリックします。

リスト ビュー アイテムまたはサブアイテムのテキストを取得します。

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
取得するテキストを含む項目のインデックス。

*nサブアイテム*<br/>
テキストを取得するサブ項目を指定します。

*lpszText*<br/>
項目テキストを受け取る文字列へのポインター。

*nlen*<br/>
*lpszText*が指すバッファの長さ。

### <a name="return-value"></a>戻り値

**int を**返すバージョンは、取得した文字列の長さを返します。

を返すバージョン`CString`は、項目のテキストを返します。

### <a name="remarks"></a>解説

*nSubItem*が 0 の場合、この関数は項目ラベルを取得します。*nSubItem*が 0 以外の場合は、サブ項目のテキストを取得します。 サブアイテム引数の詳細については、Windows SDK の[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の説明を参照してください。

## <a name="clistctrlgetnextitem"></a><a name="getnextitem"></a>次の項目を取得します。

指定したプロパティを持ち、指定したアイテムとの関係を持つリスト ビュー アイテムを検索します。

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
検索を開始する項目のインデックスを指定するか、-1 を指定して指定したフラグに一致する最初の項目を検索します。 指定した項目自体は検索から除外されます。

*Nflags*<br/>
指定された項目に対する要求された項目の幾何学的関係、および要求された項目の状態。 幾何学的関係は、次のいずれかの値になります。

- LVNI_ABOVE 指定した項目の上にあるアイテムを検索します。

- LVNI_ALL インデックス (既定値) で後続のアイテムを検索します。

- LVNI_BELOW 指定した項目の下にあるアイテムを検索します。

- LVNI_TOLEFT 指定した項目の左側にある項目を検索します。

- LVNI_TORIGHT 指定した項目の右側にある項目を検索します。

状態は 0 にすることも、次の値の 1 つ以上を指定することもできます。

- LVNI_DROPHILITED 項目にLVIS_DROPHILITED状態フラグが設定されています。

- LVNI_FOCUSED 項目にLVIS_FOCUSED状態フラグが設定されています。

- LVNI_SELECTED 項目にLVIS_SELECTED状態フラグが設定されています。

指定した状態フラグの一部が設定されていない項目の場合、次の項目から検索が続行されます。

### <a name="return-value"></a>戻り値

成功した場合は次の項目のインデックス。または -1 以外の場合は -1。

## <a name="clistctrlgetnextitemindex"></a><a name="getnextitemindex"></a>次の項目のインデックスを取得します。

指定したプロパティ セットを持つ現在のリスト ビュー コントロール内の項目のインデックスを取得します。

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*をクリックします。*|[イン、アウト]検索が開始される項目を記述する[LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体へのポインター、または -1 を指定して*nFlags*パラメーターのフラグに一致する最初の項目を検索します。<br /><br /> このメソッドが成功した場合、`LVITEMINDEX`構造体は検索で見つかった項目を記述します。|
|*Nflags*|[in]検索の実行方法を指定するフラグのビットごとの組み合わせ (OR)。<br /><br /> 検索は、ターゲット項目のインデックス、状態、または外観、または*pItemIndex*パラメーターで指定された項目に対するターゲット 項目の物理的な位置に依存します。 詳細については[、LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex)メッセージの*flags*パラメーターを参照してください。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

呼び出し元は *、pItemIndex*パラメーターによって`LVITEMINDEX`指される構造体のメンバーを割り当てて設定します。

このメソッドは、Windows SDK に記載されている[LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex)メッセージを送信します。

## <a name="clistctrlgetnextselecteditem"></a><a name="getnextselecteditem"></a>次に選択されたアイテムを取得します。

*pos*で識別されるリスト 項目のインデックスを取得し *、pos*を POSITION 値に設定します。

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>パラメーター

*pos*<br/>
以前の呼び出しによって返された POSITION`GetNextSelectedItem`値`GetFirstSelectedItemPosition`への参照または 。 この呼び出しによって、値は次の位置に更新されます。

### <a name="return-value"></a>戻り値

*pos*で識別されるリスト 項目のインデックス。

### <a name="remarks"></a>解説

の呼び`GetNextSelectedItem`出しで初期位置を確立する場合は、順方向反復ループ`GetFirstSelectedItemPosition`で使用できます。

POSITION 値が有効であることを確認する必要があります。 無効な場合は、Microsoft Foundation クラス ライブラリのデバッグ バージョンがアサートします。

### <a name="example"></a>例

この関数の使用方法を次のコード サンプルに示します。

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetnumberofworkareas"></a><a name="getnumberofworkareas"></a>ワークエリア数::仕事の領域

リスト ビュー コントロールの現在の作業領域の数を取得します。

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>戻り値

現時点では使用しません。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas)の動作を実装します。

### <a name="example"></a>例

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="clistctrlgetoutlinecolor"></a><a name="getoutlinecolor"></a>次の項目を選択します。

リスト ビュー コントロールの境界線の色を取得します。

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>戻り値

アウトライン色を含む[COLORREF](/windows/win32/gdi/colorref)構造体を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETOUTLINECOLOR](/windows/win32/Controls/lvm-getoutlinecolor)メッセージの機能をエミュレートします。

## <a name="clistctrlgetorigin"></a><a name="getorigin"></a>を取得します。

リスト ビュー コントロールの現在のビューの開始位置を取得します。

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>パラメーター

*lpPoint*<br/>
ビューの起点を受け取る[POINT](/previous-versions/dd162805\(v=vs.85\))構造体のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。 ただし、コントロールがレポート ビューにある場合、戻り値は常に 0 です。

## <a name="clistctrlgetselectedcolumn"></a><a name="getselectedcolumn"></a>列を選択します。

リスト コントロールで現在選択されている列のインデックスを取得します。

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>戻り値

選択した列のインデックス。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETSELECTEDCOLUMN](/windows/win32/Controls/lvm-getselectedcolumn)メッセージの機能をエミュレートします。

## <a name="clistctrlgetselectedcount"></a><a name="getselectedcount"></a>を選択しました。

リスト ビュー コントロールで選択されている項目の数を取得します。

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールで選択されている項目の数。

### <a name="example"></a>例

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="clistctrlgetselectionmark"></a><a name="getselectionmark"></a>を選択します。

リスト ビュー コントロールの選択マークを取得します。

```
int GetSelectionMark();
```

### <a name="return-value"></a>戻り値

0 から始まる選択マーク、または -1 (選択マークがない場合)。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="clistctrlgetstringwidth"></a><a name="getstringwidth"></a>文字列幅を取得します。

指定された文字列をすべて表示するために必要な最小列幅を決定します。

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>パラメーター

*lpsz*<br/>
幅が決定される null で終わる文字列のアドレス。

### <a name="return-value"></a>戻り値

*lpsz*が指す文字列の幅 (ピクセル単位) です。

### <a name="remarks"></a>解説

返される幅は、コントロールの現在のフォントと列の余白を考慮に入れますが、小さいアイコンの幅は考慮しません。

### <a name="example"></a>例

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="clistctrlgetsubitemrect"></a><a name="getsubitemrect"></a>をクリックします。

リスト ビュー コントロール内の項目の外接する四角形を取得します。

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>パラメーター

*iItem*<br/>
サブ項目の親アイテムのインデックス。

*をクリックします。*<br/>
サブ項目の 1 から始まるインデックス。

*nエリア*<br/>
取得する四角形 (リスト ビューサブ項目) の外接する部分を指定します。 外接する四角形の部分 (アイコン、ラベル、またはその両方) は、ビットごとの OR 演算子を次の 1 つ以上の値に適用することによって指定されます。

- LVIR_BOUNDSアイコンとラベルを含む、項目全体の外接する四角形を返します。

- LVIR_ICON アイコンまたは小さいアイコンの外接する四角形を返します。

- LVIR_LABEL アイコンやラベルを含む、項目全体の外接する四角形を返します。 これはLVIR_BOUNDSと同じです。

*ref*<br/>
サブ項目の外接する四角形の座標を格納する[CRect](../../atl-mfc-shared/reference/crect-class.md)オブジェクトへの参照。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect)の動作を実装します。

## <a name="clistctrlgettextbkcolor"></a><a name="gettextbkcolor"></a>次の文字列を取得します。

リスト ビュー コントロールのテキスト背景色を取得します。

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>戻り値

RGB カラーを指定するために使用される 32 ビット値。

### <a name="example"></a>例

の[例を参照](#settextbkcolor)してください。

## <a name="clistctrlgettextcolor"></a><a name="gettextcolor"></a>をクリックします。

リスト ビュー コントロールのテキストの色を取得します。

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>戻り値

RGB カラーを指定するために使用される 32 ビット値。

### <a name="example"></a>例

[の](#settextcolor)例を参照してください。

## <a name="clistctrlgettileinfo"></a><a name="gettileinfo"></a>をクリックします。

リスト ビュー コントロールのタイルに関する情報を取得します。

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>パラメーター

*プルヴィチ*<br/>
タイル情報を受け取る[LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo)メッセージの機能をエミュレートします。

## <a name="clistctrlgettileviewinfo"></a><a name="gettileviewinfo"></a>をクリックします。

タイル ビューのリスト ビュー コントロールに関する情報を取得します。

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>パラメーター

*ptvi*<br/>
取得した情報を受け取る[LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo)メッセージの機能をエミュレートします。

## <a name="clistctrlgettooltips"></a><a name="gettooltips"></a>ヒントを取得します。

リスト ビュー コントロールがツールヒントを表示するために使用するツールヒント コントロールを取得します。

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>戻り値

リスト コントロールで使用される[CToolTipCtrl](ctooltipctrl-class.md)オブジェクトへのポインター。 [Create](#create)メンバー関数がスタイル LVS_NOTOOLTIPSを使用する場合、ツールヒントは使用されず、NULL が返されます。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 メッセージ[LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips)の動作を実装します。 MFC の`GetToolTips`実装は、`CToolTipCtrl`ツールヒント コントロールへのハンドルではなく、リスト コントロールで使用されるオブジェクトを返します。

### <a name="example"></a>例

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="clistctrlgettopindex"></a><a name="gettopindex"></a>をクリックします。

リスト ビューまたはレポート ビューで最も表示されているアイテムのインデックスを取得します。

```
int GetTopIndex() const;
```

### <a name="return-value"></a>戻り値

最も表示されている項目のインデックス。

### <a name="example"></a>例

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="clistctrlgetview"></a><a name="getview"></a>をクリックします。

リスト ビュー コントロールのビューを取得します。

```
DWORD GetView() const;
```

### <a name="return-value"></a>戻り値

リスト ビュー コントロールの現在のビュー。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_GETVIEW](/windows/win32/Controls/lvm-getview)メッセージの機能をエミュレートします。

## <a name="clistctrlgetviewrect"></a><a name="getviewrect"></a>をクリックします。

リスト ビュー コントロール内のすべての項目の外接する四角形を取得します。

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>パラメーター

*Lprect*<br/>
[RECT](/previous-versions/dd162897\(v=vs.85\))構造体のアドレス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

リスト ビューは、アイコン ビューまたは小さいアイコン ビューである必要があります。

## <a name="clistctrlgetworkareas"></a><a name="getworkareas"></a>ワークエリアを取得します。

リスト ビュー コントロールの現在の作業領域を取得します。

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>パラメーター

*nワークエリア*<br/>
`RECT` *pRect*配列に含まれる構造体の数。

*プレック*<br/>
リスト ビュー コントロールの`RECT`作業領域を受け取る構造体 ([または CRect](../../atl-mfc-shared/reference/crect-class.md)オブジェクト) の配列へのポインター。 これらの構造体の値はクライアント座標で示されます。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas)の動作を実装します。

### <a name="example"></a>例

の[例を参照](#getnumberofworkareas)してください。

## <a name="clistctrlhasgroup"></a><a name="hasgroup"></a>をクリックします。

リスト ビュー コントロールに指定されたグループがあるかどうかを判断します。

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>パラメーター

*グループId*<br/>
要求されているグループの識別子。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、失敗した場合は FALSE を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup)メッセージの機能をエミュレートします。

## <a name="clistctrlhittest"></a><a name="hittest"></a>ヒットテスト

指定した位置にどのリスト ビュー アイテムがある場合に、その項目を決定します。

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>パラメーター

*テスト情報*<br/>
ヒット テスト`LVHITTESTINFO`の位置を含み、ヒット テストの結果に関する情報を受け取る構造体のアドレス。

*Pt*<br/>
テストされる点。

*フラグ*<br/>
テストの結果に関する情報を受け取る整数へのポインター。 Windows SDK の`flags` [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)構造体のメンバーの説明を参照してください。

### <a name="return-value"></a>戻り値

*pHitTestInfo*で指定された位置にある項目のインデックス (存在する場合) または -1。.

### <a name="remarks"></a>解説

構造体の`flag`メンバーのLVHT_ABOVE、LVHT_BELOW、LVHT_TOLEFT、およびLVHT_TORIGHT値を使用して、リスト ビュー コントロールの内容をスクロールするかどうかを決定できます。 たとえば、これらのフラグのうちの 2 つを組み合わせることができます(たとえば、位置がクライアント領域の上および左側にある場合)。

構造体の`flag`メンバーのLVHT_ONITEM値をテストして、指定した位置がリスト ビュー アイテムの上にあるかどうかを確認できます。 この値は、構造体のメンバーのLVHT_ONITEMICON、LVHT_ONITEMLABEL、およびLVHT_ONITEMSTATEICON値に対するビットごとの OR`flag`演算です。

### <a name="example"></a>例

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="clistctrlinsertcolumn"></a><a name="insertcolumn"></a>列を挿入します。

リスト ビュー コントロールに新しい列を挿入します。

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
新しい列のインデックス。

*をクリックします。*<br/>
新しい列`LVCOLUMN`の属性を含む構造体のアドレス。

*見出し*<br/>
列の見出しを含む文字列のアドレス。

*nフォーマット*<br/>
列の配置を指定する整数。 LVCFMT_LEFT、LVCFMT_RIGHT、またはLVCFMT_CENTERのいずれかの値を指定できます。

*n幅*<br/>
列の幅 (ピクセル単位)。 このパラメーターが -1 の場合、列幅は設定されません。

*nサブアイテム*<br/>
列に関連付けられているサブ項目のインデックス。 このパラメーターが -1 の場合、列に関連付けられているサブアイテムはありません。

### <a name="return-value"></a>戻り値

成功した場合は新しい列のインデックス。または -1 以外の場合は -1。

### <a name="remarks"></a>解説

リスト ビュー コントロールの左端の列は左揃えである必要があります。

[LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw)構造体には、レポートビューのカラムの属性が含まれています。 また、列に関する情報を受け取るためにも使用されます。 この構造体については、Windows SDK で説明します。

## <a name="clistctrlinsertgroup"></a><a name="insertgroup"></a>グループを挿入します。

リスト ビュー コントロールにグループを挿入します。

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>パラメーター

*index*<br/>
グループを挿入する項目のインデックス。

*pgrp*<br/>
追加するグループを含む[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体へのポインター。

### <a name="return-value"></a>戻り値

グループが追加された項目のインデックスを返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_INSERTGROUP](/windows/win32/Controls/lvm-insertgroup)メッセージの機能をエミュレートします。

## <a name="clistctrlinsertgroupsorted"></a><a name="insertgroupsorted"></a>グループ化を行います。

指定したグループを順序付きグループのリストに挿入します。

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>パラメーター

*を挿入します。*<br/>
挿入するグループを含む[LVINSERTGROUP SORTED](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted)構造体へのポインター。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_INSERTGROUPSORTED](/windows/win32/Controls/lvm-insertgroupsorted)メッセージの機能をエミュレートします。

## <a name="clistctrlinsertitem"></a><a name="insertitem"></a>アイテムを挿入します。

リスト ビュー コントロールに項目を挿入します。

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>パラメーター

*Pitem*<br/>
Windows SDK で説明されているように、項目の属性を指定する[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体へのポインター。

*Nitem*<br/>
挿入する項目のインデックス。

*をクリックします。*<br/>
アイテムのラベルを含む文字列のアドレス。またはアイテムがコールバックアイテムの場合はLPSTR_TEXTCALLBACK。 コールバック項目の詳細については[、「CListCtrl::GetCallbackMask](#getcallbackmask)」を参照してください。

*nイメージ*<br/>
項目のイメージのインデックス、または項目がコールバック項目の場合はI_IMAGECALLBACK。 コールバック項目の詳細については[、「CListCtrl::GetCallbackMask](#getcallbackmask)」を参照してください。

*nマスク*<br/>
*nMask*パラメーターは、パラメーターとして渡される項目属性が有効であることを指定します。 これは、Windows SDK の[LVITEM 構造体](/windows/win32/api/commctrl/ns-commctrl-lvitemw)で説明されているマスク値の 1 つ以上を指定できます。 有効な値は、ビットごとの OR 演算子と組み合わせることができます。

*nステート*<br/>
アイテムの状態、状態イメージ、オーバーレイ イメージを示します。 詳細については、有効なフラグのリストについては、Windows SDK のトピック[LVITEM 構造](/windows/win32/api/commctrl/ns-commctrl-lvitemw)および[リストビュー項目の状態](/windows/win32/Controls/list-view-item-states)を参照してください。

*ステートマスク*<br/>
状態メンバーのどのビットを取得または変更するかを示します。 詳細については、Windows SDK の[LVITEM 構造](/windows/win32/api/commctrl/ns-commctrl-lvitemw)を参照してください。

*lParam*<br/>
アイテムに関連付けられている 32 ビット アプリケーション固有の値。 このパラメーターを指定する場合は *、nMask*属性をLVIF_PARAM設定する必要があります。

### <a name="return-value"></a>戻り値

正常終了した場合は新しい項目のインデックス。

### <a name="remarks"></a>解説

このメソッドを呼び出すと、LVM_INSERTITEM メッセージがコントロール ウィンドウに送信される場合があります。 コントロールに関連付けられたメッセージ ハンドラーは、特定の条件 (LVS_OWNERDRAWなどのウィンドウ スタイルの使用など) で項目テキストを設定できない場合があります。 これらの条件の詳細については、Windows SDK の[LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem)を参照してください。

### <a name="example"></a>例

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="clistctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>をクリックします。

指定したポイントに最も近いカーソル位置を取得します。

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>パラメーター

*pポイント*<br/>
リスト コントロールのクライアント領域を基準としたヒット テスト座標を含む[POINT](/previous-versions/dd162805\(v=vs.85\))構造体へのポインター。

*プラヴィム*<br/>
ポイント パラメータで定義された座標に最も近い挿入点を指定する[LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark)構造体へのポインタ。

### <a name="return-value"></a>戻り値

指定したポイントに最も近い挿入ポイント。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest)メッセージの機能をエミュレートします。

## <a name="clistctrlisgroupviewenabled"></a><a name="isgroupviewenabled"></a>を有効にします。

リスト ビュー コントロールに対してグループ ビューを有効にするかどうかを指定します。

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>戻り値

グループ ビューが有効な場合は TRUE を返し、それ以外の場合は FALSE を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled)メッセージの機能をエミュレートします。

## <a name="clistctrlisitemvisible"></a><a name="isitemvisible"></a>をクリックします。

現在のリスト ビュー コントロール内の指定した項目が表示されているかどうかを示します。

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*index*|[in]現在のリスト ビュー コントロール内の項目の 0 から始まるインデックス。|

### <a name="return-value"></a>戻り値

指定した項目が表示されている場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK に記載されている[LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible)メッセージを送信します。

## <a name="clistctrlmapidtoindex"></a><a name="mapidtoindex"></a>をクリックします。

現在のリスト ビュー コントロール内のアイテムの一意の ID をインデックスにマップします。

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*id*|[in]アイテムの一意の ID。|

### <a name="return-value"></a>戻り値

指定した ID の現在のインデックス。

### <a name="remarks"></a>解説

リスト ビュー コントロールは、インデックスによって項目を内部的に追跡します。 これは、コントロールの有効期間中にインデックスが変更される可能性があるため、問題が発生する可能性があります。 リスト ビュー コントロールは、アイテムが作成されるときに項目に ID を付けることができ、この ID を使用してリスト ビュー コントロールの有効期間中に一意性を保証できます。

マルチスレッド環境では、インデックスは、バック グラウンド スレッドではなく、リスト ビュー コントロールをホストするスレッドでのみ保証されることに注意してください。

このメソッドは、Windows SDK で説明されている[LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex)メッセージを送信します。

## <a name="clistctrlmapindextoid"></a><a name="mapindextoid"></a>をクリックします。

現在のリスト ビュー コントロール内のアイテムのインデックスを一意の ID にマップします。

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*index*|[in]項目の 0 から始まるインデックス。|

### <a name="return-value"></a>戻り値

指定したアイテムの一意の ID。

### <a name="remarks"></a>解説

リスト ビュー コントロールは、インデックスによって項目を内部的に追跡します。 これは、コントロールの有効期間中にインデックスが変更される可能性があるため、問題が発生する可能性があります。 リスト ビュー コントロールは、アイテムの作成時に ID を持つ項目にタグを付けることができます。 この ID を使用して、リスト ビュー コントロールの有効期間内の特定のアイテムにアクセスできます。

マルチスレッド環境では、インデックスは、バック グラウンド スレッドではなく、リスト ビュー コントロールをホストするスレッドでのみ保証されることに注意してください。

このメソッドは、Windows SDK で説明されている[LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid)メッセージを送信します。

### <a name="example"></a>例

次のコード例では、`m_listCtrl`現在のリスト ビュー コントロールにアクセスするために使用される変数 を定義します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

メソッドのコード例を次に`MapIndexToID`示します。 このコード例の前のセクションでは、レポート ビューに "ClientID" と "Grade" という 2 つの列を表示するリスト ビュー コントロールを作成しました。 次の例では、各リスト ビュー アイテムのインデックスを識別番号にマップし、各識別番号のインデックスを取得します。 最後に、元のインデックスが取得されたかどうかを報告します。

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="clistctrlmovegroup"></a><a name="movegroup"></a>グループの移動

指定したグループを、リスト ビュー コントロールの指定した 0 から始まるインデックスに移動します。

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>パラメーター

*グループId*<br/>
移動するグループの識別子。

*インデックスを使用します。*<br/>
グループを移動する 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup)メッセージの機能をエミュレートします。

## <a name="clistctrlmoveitemtogroup"></a><a name="moveitemtogroup"></a>グループを移動します。

指定した項目を指定したグループに移動します。

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>パラメーター

*から*<br/>
[in]移動する項目のインデックス。

*idグループの値*<br/>
[in]アイテムの移動先となるグループの識別子。

### <a name="remarks"></a>解説

> [!NOTE]
> このメソッドは現在実装されていません。

このメソッドは、Windows SDK で説明されているように[、LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup)メッセージの機能をエミュレートします。

## <a name="clistctrlredrawitems"></a><a name="redrawitems"></a>アイテムを再描画します。

リスト ビュー コントロールに、一定範囲の項目を強制的に再描画します。

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>パラメーター

*n最初の*<br/>
再描画する最初の項目のインデックス。

*nラスト*<br/>
再描画する最後の項目のインデックス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

指定された項目は、リスト ビュー ウィンドウがWM_PAINT メッセージを受信するまで、実際には再描画されません。 すぐに再描画するには、この関数を使用した後に Windows [UpdateWindow](/windows/win32/api/winuser/nf-winuser-updatewindow)関数を呼び出します。

## <a name="clistctrlremoveallgroups"></a><a name="removeallgroups"></a>グループを削除します。

リスト ビュー コントロールからすべてのグループを削除します。

```
void RemoveAllGroups();
```

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups)メッセージの機能をエミュレートします。

## <a name="clistctrlremovegroup"></a><a name="removegroup"></a>グループの削除

指定したグループをリスト ビュー コントロールから削除します。

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>パラメーター

*グループId*<br/>
削除するグループの識別子。

### <a name="return-value"></a>戻り値

成功した場合はグループのインデックスを返し、それ以外の場合は -1 を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_REMOVEGROUP](/windows/win32/Controls/lvm-removegroup)メッセージの機能をエミュレートします。

## <a name="clistctrlscroll"></a><a name="scroll"></a>スクロール

リスト ビュー コントロールの内容をスクロールします。

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>パラメーター

*サイズ*<br/>
水平方向`CSize`と垂直方向のスクロール量をピクセル単位で指定するオブジェクト。 サイズ`y`のメンバー*size*は、リスト ビュー コントロールの行の高さ (ピクセル単位) で割られ、コントロールは結果の行数だけスクロールされます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

## <a name="clistctrlsetbkcolor"></a><a name="setbkcolor"></a>をクリックします。

リスト ビュー コントロールの背景色を設定します。

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>パラメーター

*Cr*<br/>
設定する背景色、または背景色なしのCLR_NONE値。 背景色を持つリスト ビュー コントロールは、背景色のないコントロールよりも大幅に高速に再描画します。 詳細については、Windows SDK の[カラー参照](/windows/win32/gdi/colorref)を参照してください。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="clistctrlsetbkimage"></a><a name="setbkimage"></a>をクリックします。

リスト ビュー コントロールの背景イメージを設定します。

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>パラメーター

*イメージ*<br/>
新しい背景`LVBKIMAGE`イメージ情報を含む構造体のアドレス。

*hビットマップ*<br/>
ビットマップへのハンドル。

*をクリックします。*<br/>
バックグラウンド イメージの URL を含む NULL で終わる文字列。

*フタイル*<br/>
イメージをリスト ビュー コントロールの背景に並べて表示する場合は 0 以外の値を返します。それ以外の場合は 0。

*パーセント値を指定します。*<br/>
イメージの左端の、リスト ビュー コントロールの原点からのオフセット (ピクセル単位)。

*パーセント値*<br/>
イメージの上端の、リスト ビュー コントロールの原点からのオフセット (ピクセル単位)。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返し、それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

> [!NOTE]
> OLE `CListCtrl::SetBkImage` COM 機能を使用するため、 を使用`SetBkImage`する前に OLE ライブラリを初期化する必要があります。 アプリケーションが初期化されるときに COM ライブラリを初期化し、アプリケーションの終了時にライブラリを初期化解除することをお勧めします。 これは、ActiveX テクノロジ、OLE オートメーション、OLE リンク/埋め込み、または ODBC/DAO 操作を使用する MFC アプリケーションで自動的に実行されます。

### <a name="example"></a>例

[の](#getbkimage)例を参照してください。

## <a name="clistctrlsetcallbackmask"></a><a name="setcallbackmask"></a>を使用します。

リスト ビュー コントロールのコールバック マスクを設定します。

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>パラメーター

*nマスク*<br/>
コールバック マスクの新しい値。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="clistctrlsetcheck"></a><a name="setcheck"></a>をクリックします。

リスト コントロール項目の状態イメージを表示するかどうかを決定します。

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
リスト コントロール項目の 0 から始まるインデックス。

*チェック*<br/>
項目の状態イメージを表示するかどうかを指定します。 既定では *、fCheck*は TRUE で、状態イメージは表示されます。 *fCheck*が FALSE の場合、表示されません。

### <a name="return-value"></a>戻り値

項目がチェックされている場合は 0 以外、それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="clistctrlsetcolumn"></a><a name="setcolumn"></a>列を設定します。

リスト ビュー列の属性を設定します。

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
属性が設定される列のインデックス。

*をクリックします。*<br/>
Windows SDK で説明されているように、新しい列属性を含む[LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw)構造体のアドレス。 構造体の`mask`メンバーは、設定する列属性を指定します。 メンバーが`mask`LVCF_TEXT値を指定する場合、構造体の`pszText`メンバーは NULL で終わる文字列のアドレスであり、構造体の`cchTextMax`メンバーは無視されます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

[次](#getcolumn)の例を参照してください。

## <a name="clistctrlsetcolumnorderarray"></a><a name="setcolumnorderarray"></a>配列を並べ替えます。

リスト ビュー コントロールの列の順序 (左から右) を設定します。

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>パラメーター

*ピアレイ*<br/>
リスト ビュー コントロールの列のインデックス値を格納しているバッファーへのポインター (左から右へ)。 バッファーは、リスト ビュー コントロールの列の合計数を格納するのに十分な大きさである必要があります。

*iカウント*<br/>
リスト ビュー コントロールの列数。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

このメンバー関数[は、Windows](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray)SDK で説明されているように、Win32 マクロの動作ListView_SetColumnOrderArray実装します。

### <a name="example"></a>例

の[例を参照](#getcolumnorderarray)してください。

## <a name="clistctrlsetcolumnwidth"></a><a name="setcolumnwidth"></a>列幅を設定します。

レポート ビューまたはリスト ビューの列の幅を変更します。

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>パラメーター

*nCol*<br/>
幅を設定する列のインデックス。 リスト ビューでは、このパラメーターは 0 である必要があります。

*Cx*<br/>
列の新しい幅。 Windows SDK の[LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth)で説明されているように、LVSCW_AUTOSIZEまたはLVSCW_AUTOSIZE_USEHEADERを使用できます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

## <a name="clistctrlsetextendedstyle"></a><a name="setextendedstyle"></a>次のスタイルを使用します。

リスト ビュー コントロールの現在の拡張スタイルを設定します。

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>パラメーター

*ドウニュースタイル*<br/>
リスト ビュー コントロールで使用される拡張スタイルの組み合わせ。 これらのスタイルの説明の一覧については、Windows SDK の[「拡張リスト ビュー スタイル](/windows/win32/Controls/extended-list-view-styles)」を参照してください。

### <a name="return-value"></a>戻り値

リスト ビュー コントロールで使用された以前の拡張スタイルの組み合わせ。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="clistctrlsetgroupinfo"></a><a name="setgroupinfo"></a>グループ化情報

現在のリスト ビュー コントロールの指定されたグループを記述する情報を設定します。

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>パラメーター

*グループId*<br/>
情報が設定されているグループの識別子。

*pgrp*<br/>
設定する情報を含む[LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)構造体へのポインター。 呼び出し元は、この構造体を割り当て、そのメンバーを設定する必要があります。

### <a name="return-value"></a>戻り値

メソッドが成功した場合はグループの ID。それ以外の場合は -1。

### <a name="remarks"></a>解説

このメソッドは、Windows SDK で説明されている[LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo)メッセージを送信します。

## <a name="clistctrlsetgroupmetrics"></a><a name="setgroupmetrics"></a>グループメトリックス

リスト ビュー コントロールのグループ メトリックを設定します。

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>パラメーター

*グループメトリックス*<br/>
設定するグループ・メトリック情報を含む[LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics)構造体へのポインター。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETGROUPMETRICS](/windows/win32/Controls/lvm-setgroupmetrics)メッセージの機能をエミュレートします。

## <a name="clistctrlsethotcursor"></a><a name="sethotcursor"></a>をクリックします。

リスト ビュー コントロールに対してホット トラッキングが有効になっている場合に使用するカーソルを設定します。

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>パラメーター

*Hc*<br/>
ホット カーソルを表すために使用されるカーソル リソースへのハンドル。

### <a name="return-value"></a>戻り値

リスト ビュー コントロールで使用されている前のホット カーソル リソースへのハンドル。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor)の動作を実装します。

ホット カーソルは、カーソル選択が有効になっている場合にのみ表示され、カーソルがリスト ビュー アイテムの上に移動すると表示されます。 ホバー選択は、LVS_EX_TRACKSELECT拡張スタイルを設定することによって有効になります。

### <a name="example"></a>例

[次](#gethotcursor)の例を参照してください。

## <a name="clistctrlsethotitem"></a><a name="sethotitem"></a>をクリックします。

リスト ビュー コントロールの現在のホット アイテムを設定します。

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
ホットアイテムとして設定する項目の 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

以前にホットな項目の 0 から始まるインデックス。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem)の動作を実装します。

### <a name="example"></a>例

[の](#gethotitem)例を参照してください。

## <a name="clistctrlsethovertime"></a><a name="sethovertime"></a>をクリックします。

リスト ビュー コントロールの現在のホバー時間を設定します。

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>パラメーター

*ドホバータイム*<br/>
選択する前にマウス カーソルが項目の上に移動する必要がある新しい遅延 (ミリ秒単位)。 デフォルト値が渡された場合、時間はデフォルトのホバー時間に設定されます。

### <a name="return-value"></a>戻り値

前のホバー時間 (ミリ秒単位)。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime)の動作を実装します。

### <a name="example"></a>例

[の](#gethovertime)例を参照してください。

## <a name="clistctrlseticonspacing"></a><a name="seticonspacing"></a>を指定します。

リスト ビュー コントロール内のアイコン間の間隔を設定します。

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>パラメーター

*Cx*<br/>
X 軸上のアイコン間の距離 (ピクセル単位)。

*Cy*<br/>
Y 軸のアイコン間の距離 (ピクセル単位)。

*サイズ*<br/>
x`CSize`軸と y 軸のアイコン間の距離をピクセル単位で指定するオブジェクト。

### <a name="return-value"></a>戻り値

アイコン間隔の前の値を含む[CSize](../../atl-mfc-shared/reference/csize-class.md)オブジェクト。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="clistctrlsetimagelist"></a><a name="setimagelist"></a>をクリックします。

イメージ リストをリスト ビュー コントロールに割り当てます。

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>パラメーター

*一覧*<br/>
割り当てるイメージ リストへのポインター。

*を使用します。*<br/>
イメージ リストの種類です。 次のいずれかの値とすることができます。

- 大きなアイコンを持つイメージ リストをLVSIL_NORMALします。

- 小さなアイコンを持つイメージ リストをLVSIL_SMALLします。

- LVSIL_STATE状態イメージを含むイメージ リスト。

### <a name="return-value"></a>戻り値

前のイメージ リストへのポインター。

### <a name="example"></a>例

の[例を参照](#getimagelist)してください。

## <a name="clistctrlsetinfotip"></a><a name="setinfotip"></a>次の項目を使用します。

ツールヒントテキストを設定します。

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>パラメーター

*ヒント*<br/>
設定する情報を含む[LVFSETINFOTIP](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、失敗した場合は FALSE を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETINFOTIP](/windows/win32/Controls/lvm-setinfotip)メッセージの機能をエミュレートします。

## <a name="clistctrlsetinsertmark"></a><a name="setinsertmark"></a>を挿入します。

カーソル位置を定義した位置に設定します。

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>パラメーター

*プラヴィム*<br/>
挿入ポイントの設定場所を指定する[LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark)構造体へのポインタ。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、そうでない場合は FALSE を返します。 `LVINSERTMARK`構造体の`cbSize`メンバーのサイズが構造体の実際のサイズと等しくない場合、またはカーソル位置が現在のビューに適用されない場合は、FALSE が返されます。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETINSERTMARK](/windows/win32/Controls/lvm-setinsertmark)メッセージの機能をエミュレートします。

## <a name="clistctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>をクリックします。

挿入ポイントの色を設定します。

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>パラメーター

*色*<br/>
挿入ポイントを設定する色を指定する[COLORREF](/windows/win32/gdi/colorref)構造体。

### <a name="return-value"></a>戻り値

前の`COLORREF`色を含む構造体を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor)メッセージの機能をエミュレートします。

## <a name="clistctrlsetitem"></a><a name="setitem"></a>をクリックします。

リスト ビュー アイテムの属性の一部またはすべてを設定します。

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>パラメーター

*Pitem*<br/>
Windows SDK で説明されているように、新しい項目の属性を含む[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のアドレス。 構造体`iItem`と`iSubItem`メンバーはアイテムまたはサブ項目を識別し、構造体の`mask`メンバーは設定する属性を指定します。 メンバの`mask`詳細については、「 解説 」を参照**してください**。

*Nitem*<br/>
属性が設定される項目のインデックス。

*nサブアイテム*<br/>
属性が設定されるサブ項目のインデックス。

*nマスク*<br/>
設定する属性を指定します (解説を参照)。

*をクリックします。*<br/>
項目のラベルを指定する null で終わる文字列のアドレス。

*nイメージ*<br/>
イメージ リスト内のアイテムのイメージのインデックス。

*nステート*<br/>
変更する状態の値を指定します (解説を参照)。

*ステートマスク*<br/>
変更する状態を指定します (解説を参照)。

*lParam*<br/>
項目に関連付ける 32 ビットのアプリケーション固有の値。

*nインデント*<br/>
インデントの幅 (ピクセル単位)。 *nIndent*がシステム定義の最小幅より小さい場合、新しい幅はシステム定義の最小値に設定されます。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

`LVITEM`構造体`iItem`の`iSubItem`および nItem および*nSubItem*パラメーターのメンバーは、属性が設定されるアイテムとサブアイテムを識別します。 *nSubItem*

構造体`mask`の`LVITEM`メンバーと*nMask*パラメーターは、設定する項目属性を指定します。

- LVIF_TEXT`pszText`メンバーまたは*lpszItem*パラメーターは、null で終わる文字列のアドレスです。メンバー`cchTextMax`は無視されます。

- LVIF_STATE`stateMask`メンバーまたは*nStateMask*パラメーターは、変更する項目の`state`状態を指定し、メンバーまたは*nState*パラメーターにそれらの状態の値が含まれます。

### <a name="example"></a>例

[次](#hittest)の例を参照してください。

## <a name="clistctrlsetitemcount"></a><a name="setitemcount"></a>をクリックします。

多数の項目を追加するためのリスト ビュー コントロールを準備します。

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>パラメーター

*nアイテム*<br/>
コントロールに最終的に含まれる項目の数。

### <a name="remarks"></a>解説

仮想リスト ビュー コントロールのアイテム数を設定するには[、「CListCtrl::SetItemCountEx」](#setitemcountex)を参照してください。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount)の動作を実装します。

### <a name="example"></a>例

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemcountex"></a><a name="setitemcountex"></a>をクリックします。

仮想リスト ビュー コントロールの項目数を設定します。

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>パラメーター

*iカウント*<br/>
コントロールに最終的に含まれる項目の数。

*dwFlags*<br/>
項目数をリセットした後のリスト ビュー コントロールの動作を指定します。 この値は、次の組み合わせになります。

- LVSICF_NOINVALIDATEALL 影響を受ける項目が現在表示されていない限り、リスト ビュー コントロールは再描画されません。 これが既定値です。

- LVSICF_NOSCROLL リスト ビュー コントロールは、項目数が変更されたときにスクロール位置を変更しません。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDKand で説明されているように、Win32 マクロ[ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex)の動作を実装します。

### <a name="example"></a>例

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemdata"></a><a name="setitemdata"></a>を使用します。

*nItem*で指定された項目に関連付けられた 32 ビット アプリケーション固有の値を設定します。

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
データを設定するリスト アイテムのインデックス。

*dw データ*<br/>
アイテムに関連付ける 32 ビット値。

### <a name="return-value"></a>戻り値

正常終了した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

この値は、Windows SDK で説明されているように`lParam`[、LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のメンバーです。

### <a name="example"></a>例

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="clistctrlsetitemindexstate"></a><a name="setitemindexstate"></a>状態を設定します。

現在のリスト ビュー コントロール内の項目の状態を設定します。

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*をクリックします。*|[in]項目を記述する[LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex)構造体へのポインター。 呼び出し元は、この構造体を割り当て、そのメンバーを設定する必要があります。|
|*dwステート*|[in][項目](/windows/win32/Controls/list-view-item-states)を設定する状態 。 リセットする場合は 0 を指定し、状態を設定するには 1 を指定します。|
|*Dwmask*|[in]*dwState*パラメーターで指定された状態の有効なビットのマスク。 [リスト ビュー アイテムの状態](/windows/win32/Controls/list-view-item-states)のビットごとの組み合わせ (OR) を指定します。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

*dwState*パラメーターの詳細については、「[リスト ビュー アイテムの状態](/windows/win32/Controls/list-view-item-states)」を参照してください。

*dwMask*パラメーターの詳細については[、LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の*stateMask*メンバーを参照してください。

このメソッドは、Windows SDK で説明されている[LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate)メッセージを送信します。

## <a name="clistctrlsetitemposition"></a><a name="setitemposition"></a>を指定します。

リスト ビュー コントロール内の指定した位置に項目を移動します。

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
位置を設定する項目のインデックス。

*Pt*<br/>
項目の左上隅の新しい位置をビュー座標で指定する[POINT](/previous-versions/dd162805\(v=vs.85\))構造体。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

コントロールは、アイコンまたは小さいアイコン ビューにする必要があります。

リスト ビュー コントロールにLVS_AUTOARRANGEスタイルがある場合、リスト ビューは、項目の位置が設定された後に配置されます。

### <a name="example"></a>例

[の](#getitemposition)例を参照してください。

## <a name="clistctrlsetitemstate"></a><a name="setitemstate"></a>をクリックします。

リスト ビュー コントロール内の項目の状態を変更します。

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
状態が設定される項目のインデックス。

*Pitem*<br/>
Windows SDK で説明されているように[、LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のアドレス。 構造体の`stateMask`メンバーは、変更する状態ビットを指定し、構造体の`state`メンバーにそれらのビットの新しい値が含まれています。 他のメンバーは無視されます。

*nステート*<br/>
状態ビットの新しい値。 使用可能な値のリストについては、[次を参照](#getnextitem)してください。 [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

*nマスク*<br/>
変更する状態ビットを指定するマスク。 この値は[、LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体のステートマスクメンバーに対応します。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

アイテムの "状態" は、アイテムの可用性を指定する値、ユーザーの操作を示す値、またはその他の方法でアイテムの状態を反映する値です。 リスト ビュー コントロールは、ユーザーが項目を選択したときなど、状態ビットを変更します。 アプリケーションは、項目を無効にしたり非表示にしたり、オーバーレイ イメージまたは状態イメージを指定したりするために、他の状態ビットを変更する場合があります。

### <a name="example"></a>例

[の](#gettopindex)例を参照してください。

## <a name="clistctrlsetitemtext"></a><a name="setitemtext"></a>をクリックします。

リスト ビュー アイテムまたはサブアイテムのテキストを変更します。

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
テキストを設定する項目のインデックスです。

*nサブアイテム*<br/>
サブ項目のインデックス、またはアイテム ラベルを設定する場合は 0。

*lpszText*<br/>
新しい項目のテキストを含む文字列へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

このメソッドは、LVS_OWNERDATA ウィンドウ スタイルを含むコントロールで使用するためのものではありません (実際には、これは、デバッグ ビルドでアサーションを発生させます)。 このリスト コントロール スタイルの詳細については、「[リスト ビュー コントロールの概要](/windows/win32/Controls/list-view-controls-overview)」を参照してください。

### <a name="example"></a>例

[次](#insertitem)の例を参照してください。

## <a name="clistctrlsetoutlinecolor"></a><a name="setoutlinecolor"></a>カラーを設定します。

[LVS_EX_BORDERSELECT拡張](/windows/win32/Controls/list-view-window-styles)ウィンドウ スタイルが設定されている場合に、リスト ビュー コントロールの境界線の色を設定します。

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>パラメーター

*色*<br/>
アウトライン色を含む新しい[COLORREF](/windows/win32/gdi/colorref)構造体。

### <a name="return-value"></a>戻り値

アウトライン色`COLORREF`を含む前の構造体

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETOUTLINECOLOR](/windows/win32/Controls/lvm-setoutlinecolor)メッセージの機能をエミュレートします。

## <a name="clistctrlsetselectedcolumn"></a><a name="setselectedcolumn"></a>列を選択しました。

リスト ビュー コントロールの選択した列を設定します。

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>パラメーター

*アイコル*<br/>
選択する列のインデックス。

### <a name="return-value"></a>戻り値

戻り値は使用されません。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn)メッセージの機能をエミュレートします。

## <a name="clistctrlsetselectionmark"></a><a name="setselectionmark"></a>を選択します。

リスト ビュー コントロールの選択マークを設定します。

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
複数選択の最初の項目の 0 から始まるインデックス。

### <a name="return-value"></a>戻り値

前の選択マーク、または -1 (選択マークがない場合)。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark)の動作を実装します。

### <a name="example"></a>例

[次](#getselectionmark)の例を参照してください。

## <a name="clistctrlsettextbkcolor"></a><a name="settextbkcolor"></a>をクリックします。

リスト ビュー コントロールのテキストの背景色を設定します。

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>パラメーター

*Cr*<br/>
新しいテキストの背景色を指定する COLORREF です。 詳細については、Windows SDK の[カラー参照](/windows/win32/gdi/colorref)を参照してください。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="clistctrlsettextcolor"></a><a name="settextcolor"></a>をクリックします。

リスト ビュー コントロールのテキストの色を設定します。

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>パラメーター

*Cr*<br/>
新しいテキストの色を指定する COLORREF です。 詳細については、Windows SDK の[カラー参照](/windows/win32/gdi/colorref)を参照してください。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="example"></a>例

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="clistctrlsettileinfo"></a><a name="settileinfo"></a>をクリックします。

リスト ビュー コントロールのタイルの情報を設定します。

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>パラメーター

*をクリックします。*<br/>
設定する情報を含む[LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、失敗した場合は FALSE を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo)メッセージの機能をエミュレートします。

## <a name="clistctrlsettileviewinfo"></a><a name="settileviewinfo"></a>をクリックします。

リスト ビュー コントロールがタイル ビューで使用する情報を設定します。

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>パラメーター

*ptvi*<br/>
設定する情報を含む[LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo)構造体へのポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、失敗した場合は FALSE を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo)メッセージの機能をエミュレートします。

## <a name="clistctrlsettooltips"></a><a name="settooltips"></a>ヒントの設定

リスト ビュー コントロールがツールヒントを表示するために使用するツールヒント コントロールを設定します。

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>パラメーター

*プーンドチップ*<br/>
リスト コントロールが`CToolTipCtrl`使用するオブジェクトへのポインター。

### <a name="return-value"></a>戻り値

コントロールで以前に使用されていたツールヒントを含む[CToolTipCtrl](ctooltipctrl-class.md)オブジェクトへのポインター。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 メッセージ[LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips)の動作を実装します。

ツールチップを使用しない場合は、オブジェクトを作成するときにLVS_NOTOOLTIPSスタイル`CListCtrl`を指定します。

## <a name="clistctrlsetview"></a><a name="setview"></a>をクリックします。

リスト ビュー コントロールのビューを設定します。

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>パラメーター

*Iview*<br/>
選択するビュー。

### <a name="return-value"></a>戻り値

成功した場合は 1 を返し、それ以外の場合は -1 を返します。 たとえば、ビューが無効な場合は -1 が返されます。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SETVIEW](/windows/win32/Controls/lvm-setview)メッセージの機能をエミュレートします。

## <a name="clistctrlsetworkareas"></a><a name="setworkareas"></a>CリストCtrl::セットワークエリア

リスト ビュー コントロールにアイコンを表示できる領域を設定します。

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>パラメーター

*nワークエリア*<br/>
lpRect`RECT`が指す配列内の構造体 ([または CRect](../../atl-mfc-shared/reference/crect-class.md)オブジェクト) の数。 *lpRect*

*Lprect*<br/>
リスト ビュー コントロールの`RECT`新しい作業領域`CRect`を指定する構造体 (またはオブジェクト) の配列のアドレス。 これらの領域は、クライアント座標で指定する必要があります。 このパラメーターが NULL の場合、作業領域はコントロールのクライアント領域に設定されます。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、Win32 マクロ[ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas)の動作を実装します。

### <a name="example"></a>例

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="clistctrlsortgroups"></a><a name="sortgroups"></a>グループ化

アプリケーション定義の比較関数を使用して、リスト ビュー コントロール内で ID でグループを並べ替えます。

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>パラメーター

*_pfnGroupCompare*<br/>
グループ比較関数へのポインター。

*_plv*<br/>
void ポインター。

### <a name="return-value"></a>戻り値

成功した場合は TRUE を返し、失敗した場合は FALSE を返します。

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように[、LVM_SORTGROUPS](/windows/win32/Controls/lvm-sortgroups)メッセージの機能をエミュレートします。

## <a name="clistctrlsortitems"></a><a name="sortitems"></a>アイテムを並べ替える

アプリケーション定義の比較関数を使用して、リスト ビューアイテムを並べ替えます。

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>パラメーター

*比較*<br/>
[in]アプリケーション定義の比較関数のアドレス。

並べ替え操作では、2 つのリスト項目の相対順序を決定する必要があるたびに比較関数が呼び出されます。 比較関数は、クラスの静的メンバーであるか、どのクラスのメンバーでもないスタンドアロン関数である必要があります。

*dw データ*<br/>
[in]比較関数に渡されるアプリケーション定義の値。

### <a name="return-value"></a>戻り値

メソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、新しいシーケンスを反映するように各項目のインデックスを変更します。

比較関数*pfnCompare*は、次の形式で表されます。

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

比較関数は、最初の項目が 2 番目の項目の前に続く場合は負の値を返す必要があります。

*lParam1*パラメータは比較される最初の項目に関連付けられた 32 ビット値で *、lParam2*パラメータは 2 番目の項目に関連付けられた値です。 これらは、リストに挿入されたときに項目の[LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw)構造体の*lParam*メンバーに指定された値です。 *パラメーター*は*dwData*値と同じです。

このメソッドは、Windows SDK に記載されている[LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems)メッセージを送信します。

### <a name="example"></a>例

以下は、項目が*lParam*値でソートされる単純な比較関数です。

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="clistctrlsortitemsex"></a><a name="sortitemsex"></a>をクリックします。

アプリケーション定義の比較関数を使用して、現在のリスト ビュー コントロールの項目を並べ替えます。

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------------|-----------------|
|*比較*|[in]アプリケーション定義の比較関数のアドレス。<br /><br /> 並べ替え操作では、2 つのリスト項目の相対順序を決定する必要があるたびに比較関数が呼び出されます。 比較関数は、クラスの静的メンバーであるか、どのクラスのメンバーでもないスタンドアロン関数である必要があります。|
|*dw データ*|[in]比較関数に渡されるアプリケーション定義の値。|

### <a name="return-value"></a>戻り値

このメソッドが成功した場合は TRUE。それ以外の場合は FALSE。

### <a name="remarks"></a>解説

このメソッドは、新しいシーケンスを反映するように各項目のインデックスを変更します。

比較関数*pfnCompare*は、次の形式で表されます。

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

このメッセージは、比較関数に渡される情報の種類を除いて[、 LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems)に似ています。 [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems)では *、lParam1*と*lParam2*は比較する項目の値です。 [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex)では *、lParam1*は比較する最初の項目の現在のインデックスであり *、lParam2*は 2 番目の項目の現在のインデックスです。 [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext)メッセージを送信して、アイテムに関する詳細情報を取得できます。

比較関数は、最初の項目が 2 番目の項目の前に続く場合は負の値を返す必要があります。

> [!NOTE]
> 並べ替え処理中に、リスト ビューの内容が不安定になります。 コールバック関数がリスト ビュー コントロールにメッセージを送信する場合は[、LVM_GETITEM](/windows/win32/Controls/lvm-getitem)以外の結果は予測できません。

このメソッドは、Windows SDK に記載されている[LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex)メッセージを送信します。

### <a name="example"></a>例

次のコード例では、`m_listCtrl`現在のリスト ビュー コントロールにアクセスするために使用される変数 を定義します。 この変数は次の例で使用されています。

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>例

メソッドのコード例を次に`SortItemEx`示します。 このコード例の前のセクションでは、レポート ビューに "ClientID" と "Grade" という 2 つの列を表示するリスト ビュー コントロールを作成しました。 次のコード例では、[成績] 列の値を使用してテーブルを並べ替えます。

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="clistctrlsubitemhittest"></a><a name="subitemhittest"></a>をクリックします。

リスト ビュー アイテムが指定された位置にある場合は、その項目を決定します。

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>パラメーター

*Pinfo*<br/>
[構造体](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)へのポインター。

### <a name="return-value"></a>戻り値

テストされている項目またはサブ項目の 1 から始まるインデックス(存在する場合)、または -1。<

### <a name="remarks"></a>解説

このメンバー関数は、Windows SDK で説明されているように、win32 マクロ[ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest)の動作を実装します。

### <a name="example"></a>例

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="clistctrlupdate"></a><a name="update"></a>をクリックします。

nItem で指定された項目を強制的に再描画するようにリスト ビュー コントロールに*設定*します。

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>パラメーター

*Nitem*<br/>
更新する項目のインデックス。

### <a name="return-value"></a>戻り値

成功した場合は 0 以外を返します。それ以外の場合は 0 を返します。

### <a name="remarks"></a>解説

この関数は、リスト ビュー コントロールがLVS_AUTOARRANGEスタイルを持つ場合にも、リスト ビュー コントロールを配置します。

### <a name="example"></a>例

の例を参照[してください](#getselectedcount)。

## <a name="see-also"></a>関連項目

[MFC サンプル行一覧](../../overview/visual-cpp-samples.md)<br/>
[CWnd クラス](cwnd-class.md)<br/>
[階層グラフ](../hierarchy-chart.md)<br/>
[CImageList クラス](cimagelist-class.md)
