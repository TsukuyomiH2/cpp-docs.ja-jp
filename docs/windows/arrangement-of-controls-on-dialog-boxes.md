---
description: '詳細については、「方法: コントロールをレイアウトする (C++)」を参照してください。'
title: '方法: コントロールをレイアウトする (C++) |Microsoft Docs'
ms.date: 02/15/2019
f1_keywords:
- vc.editors.dialog.grouping
- vc.editors.dialog.combo
helpviewer_keywords:
- controls [C++], positioning
- dialog box controls [C++], placement
- Dialog Editor [C++], arranging controls
- Dialog Editor [C++], guides and margins
- guides, clearing
- guides
- dialog box controls [C++], placement
- controls [C++], guides and margins
- guides, creating
- guides, moving
- margins, moving
- DLUs (dialog units)
- controls [C++], aligning
- Dialog Editor [C++], snap to guides
- guides, tick mark interval
- dialog box controls [C++], placement
- guides, aligning controls
- dialog units (DLUs)
- snap to guides (Dialog editor)
- controls [C++], sizing
- tick mark interval in Dialog editor
- controls [C++], snap to guides/grid
- guides, disabling snapping
- controls [C++], snap to guides/grid
- controls [C++], layout grid
- snap to layout grid
- grids, turning on or off
- layout grid in Dialog Editor
- grids, changing size
- grid spacing
- guides, settings
- layout grid in Dialog Editor
- controls [C++], snap to guides/grid
- Guide Settings dialog box (Dialog editor)
- controls [C++], aligning
- controls [C++], positioning
- Space Evenly command
- dialog box controls [C++], placement
- Center in Dialog command
- Arrange Buttons command
- buttons, arranging push buttons in dialog boxes
- push buttons
- member variables, adding to radio button groups
- variables, dialog box control member variables
- dialog box controls [C++], grouping radio buttons
- grouping controls
- radio buttons [C++], grouping on dialog boxes
- controls [C++], tab order
- focus, tab order
- tab controls [C++], tab order
- Tabstop property for controls
- controls [C++], focus
- dialog box controls [C++], tab order
- Dialog Editor [C++], selecting controls
- dominant controls
- dialog box controls [C++], selecting in editor
- controls [C++], selecting
- size, controls
- controls [C++], dominant
- controls [C++], removing from groups
- Dialog Editor [C++], dominant control
- Size to Content command
- size, controls
- text, autosizing controls to fit text
- controls [C++], sizing
- Make Same Size command
- combo boxes, sizing
- list controls [C++], scroll bar width
- CListBox::SetHorizontalExtent
- controls [C++], scroll bar
- scroll bars [C++], displaying in controls
- horizontal scroll bar width
- CListBox class, scroll bar width
- scroll bars [C++], width
ms.assetid: 832491cf-98af-42e5-a854-2cb135fd45c6
ms.openlocfilehash: 75fef5d47df163e1b21b9dd2861ec652179d9eb6
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/11/2020
ms.locfileid: "97337836"
---
# <a name="how-to-layout-controls-c"></a>方法: コントロールをレイアウトする (C++)

**ダイアログエディター** には、コントロールを自動的に配置およびサイズ変更するレイアウトツールが用意されています。 ほとんどのタスクでは、[ [ダイアログエディター] ツールバー](./dialog-editor.md)を使用できます。 **ダイアログエディター** のツールバーのすべてのコマンドは、[**書式**] メニューでも使用でき、ほとんどの [ショートカットキー](./dialog-editor.md)があります。

ダイアログボックスの多くのレイアウトコマンドは、複数のコントロールが選択されている場合にのみ使用できます。 1つのコントロールまたは複数のコントロールを選択できます。複数のコントロールが選択されている場合は、最初に選択したコントロールが既定で最も優先度の高いコントロールになります。

現在のコントロールの位置、高さ、および幅は、ステータスバーの右下隅に表示されます。 ダイアログボックス全体を選択すると、ダイアログボックス全体の位置と高さと幅がステータスバーに表示されます。

## <a name="arrange-controls"></a>コントロールを配置する

ダイアログボックスにコントロールを配置するには **、次** の3種類の状態のいずれかを使用します。

- ガイドと余白をオンにして、を既定値として設定します。

- レイアウトグリッドをオンにします。

- スナップ機能または配置機能がない。

[ダイアログエディターのツールバー](./dialog-editor.md)には、状態を制御するボタンが含まれています。

- 状態を変更するには、適切なアイコンを選択するか、メニュー **形式**  >  **ガイドの設定** に移動します。

[ **ガイドの設定** ] ダイアログボックスには、次のプロパティがあります。

|プロパティ|説明|
|---|---|
|**レイアウトガイド**|レイアウトガイドの設定を表示します。|
|**なし**|レイアウトツールを非表示にします。|
|**ルーラーとガイド**|有効にすると、レイアウトツールにルーラーが追加され、ガイドをルーラーに配置できるようになります。 既定のガイドは、余白です。|
|**グリッド**|レイアウトグリッドを作成します。 新しいコントロールは、グリッドに自動的に配置されます。|
|**グリッド間隔**|ダイアログボックスの単位 (Dlu) のグリッドの間隔の設定を表示します。|
|**Width: Dlu**|Dlu のレイアウトグリッドの幅を設定します。 水平 DLU は、ダイアログボックスのフォントの平均幅を4で割った値です。|
|**高さ: Dlu**|Dlu のレイアウトグリッドの高さを設定します。 Vertical DLU は、ダイアログボックスのフォントの平均の高さを8で割ったものです。|

### <a name="guides-and-margins"></a>ガイドと余白

コントロールを移動するか、コントロールを追加するか、または現在のレイアウトを再配置するかにかかわらず、ダイアログボックス内でコントロールを正確に配置するのに役立ちます。

ダイアログボックスを作成すると、余白と呼ばれる4つの変更ガイドが表示され、青い点線で表示されます。

- 余白を移動するには、余白を新しい位置にドラッグします。

- 余白を非表示にするには、余白を0位置に移動します。

- 余白を戻すには、余白のゼロ位置の上にポインターを置き、余白を位置に移動します。

ガイドは、エディターに表示されるダイアログボックス全体に青い点線で表示されます。また、 **ダイアログエディター** の上部および左側のルーラーには、対応する矢印として表示されます。 コントロールのサイズ変更ハンドルは、コントロールが移動したときにガイドにスナップされ、ガイドに以前にスナップしたコントロールがない場合は、ガイドをコントロールにスナップします。 ガイドを移動すると、そのガイドにスナップされるコントロールも移動します。 ガイドの1つが移動されると、複数のガイドにスナップされるコントロールのサイズが変更されます。

- ルーラー内にガイドを作成するには、[1 回] を選択してガイドを作成するか、ダブルクリックして [番組ガイドの **設定** ] ダイアログボックスを開き、番組ガイドの設定を指定します。

- ダイアログボックスにガイドを設定するには、ガイドを選択して新しい位置にドラッグするか、ルーラーの矢印を選択して、関連付けられているガイドをドラッグします。

   ガイドの座標は、ウィンドウの下部にあるステータスバーに表示されます。ルーラーでは、ルーラーの矢印の上にポインターを移動すると、ガイドの正確な位置が表示されます。

- ガイドを削除するには、ダイアログボックスからガイドをドラッグするか、対応する矢印をルーラーの外にドラッグします。

ガイドとコントロールの間隔を決定するルーラーの目盛りは、ダイアログ単位 (Dlu) によって定義されます。 DLU は、ダイアログボックスのフォントのサイズ (通常は8ポイントの MS Shell Dlg) に基づいています。 水平 DLU は、ダイアログボックスのフォントの平均幅を4で割った値です。 Vertical DLU は、フォントの平均の高さを8で割った値です。

- 目盛りの間隔を変更するには、メニュー **形式** ガイドの設定に移動し、  >  [**グリッドの間隔**] フィールドで、dlu の新しい幅と高さを指定します。

### <a name="layout-grid"></a>レイアウトグリッド

ダイアログボックスにコントロールを配置または配置している場合は、レイアウトグリッドを使用してより正確な配置を行うことができます。 グリッドをオンにすると、帯びるのように、コントロールがグリッドの点線にスナップされます。

- レイアウトグリッドをオンまたはオフにするには、メニュー **形式** ガイドの設定に進んで、  >   **グリッド** ボタンをオンまたはオフにします。

   [ダイアログエディターのツールバー](./dialog-editor.md)にある [**グリッドの切り替え**] ボタンを使用して、個々の **ダイアログエディター** ウィンドウでグリッドを制御することもできます。

- レイアウトグリッドのサイズを変更するには、[メニュー **形式**  >  **ガイドの設定**] に移動し、グリッド内のセルの高さと幅を dlu に入力します。 高さまたは幅の最小値は4です。

### <a name="disable-guides"></a>ガイドを無効にする

マウスと組み合わせて特殊キーを使用すると、ガイドのスナップ効果を無効にすることができます。 **Alt** キーを使用すると、選択したガイドのスナップ効果が無効になります。 Shift キーを **押しながら** ガイドを移動すると、スナップしたコントロールをガイドと一緒に移動できなくなります。

- ガイドのスナップ効果を無効にするには、 **Alt** キーを押しながらコントロールをドラッグします。

- スナップされたコントロールを移動せずにガイドを移動するには、 **shift** キーを押しながらガイドをドラッグします。

- ガイドをオフにするには、メニュー **形式** ガイドの設定に関するページを参照  >  してください。 次に、[ **レイアウトガイド**] で [ **なし**] を選択します。

   > [!TIP]
   > メニュー **形式** の  >  **切り替えガイド** のショートカットを使用することもできます。

## <a name="select-controls"></a>コントロールの選択

サイズ、配置、移動、コピー、または削除するコントロールを選択し、必要な操作を完了します。 ほとんどの場合、 [ダイアログエディターのツールバー](./dialog-editor.md)にあるサイズ変更ツールと配置ツールを使用するには、複数のコントロールを選択する必要があります。

コントロールが選択されると、そのコントロールには、実線 (アクティブ) または白抜き (非アクティブ) のサイズ変更ハンドル、または選択境界線に表示される小さな四角形の周りに影付きの枠線が表示されます。 複数のコントロールが選択されている場合、最も優先されるコントロールのサイズは固定されており、その他のすべてのコントロールには、白抜きのサイズ変更ハンドルがあります。

- コントロールを選択するには、[ [ツールボックス] ウィンドウ](/visualstudio/ide/reference/toolbox)で [ **ポインター** ] ツールを選択し、次のいずれかの手順を使用して選択します。

  - ポインターをドラッグして、ダイアログボックスで選択するコントロールの周囲に選択ボックスを描きます。 マウスボタンを放すと、選択ボックス内および交差しているすべてのコントロールが選択されます。

  - **Shift** キーを押しながら、選択範囲に含めるコントロールを選択します。

  - **Ctrl** キーを押しながら、選択範囲に含めるコントロールを選択します。

- 選択したコントロールのグループに対してコントロールを追加または削除するには、 **shift** キーを押しながら、追加または削除するコントロールを選択します。

### <a name="dominant-controls"></a>主要コントロール

複数のコントロールのサイズを調整している場合、 **ダイアログエディター** では、最も優先されるコントロールを使用して、他のコントロールのサイズ設定または配置方法を決定します。 既定では、最も優先されるコントロールが、最初に選択されたコントロールになります。

- *最も優先* 度の高いコントロールを指定するには、 **Ctrl** キーを押しながら、最初に他のコントロールのサイズや位置に影響を与えるために使用するコントロールを選択します。 **Ctrl** キーを押しながら選択範囲内でコントロールを選択すると、その選択範囲の中で最も優先的なコントロールがコントロールに表示されるようになります。

- *最優先* のコントロールを変更するには、現在選択されているコントロールの外側を選択して現在の選択範囲をクリアし、前の手順を繰り返して別のコントロールを選択します。

> [!NOTE]
> 主要なコントロールのサイズ変更ハンドルは実線ですが、下位コントロールのハンドルは中空です。 すべてのサイズ変更または配置は、主要なコントロールに基づいています。

## <a name="size-controls"></a>サイズコントロール

サイズ変更ハンドルを使用して、コントロールのサイズを変更します。 ポインターがサイズ変更ハンドルに配置されると、コントロールのサイズを変更できる方向を示すように図形が変わります。 アクティブなサイズ変更ハンドルは実線で、サイズ変更ハンドルが中空の場合、その軸に沿ってコントロールのサイズを変更することはできません。

- コントロールのサイズを変更するには、コントロールを選択し、サイズ変更ハンドルをドラッグしてサイズを変更します。

  - 上部と横のサイズハンドルは、水平方向または垂直方向のサイズを変更します。

  - 四隅のサイズハンドルは、水平方向と垂直方向の両方のサイズを変更します。

   > [!TIP]
   > **Shift** キーを押しながら **右** 方向キーと **下** 方向キーを押すと、コントロールのサイズを1つのダイアログ単位 (DLU) に変更できます。

- コントロールのサイズを自動的に変更してテキストに収まるようにするには、[メニュー **形式** ] にアクセスするか、コントロールを右クリックして [ **サイズをコンテンツに** 合わせる] を選択します。

- コントロールのサイズを同じにするには、サイズを変更するコントロールを選択し、[メニュー **形式**] に同じサイズを設定し、[両方]、[高さ]、[幅] の  >  いずれかを選択します。   

   コントロールのグループのサイズは、主要なコントロールのサイズに基づいて変更します。これは、系列で最初に選択されたコントロールです。 グループ内のコントロールの最終的なサイズは、主要なコントロールのサイズによって異なります。

- ガイドを使用してコントロールのグループのサイズを設定するには、コントロール (またはコントロール) の一方の側をガイドにスナップし、ガイドをコントロールの反対側 (またはコントロール) にドラッグします。 これで、いずれかのガイドを移動して、コントロールのサイズを変更できます (またはコントロール)。

   複数のコントロールで必要な場合は、それぞれのサイズを2番目のガイドに合わせて調整します。

### <a name="other-controls"></a>その他のコントロール

ダイアログボックスに追加すると、コンボボックスのサイズを変更できます。 ドロップダウンリストボックスのサイズを指定することもできます。 詳細については、「 [コンボボックスコントロールへの値の追加](./defining-mnemonics-access-keys.md)」を参照してください。

1. コンボボックスの右側にあるドロップダウン矢印ボタンを選択します。

   ![MFC プロジェクトのコンボ ボックスの矢印](../mfc/media/vccomboboxarrow.gif "vcComboBoxArrow")

   コントロールのアウトラインが変更され、ドロップダウンリスト領域が拡張されたコンボボックスのサイズが表示されます。

1. 下のサイズ変更ハンドルを使用して、ドロップダウンリスト領域の初期サイズを変更します。

   ![MFC プロジェクトでのコンボ&#45;ボックスのサイズ変更](../mfc/media/vccomboboxsizing.gif "vcComboBoxSizing")

1. ドロップダウン矢印をもう一度クリックして、コンボボックスのドロップダウンリストの部分を閉じます。

> [!NOTE]
> MFC を使用してダイアログボックスに水平スクロールバーを含むリストボックスを追加すると、アプリケーションにスクロールバーが自動的に表示されません。
>
> コード内で [CListBox:: SetHorizontalExtent](../mfc/reference/clistbox-class.md#sethorizontalextent) を呼び出すことにより、最も幅の広い要素の最大幅を設定します。 この値が設定されていない場合、リストボックス内の項目の幅がボックスよりも広い場合でも、スクロールバーは表示されません。

## <a name="align-controls"></a>コントロールの配置

- コントロールを配置するには、配置するコントロールを選択します。 [メニュー **形式** の整列] にアクセス  >  して、次のいずれかの **配置** を選択します。

   |Alignment|[説明]|
   |-----|-----------|
   |**揃え**|選択したコントロールを左側に揃えて配置します。|
   |**部門**|選択したコントロールを中心点に沿って水平方向に配置します。|
   |**権限**|選択したコントロールを右側に配置します。|
   |**揃え**|選択したコントロールを上端に沿って配置します。|
   |**[上下中央**|選択したコントロールを中間点に合わせて垂直方向に配置します。|
   |**下**|選択したコントロールを下端に沿って配置します。|

   最初に優先するコントロールを選択するか、またはコントロールのグループの最終的な位置が最も重要なコントロールの位置に依存するように配置またはサイズ変更コマンドを実行する前に、優先順位の高いコントロールに設定してください。

- コントロールを均等にスペースに配置するには、再配置するコントロールを選択します。 メニューの書式を均等に **設定**  >  し、次のスペースの配置のいずれかを選択します。

   |間隔|説明|
   |---|---|
   |**[左右]**|選択されている左端と右端のコントロールの間隔を均等にします。|
   |**[下へ]**|一番上にあるコントロールと一番下のコントロールの間で等間隔に配置されます。|

- コントロールを中央に配置するには、配置を変更するコントロールを選択します。 ダイアログボックスの [メニューの **書式設定**] にアクセス  >  して、次のいずれかの配置を選択します。

   |準備|説明|
   |---|---|
   |**垂直方向**|ダイアログボックス内でコントロールを上下中央に配置します。|
   |**水平方向**|ダイアログボックス内でコントロールを水平方向に中央揃えにします。|

- プッシュボタンを配置するには、1つまたは複数のプッシュボタンを選択します。 **メニューの [**  >  **配置] ボタン** に移動し、次のいずれかの並べ替えを選択します。

   |準備|説明|
   |---|---|
   |**Right**|ダイアログボックスの右端に沿ってプッシュボタンを配置します。|
   |**下**|ダイアログボックスの下端に沿ってプッシュボタンを配置します。|

   プッシュボタン以外のコントロールを選択した場合、そのコントロールの位置は影響を受けません。

## <a name="requirements"></a>要件

Win32

## <a name="see-also"></a>関連項目

[ダイアログボックスコントロールの管理](controls-in-dialog-boxes.md)<br/>
[方法: コントロールを追加、編集、または削除する](adding-editing-or-deleting-controls.md)<br/>
[方法: 制御アクセスと値を定義する](defining-mnemonics-access-keys.md)<br/>
