---
description: '詳細については、「方法: ダイアログボックスを作成する (C++)」を参照してください。'
title: '方法: ダイアログボックスを作成する (C++)'
ms.date: 02/15/2019
helpviewer_keywords:
- dialog boxes [C++], creating
- Dialog Editor [C++], creating dialog boxes
- modal dialog boxes [C++], logon screens
- logon screens
- Test Dialog command
- testing, dialog boxes
- dialog boxes [C++], testing
- dialog boxes [C++], size
- dialog boxes [C++], positioning
ms.assetid: 303de801-c4f8-42e1-b622-353f6423f688
ms.openlocfilehash: 8c02d0d85d20b51c867b3f3ba0e5f945595ed130
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/11/2020
ms.locfileid: "97329488"
---
# <a name="how-to-create-a-dialog-box-c"></a>方法: ダイアログボックスを作成する (C++)

C++ ダイアログボックスの位置とサイズ、およびその中のコントロールの位置とサイズは、ダイアログ単位で測定されます。 個々のコントロールの値とダイアログボックスは、選択時に Visual Studio のステータスバーの右下に表示されます。

> [!NOTE]
> プロジェクトに .rc ファイルがまだ含まれていない場合は、「 [新しいリソーススクリプトファイルの作成](../windows/how-to-create-a-resource-script-file.md)」を参照してください。

## <a name="how-to"></a>操作方法

**ダイアログエディター** では、次のことが可能です。

### <a name="to-create-a-new-dialog-box"></a>新しいダイアログボックスを作成するには

1. [リソースビュー](how-to-create-a-resource-script-file.md#create-resources)で、 *.rc* ファイルを右クリックし、[**リソースの追加**] を選択します。

1. [**リソースの追加**] ダイアログボックスで、[**リソースの種類**] ボックスの一覧の [**ダイアログ]** を選択し、[**新規作成**] を選択します。

   **+****ダイアログ** リソースの種類の横にプラス記号 () が表示されている場合は、ダイアログボックステンプレートが使用可能であることを意味します。 プラス記号を選択してテンプレートの一覧を展開し、テンプレートを選択して [ **新規作成**] を選択します。

   **ダイアログエディター** に新しいダイアログボックスが表示されます。

ダイアログボックスエディターで既存のダイアログボックスを開いて編集することもできます。

### <a name="to-create-a-dialog-box-that-a-user-cant-exit"></a>ユーザーが終了できないダイアログボックスを作成するには

ユーザーが終了できない実行時ダイアログボックスを作成できます。 この種のダイアログ ボックスはログオンの場合や、アプリケーションやドキュメントをロックする場合に便利です。

1. ダイアログボックスの [ **プロパティ** ] ペインで、[ **システム] メニュー** プロパティをに設定し **`false`** ます。

   この設定により、ダイアログボックスの [システム] メニューと [ **閉じる** ] ボタンが無効になります。

1. ダイアログ ボックスのフォームで、 **[キャンセル]** ボタンと **[OK]** ボタンを削除します。

   実行時に、ユーザーはこれらの特性を持つモーダルダイアログボックスを終了できません。

この種のダイアログボックスのテストを有効にするために、[テスト] ダイアログボックス関数は **Esc** が押されたときに検出します。 **Esc** は VK_ESCAPE 仮想キーとも呼ばれます。 実行時に動作するようにダイアログボックスがどのように設計されているかにかかわらず、 **Esc** キーを押してテストモードを終了できます。

> [!NOTE]
> MFC アプリケーションの場合、ユーザーが終了できないダイアログボックスを作成するには、との既定の動作をオーバーライドする必要があり `OnOK` `OnCancel` ます。これは、関連付けられたボタンを削除しても、 **enter** キーまたは **Esc** キーを押してダイアログボックスを閉じることができるためです。

### <a name="to-specify-the-location-and-size-of-a-dialog-box"></a>ダイアログボックスの位置とサイズを指定するには

[ [プロパティ] ウィンドウ](/visualstudio/ide/reference/properties-window) では、ダイアログボックスが画面に表示される場所を指定するために設定できるプロパティがあります。

- ブール型の **Center** プロパティ。

   値を **True** に設定すると、ダイアログボックスは常に画面の中央に表示されます。 このプロパティを **False** に設定した場合は、 **XPos** プロパティと **YPos** プロパティを設定できます。

- ダイアログボックスが画面に表示される場所を明示的に定義するために使用される **XPos** プロパティと **YPos** プロパティ。

   これらの位置プロパティは、表示領域の左上隅にあるオフセット値です。これは、として定義されてい `{X=0, Y=0}` ます。

- 位置に影響を与える **絶対配置** プロパティ。

   **True** の場合、座標は画面に対して相対的です。 **False** の場合、座標はダイアログの所有者のウィンドウに対して相対的です。

### <a name="to-test-a-dialog-box"></a>ダイアログ ボックスをテストするには

ダイアログ ボックスを設計する際には、プログラムをコンパイルせずに実行時の動作をシミュレートし、テストできます。 このモードでは、次を行うことができます。

- テキストの入力、コンボ ボックスの一覧での選択、オプションのオンとオフの切り替え、コマンドの選択。

- タブ オーダーのテスト。

- オプション ボタンやチェック ボックスなど、コントロールのグループ化のテスト。

- ダイアログ ボックスにあるコントロールのキーボード ショートカットのテスト。

> [!NOTE]
> ウィザードを使用して作成されたダイアログボックスコードへの接続は、シミュレーションには含まれません。

通常、テストするダイアログ ボックスはメイン プログラム ウィンドウの相対位置に表示されます。 ダイアログボックスの [ **絶対配置** ] プロパティを **True** に設定した場合、ダイアログボックスは画面の左上隅を基準とした相対的な位置に表示されます。

1. **ダイアログエディター** がアクティブなウィンドウである場合は、メニュー **形式** の  >  **テストダイアログ** にアクセスします。

1. シミュレーションを終了するには、 **Esc** キーを押すか、テストしているダイアログボックスで [ **閉じる** ] ボタンを選択します。

## <a name="requirements"></a>要件

Win32

## <a name="see-also"></a>関連項目

[ダイアログエディター](../windows/dialog-editor.md)<br/>
[方法: ダイアログボックスコントロールを管理する](../windows/controls-in-dialog-boxes.md)<br/>
