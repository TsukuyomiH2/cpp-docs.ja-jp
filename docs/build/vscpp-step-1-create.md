---
title: C++ コンソール アプリ プロジェクトを作成する
description: Visual Studio でマイクロソフト C++ を使用して、Hello World コンソール アプリを作成します。
ms.custom: mvc
ms.date: 04/20/2020
ms.topic: tutorial
ms.assetid: 45138d70-719d-42dc-90d7-1d0ca31a2f54
ms.openlocfilehash: 07e88da9a8a3712e1d37e319c29fd25aebce8ea7
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/22/2020
ms.locfileid: "81749315"
---
# <a name="create-a-c-console-app-project"></a>C++ コンソール アプリ プロジェクトを作成する

C++ プログラマーにとってよくある出発点は、コマンド ラインで実行される "Hello, world!" アプリケーションです。 この手順で Visual Studio で作成する内容を示します。

## <a name="prerequisites"></a>前提条件

- Visual Studio 2019 と、C++ によるデスクトップ開発ワークロードがコンピューターにインストールおよび実行されている必要があります。 まだインストールされていない場合は、[Visual Studio での C++ のインストール サポート](vscpp-step-0-installation.md)に関するページを参照してください。

## <a name="create-your-app-project"></a>アプリのプロジェクトを作成する

Visual Studio では、"*プロジェクト*" を使用してアプリのコードを整理し、"*ソリューション*" を使用してプロジェクトを整理します。 プロジェクトには、アプリをビルドする場合に使用するすべてのオプション、構成、および規則が含まれています。 すべてのプロジェクトのファイルと外部ファイルの関係を管理します。 アプリを作成するには、まず、新しいプロジェクトとソリューションを作成します。

::: moniker range=">=vs-2019"

1. Visual Studio で、[**ファイル**] メニューを開き、[**新しい> プロジェクト**] を選択して **[新しいプロジェクトの作成**] ダイアログを開きます。 **C++** **、Windows、****およびコンソール**タグを持つ**コンソール**アプリケーション テンプレートを選択し、[**次へ**] を選択します。

   ![新しいプロジェクトを作成する](media/vs2019-choose-console-app.png "[新しいプロジェクトの作成] ダイアログを開く")

1. [**新しいプロジェクトの構成]** ダイアログで、[**プロジェクト名**] 編集ボックスに*HelloWorld*と入力します。 [**作成]** を選択してプロジェクトを作成します。

   ![新しいプロジェクトに名前を付け、作成する](media/vs2019-configure-new-project-hello-world.png "新しいプロジェクトに名前を付け、作成する")

   新しいプロジェクトが作成されます。 これで、ソース コードを追加および編集できます。 既定では、コンソール アプリ テンプレートは、ソース コードに "Hello World" アプリを入力します。

   ![IDE のハローワールドプロジェクト](media/vs2019-hello-world-code.png "IDE のハローワールドプロジェクト")

   エディターでコードがこのように表示されたら、次の手順に進み、アプリをビルドする準備が整いました。

[問題が発生した場合](#create-your-app-project-issues)。

::: moniker-end

::: moniker range="<=vs-2017"

1. Visual Studio で、[**ファイル**] メニューを開き、[**新しい> プロジェクト**] を選択して **[新しいプロジェクト**] ダイアログを開きます。

   ![[新しいプロジェクト] ダイアログ ボックスを開く](media/vscpp-file-new-project.gif "[新しいプロジェクト] ダイアログ ボックスを開く")

1. [**新しいプロジェクト**] ダイアログ**ボックスで、[Visual C++ >インストール**済み] が選択されていない場合は選択し、[**空のプロジェクト**] テンプレートを選択します。 [**名前]** フィールドに *「HelloWorld」* と入力します。 **[OK] を**選択してプロジェクトを作成します。

   ![新しいプロジェクトに名前を付け、作成する](media/vscpp-concierge-project-name-callouts.png "新しいプロジェクトに名前を付け、作成する")

新しい空のプロジェクトが作成されます。 作成するアプリの種類に特化し、ソース コード ファイルを追加する準備はできました。 これは次に行います。

[問題が発生した場合](#create-your-app-project-issues)。

## <a name="make-your-project-a-console-app"></a>プロジェクトをコンソール アプリにする

Visual Studio では、Windows やその他のプラットフォーム用に、あらゆる種類のアプリやコンポーネントを作成できます。 **空のプロジェクト**テンプレートは、作成するアプリの種類に固有のものではありません。 *コンソール アプリ*は、コンソール ウィンドウまたはコマンド プロンプト ウィンドウで実行されるアプリです。 作成するには、コンソール サブシステムを使用するアプリをビルドするように Visual Studio に指示する必要があります。

1. Visual Studio で、[**プロジェクト**] メニューを開き、[**プロパティ]** を選択して **[HelloWorld プロパティ ページ**] ダイアログを開きます。

1. [**プロパティ ページ]** ダイアログ ボックスで、[**リンカ > システム>構成プロパティ**] を選択し、[**サブシステム]** プロパティの横にある編集ボックスを選択します。 表示されるドロップダウン メニューで、[**コンソール(/サブシステム:コンソール)]** を選択します。 **[OK]** を選択して変更を保存します。

   ![[プロパティ ページ] ダイアログを開く](media/vscpp-properties-linker-subsystem.gif "[プロパティ ページ] ダイアログを開く")

Visual Studio は、コンソール ウィンドウで実行するプロジェクトをビルドするようになりました。 次に、ソース コード ファイルを追加し、アプリのコードを入力します。

[問題が発生した場合](#make-your-project-a-console-app-issues)。

## <a name="add-a-source-code-file"></a>ソース コード ファイルを追加する

1. **ソリューション エクスプローラー**で、HelloWorld プロジェクトを選択します。 メニュー バーで、[**プロジェクト**]、[**新しい項目の追加**] の順に選択して **、[新しい項目の追加]** ダイアログを開きます。

1. [**新しい項目の追加]** ダイアログボックスで、[**インストール済み]** の下で **[Visual C++]** を選択します ( まだ選択されていない場合 ) 。 中央のウィンドウで **、[C++ ファイル (.cpp)]** を選択します。 **名前**を*HelloWorld.cpp*に変更します。 [**追加]** を選択してダイアログを閉じ、ファイルを作成します。

   ![HelloWorld.cpp のソース ファイルを追加する](media/vscpp-add-new-item.gif "HelloWorld.cpp のソース ファイルを追加する")

Visual Studio は、新しい空のソース コード ファイルを作成し、エディター ウィンドウで開き、ソース コードを入力する準備が整います。

[問題が発生した場合](#add-a-source-code-file-issues)。

## <a name="add-code-to-the-source-file"></a>ソース ファイルにコードを追加する

1. このコードを HelloWorld.cpp エディター ウィンドウにコピーします。

   ```cpp
   #include <iostream>

   int main()
   {
       std::cout << "Hello, world!" << std::endl;
       return 0;
   }
   ```

   コードは、エディター ウィンドウで次のようになります。

   ![エディタでこんにちは世界のコード](media/vscpp-hello-world-editor.png "エディタでこんにちは世界のコード")

エディターでコードがこのように表示されたら、次の手順に進み、アプリをビルドする準備が整いました。

[問題が発生した場合](#add-a-source-code-file-issues)。

::: moniker-end

## <a name="next-steps"></a>次の手順

> [!div class="nextstepaction"]
> [C++ プロジェクトをビルドして実行する](vscpp-step-2-build.md)

## <a name="troubleshooting-guide"></a>トラブルシューティング ガイド

最初の C++ プロジェクトを作成する際の一般的な問題の解決方法については、こちらを参照してください。

### <a name="create-your-app-project-issues"></a>アプリ プロジェクトを作成する: 問題

::: moniker range="vs-2019"

[**新しいプロジェクト]** ダイアログには **、C++** **、Windows**、およびコンソール タグを持つコンソール**アプリ**テンプレート**が表示**されます。 表示されない場合は、2 つの原因が考えられます。 リストから除外されているか、インストールされていない可能性があります。 まず、テンプレートのリストの上部にあるフィルタのドロップダウンを確認します。 **C++** **、Windows、****およびコンソール**に設定します。 C++**コンソール アプリ**テンプレートが表示されます。それ以外の場合 **、C++ ワークロードを使用したデスクトップ開発**はインストールされません。

**C++ を使用してデスクトップ開発**をインストールするには、[**新しいプロジェクト**] ダイアログからインストーラを実行します。 テンプレートリストの下部にある [**その他のツールと機能をインストール**] リンクを選択して、インストーラを起動します。 **[ユーザー アカウント制御**] ダイアログでアクセス許可を要求する場合は、[**はい**] をクリックします。 インストーラーで **、C++ ワークロードを使用したデスクトップ開発**がチェックされていることを確認します。 次に、[**変更]** を選択して、Visual Studio のインストールを更新します。

同じ名前の別のプロジェクトが既に存在する場合は、プロジェクトの別の名前を選択します。 または、既存のプロジェクトを削除して、やり直してください。 既存のプロジェクトを削除するには、ファイル エクスプローラーでソリューション フォルダー *(helloworld.sln*ファイルを含むフォルダー) を削除します。

[戻る](#create-your-app-project).

::: moniker-end

::: moniker range="vs-2017"

[**新しいプロジェクト**] ダイアログボックスで **[インストール済み**] の下に**Visual C++** エントリが表示されない場合、Visual Studio のコピーには **、C++** ワークロードがインストールされたデスクトップ開発がインストールされていない可能性があります。 **[新しいプロジェクト**] ダイアログからインストーラを実行できます。 [Visual **Studio インストーラーを開く]** リンクを選択して、インストーラーを再度起動します。 **[ユーザー アカウント制御**] ダイアログでアクセス許可を要求する場合は、[**はい**] をクリックします。 必要に応じてインストーラを更新します。 インストーラーで **、C++ のデスクトップ開発**ワークロードがチェックされていることを確認し **、[OK] を**選択して Visual Studio のインストールを更新します。

::: moniker-end

::: moniker range="<=vs-2017"

同じ名前の別のプロジェクトが既に存在する場合は、プロジェクトの別の名前を選択します。 または、既存のプロジェクトを削除して、やり直してください。 既存のプロジェクトを削除するには、ファイル エクスプローラーでソリューション フォルダー *(helloworld.sln*ファイルを含むフォルダー) を削除します。

[戻る](#create-your-app-project).

### <a name="make-your-project-a-console-app-issues"></a>プロジェクトをコンソール アプリにする: 問題

[**構成プロパティ]** の下**に [リンカー** ] が表示されない場合は、[**キャンセル] を**クリックして **[プロパティ ページ**] ダイアログを閉じます。 再度実行する前に、**ソリューション エクスプローラー**で**HelloWorld**プロジェクトが選択されていることを確認してください。 **ソリューション エクスプローラー**で**HelloWorld**ソリューションまたは別の項目を選択しないでください。

ドロップダウン コントロールは、プロパティを選択するまで**SubSystem**プロパティの編集ボックスに表示されません。 編集ボックスをクリックして選択します。 または **、Tab**キーを押して、**サブシステム**がハイライトされるまでダイアログコントロールを切り替えることができます。 ドロップダウン コントロールを選択するか **、Alt キーを押しながら下を**押して開きます。

[戻ってください](#make-your-project-a-console-app)

### <a name="add-a-source-code-file-issues"></a>ソース コード ファイルを追加する: 問題

ソース コード ファイルに別の名前を付ければ問題ありません。 ただし、同じコードを含む複数のファイルをプロジェクトに追加しないでください。

ヘッダー ファイルなど、プロジェクトに不適切なファイルの種類を追加した場合は、削除してからやり直してください。 ファイルを削除するには、**ソリューション エクスプローラでファイル**を選択します。 次に **、Delete**キーを押します。

[戻る](#add-a-source-code-file).

### <a name="add-code-to-the-source-file-issues"></a>ソース ファイルにコードを追加する: 問題

ソース コード ファイル エディター ウィンドウを誤って閉じた場合は、簡単にもう一度開くことができます。 これを開くには、**ソリューション エクスプ ローラー**ウィンドウで HelloWorld.cpp をダブルクリックします。

ソース コード エディターの任意の下に赤い波線が表示される場合は、コードがスペル、句読点、および大文字と小文字の例と一致することを確認します。 C++ コードでは大文字と小文字が大きいです。

[戻る](#add-code-to-the-source-file).

::: moniker-end

<iframe src="" height="0" width="0" frameborder="0" name="frameTarget" />
