---
title: C++ コンソール アプリ プロジェクトを作成する
description: Visual Studio で Microsoft C++ を使用して Hello World コンソール アプリを作成します。
ms.custom: mvc
ms.date: 04/20/2020
ms.topic: tutorial
ms.assetid: 45138d70-719d-42dc-90d7-1d0ca31a2f54
ms.openlocfilehash: ee9631ee858ca34f82b599eeabce628483d9a247
ms.sourcegitcommit: 9c2b3df9b837879cd17932ae9f61cdd142078260
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/29/2020
ms.locfileid: "92922089"
---
# <a name="create-a-c-console-app-project"></a>C++ コンソール アプリ プロジェクトを作成する

C++ プログラマーにとってよくある出発点は、コマンド ラインで実行される "Hello, world!" アプリケーションです。 このステップでは、Visual Studio でこれを作成します。

## <a name="prerequisites"></a>必須コンポーネント

- Visual Studio 2019 と、C++ によるデスクトップ開発ワークロードがコンピューターにインストールおよび実行されている必要があります。 まだインストールされていない場合は、[Visual Studio での C++ のインストール サポート](vscpp-step-0-installation.md)に関するページを参照してください。

## <a name="create-your-app-project"></a>アプリのプロジェクトを作成する

Visual Studio では、" *プロジェクト* " を使用してアプリのコードを整理し、" *ソリューション* " を使用してプロジェクトを整理します。 プロジェクトには、アプリをビルドする場合に使用するすべてのオプション、構成、および規則が含まれています。 プロジェクトでは、プロジェクトのすべてのファイルと、外部のファイルとの間のリレーションシップを管理します。 アプリを作成するには、まず、新しいプロジェクトとソリューションを作成します。

::: moniker range=">=msvc-160"

1. Visual Studio で、 **[ファイル]** メニューを開き、 **[新規] > [プロジェクト]** をクリックして、 **[新しいプロジェクトの作成]** ダイアログを開きます。 **[C++]** 、 **[Windows]** 、および **[コンソール]** タグがある **[コンソール アプリ]** テンプレートを選択し、 **[次へ]** を選択します。

   ![新しいプロジェクトを作成する](media/vs2019-choose-console-app.png "[新しいプロジェクトの作成] ダイアログを開く")

1. **[新しいプロジェクトの構成]** ダイアログで、 **[プロジェクト名]** 編集ボックスに「 *HelloWorld* 」と入力します。 **[作成]** を選択して、プロジェクトを作成します。

   ![[プロジェクト名] テキスト フィールドに「Hello World」と入力されている [新しいプロジェクトの構成] ダイアログ ボックスのスクリーンショット。](media/vs2019-configure-new-project-hello-world.png "名前を指定して新しいプロジェクトを作成する")

   Visual Studio によって新しいプロジェクトが作成されます。 ソース コードを追加して編集する準備ができました。 既定では、[コンソール アプリ] テンプレートは、ソース コードに "Hello World" アプリを設定します。

   ![IDE の Hello World プロジェクト](media/vs2019-hello-world-code.png "IDE の Hello World プロジェクト")

   コードがエディターでこのようになったら、次のステップに進んでアプリをビルドする準備ができました。

[問題が発生した場合](#create-your-app-project-issues)。

::: moniker-end

::: moniker range="<=msvc-150"

1. Visual Studio で、 **[ファイル]** メニューを開き、 **[新規] > [プロジェクト]** をクリックして、 **[新しいプロジェクト]** ダイアログを開きます。

   ![[新しいプロジェクト] ダイアログ ボックスを開く](media/vscpp-file-new-project.gif "[新しいプロジェクト] ダイアログ ボックスを開く")

1. **[新しいプロジェクト]** ダイアログで、 **[インストール]、[Visual C++]** の順に選択する操作をまだ行っていない場合は実行し、 **[空のプロジェクト]** テンプレートを選択します。 **[名前]** フィールドに「 *HelloWorld* 」と入力します。 **[OK]** を選択して、プロジェクトを作成します。

   ![[インストール済み] > [Visual C++] が選択されて強調表示され、[空のプロジェクト] オプションが強調表示され、[名前] テキスト ボックスに「Hellow World」と入力されている [新しいプロジェクト] ダイアログ ボックスのスクリーンショット。](media/vscpp-concierge-project-name-callouts.png "名前を指定して新しいプロジェクトを作成する")

Visual Studio によって新しい空のプロジェクトが作成されます。 作成するアプリの種類を特定し、ソース コード ファイルを追加する準備ができました。 これは次に行います。

[問題が発生した場合](#create-your-app-project-issues)。

## <a name="make-your-project-a-console-app"></a>プロジェクトをコンソール アプリにする

Visual Studio では、Windows およびその他のプラットフォーム用にあらゆる種類のアプリとコンポーネントを作成できます。 **[空のプロジェクト]** テンプレートは、作成するアプリの種類によって異なります。 *コンソール アプリ* は、コンソールまたはコマンド プロンプト ウィンドウで実行されます。 作成するには、コンソール サブシステムを使用するようにアプリをビルドすることを Visual Studio に指示する必要があります。

1. Visual Studio で、 **[プロジェクト]** メニューを開き、 **[プロパティ]** を選択して、 **[HelloWorld Property Pages] (HelloWorld プロパティ ページ)** ダイアログを開きます。

1. **[プロパティ ページ]** ダイアログで、 **[構成プロパティ] > [リンカー] > [システム]** の順に選択し、 **[サブシステム]** プロパティの横にある編集ボックスを選択します。 表示されるドロップダウン メニューで、 **[Console (/SUBSYSTEM:CONSOLE)] (コンソール (/SUBSYSTEM:CONSOLE))** を選択します。 **[OK]** を選択して変更を保存します。

   ![[プロパティ ページ] ダイアログを開く](media/vscpp-properties-linker-subsystem.gif "[プロパティ ページ] ダイアログを開く")

Visual Studio では、コンソール ウィンドウで実行するプロジェクトをビルドすることが認識されるようになりました。 次に、ソース コード ファイルを追加し、アプリのコードを入力します。

[問題が発生した場合](#make-your-project-a-console-app-issues)。

## <a name="add-a-source-code-file"></a>ソース コード ファイルを追加する

1. **ソリューション エクスプローラー** で HelloWorld プロジェクトを選択します。 メニュー バーで、 **[プロジェクト]** 、 **[新しい項目の追加]** の順に選択して **[新しい項目の追加]** ダイアログ ボックスを開きます。

1. **[新しい項目の追加]** ダイアログで、 **[インストール済み]** の下にある **[Visual C++]** がまだ選択されていない場合は選択します。 中央のウィンドウで、 **[C++ ファイル (.cpp)]** をクリックします。 **[名前]** を「 *HelloWorld.cpp* 」に変更します。 **[追加]** をクリックしてダイアログを閉じ、ファイルを作成します。

   ![HelloWorld.cpp のソース ファイルを追加する](media/vscpp-add-new-item.gif "HelloWorld.cpp のソース ファイルを追加する")

Visual studio によって新しい空のソース コード ファイルが作成され、エディター ウィンドウで開き、ソース コードを入力する準備ができました。

[問題が発生した場合](#add-a-source-code-file-issues)。

## <a name="add-code-to-the-source-file"></a>ソース ファイルにコードを追加する

1. このコードを HelloWorld.cpp のエディター ウィンドウにコピーします。

   ```cpp
   #include <iostream>

   int main()
   {
       std::cout << "Hello, world!" << std::endl;
       return 0;
   }
   ```

   コードは、エディター ウィンドウでは次のようになります。

   ![エディターでの Hello World コード](media/vscpp-hello-world-editor.png "エディターでの Hello World コード")

コードがエディターでこのようになったら、次のステップに進んでアプリをビルドする準備ができました。

[問題が発生した場合](#add-a-source-code-file-issues)。

::: moniker-end

## <a name="next-steps"></a>次の手順

> [!div class="nextstepaction"]
> [C++ プロジェクトをビルドして実行する](vscpp-step-2-build.md)

## <a name="troubleshooting-guide"></a>トラブルシューティング ガイド

最初の C++ プロジェクトを作成するときの一般的な問題の解決策については、こちらを参照してください。

### <a name="create-your-app-project-issues"></a>アプリのプロジェクトを作成する: 問題

::: moniker range="msvc-160"

**[新しいプロジェクト]** ダイアログには、 **[C++]** 、 **[Windows]** 、および **[コンソール]** タグを持つ **[コンソール アプリ]** テンプレートが表示されます。 表示されない場合、原因は 2 つ考えられます。 リストから除外されているか、インストールされていない可能性があります。 まず、テンプレートでリストの上部にあるフィルター ドロップダウンを確認します。 これらを **[C++]** 、 **[Windows]** 、 **[コンソール]** に設定します。 C++ **コンソール アプリ** のテンプレートが表示されます。それ以外の場合、 **[C++ によるデスクトップ開発]** ワークロードがインストールされていません。

**[C++ によるデスクトップ開発]** をインストールするには、 **[新しいプロジェクト]** ダイアログからインストーラーを直接実行できます。 テンプレート リストの下部にある **[さらにツールと機能をインストールする]** リンクを選択して、インストーラーを起動します。 **[ユーザー アカウント制御]** ダイアログでアクセス許可が要求される場合は、 **[はい]** を選択します。 インストーラーで、 **[C++ によるデスクトップ開発]** ワークロードがオンになっていることを確認してください。 次に、 **[変更]** を選択し、Visual Studio のインストールを更新します。

同じ名前の別のプロジェクトが既に存在する場合は、プロジェクトに別の名前を選択します。 または、既存のプロジェクトを削除して、やり直します。 既存のプロジェクトを削除するには、エクスプローラーでソリューション フォルダー ( *helloworld.sln* ファイルが格納されているフォルダー) を削除します。

[前に戻る](#create-your-app-project)。

::: moniker-end

::: moniker range="msvc-150"

**[新しいプロジェクト]** ダイアログの **[インストール済み]** の下に **[Visual C++]** エントリが表示されない場合、Visual Studio に **[C++ によるデスクトップ開発]** ワークロードがインストールされていない可能性があります。 インストーラーは、 **[新しいプロジェクト]** ダイアログから直接実行できます。 **[Visual Studio インストーラーを開く]** リンクを選択して、インストーラーを再度起動します。 **[ユーザー アカウント制御]** ダイアログでアクセス許可が要求される場合は、 **[はい]** を選択します。 必要に応じて、インストーラーを更新します。 インストーラーで **[C++ によるデスクトップ開発]** ワークロードがオンになっていることを確認し、 **[OK]** を選択して Visual Studio のインストールを更新します。

::: moniker-end

::: moniker range="<=msvc-150"

同じ名前の別のプロジェクトが既に存在する場合は、プロジェクトに別の名前を選択します。 または、既存のプロジェクトを削除して、やり直します。 既存のプロジェクトを削除するには、エクスプローラーでソリューション フォルダー ( *helloworld.sln* ファイルが格納されているフォルダー) を削除します。

[前に戻る](#create-your-app-project)。

### <a name="make-your-project-a-console-app-issues"></a>プロジェクトをコンソール アプリにする: 問題

**[構成プロパティ]** の下に **[リンカー]** が表示されない場合は、 **[キャンセル]** を選択して、 **[プロパティ ページ]** ダイアログを閉じます。 再試行する前に、 **HelloWorld** プロジェクトが **ソリューション エクスプローラー** で選択されていることを確認してください。 **ソリューション エクスプローラー** で **HelloWorld** ソリューション、または別の項目を選択しないでください。

ドロップダウン コントロールは、プロパティを選択するまで、 **[サブシステム]** プロパティ編集ボックスに表示されません。 編集ボックスをクリックして選択します。 または、 **Tab** キーを押して、 **[サブシステム]** が強調表示されるまでダイアログ コントロールを切り替えることができます。 ドロップダウン コントロールを選択するか、 **Alt + 下方向** キーを押して開きます。

[前に戻る](#make-your-project-a-console-app)

### <a name="add-a-source-code-file-issues"></a>ソース コード ファイルを追加する: 問題

ソース コード ファイルに別の名前を付けてもかまいません。 ただし、同じコードを含む複数のファイルをプロジェクトに追加しないでください。

ヘッダー ファイルなど、間違ったファイルの種類をプロジェクトに追加した場合は、それを削除して、やり直してください。 ファイルを削除するには、 **ソリューション エクスプローラー** で選択します。 次に **Del** キーを押します。

[前に戻る](#add-a-source-code-file)。

### <a name="add-code-to-the-source-file-issues"></a>ソース ファイルにコードを追加する: 問題

ソース コード ファイル エディターウィンドウを誤って閉じた場合は、簡単にもう一度開くことができます。 開くには、 **[ソリューション エクスプローラー]** ウィンドウで [HelloWorld.cpp] をダブルクリックします。

ソース コード エディター内の任意の項目の下に赤の波線が表示される場合は、コードのスペル、句読点、および大文字小文字が例と一致することを確認します。 C++ コードでは大文字小文字の区別が重要です。

[前に戻る](#add-code-to-the-source-file)。

::: moniker-end

<iframe src="" height="0" width="0" frameborder="0" name="frameTarget" />
